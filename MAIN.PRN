                  ATARI CAMAC Assembler Ver  1.0A  Page   1
  Donkey Kong  Thur Feb 24, 1983                       D1:HDR.            
  MACROs                                            

                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;;                                                      ;;
                    ;;      Header file for Donkey Kong vanilla assembly    ;;
                    ;;                                                      ;;
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    
                    
        = 0000      false   =       0               ; "Everything I say..."
        = FFFF      true    =       not false       ; yes?
                    
        = FFFF      debug   =       true            ; turn on debugging code
        = 0000      rom     =       false           ; true if generating code for ROM
        = FFFF      runram  =       true            ; turn off ROM protection code
        = FFFF      invinc  =       true            ; true if protagonist is invincible
                    
                            link    d:main          ; include DK main level after this file
                            list    i
                            include d:macs          ; need macros for DBUG
  0000              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;;                                                      ;;
                    ;;                      MACROs                          ;;
                    ;;                                                      ;;
                    ;;           Sundry time savers and cute hacks          ;;
                    ;;                                                      ;;
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    
                    
                    ;
                    ; double-load immediate
                    dldi    MACRO   dest,imm
                    %L      LDA     #LOW %2
                            STA     %1
                            LDA     #HIGH %2
                            STA     %1+1
                            ENDM
                    
                    ;
                    ; single-load immediate
                    ldi     MACRO   dest,imm
                    %L      LDA     #%2
                            STA     %1
                            ENDM
                    
                    ;
                    ; single-load immediate indexed off of X
                    ldix    MACRO   destbase,imm
                    %L      LDA     #%2
                            STA     %1,X
                            ENDM
                    
                    ;
                    ; single-load immediate indexed off of Y
                    ldiy    MACRO   destbase,imm
                    %L      LDA     #%2
                            STA     %1,Y
                            ENDM
                    
                  ATARI CAMAC Assembler Ver  1.0A  Page   2
  Donkey Kong  Thur Feb 24, 1983                       D1:MACS.           
  MACROs                                            

                    ;
                    ; load X and Y with an address
                    ; X gets the high byte
                    ; Y gets the low byte
                    ldxy    MACRO   somenumber
                    %L      LDY     #LOW %1
                            LDX     #HIGH %1
                            ENDM
                    
                    ;
                    ; double move
                    dmv     MACRO   dest,source
                    %L      LDA     %2
                            STA     %1
                            LDA     %2+1
                            STA     %1+1
                    
                            ENDM
                    
                    ;
                    ; single move
                    mv      MACRO   dest,source
                    %L      LDA     %2
                            STA     %1
                            ENDM
                    
                    ;
                    ; branch if (previous compare) less than
                    blt     MACRO   where
                    %L      BCC     %1
                            ENDM
                    
                    ;
                    ; branch if (previous compare) greater than or equal
                    bge     MACRO   where
                    %L      BCS     %1
                            ENDM
                    
                    
                    ;
                    ; double-increment
                    dinc    MACRO   where
                    %L      INC     %1
                            BNE     ?%K
                            INC     %1+1
                    ?%K
                            ENDM
                    
                    ;
                    ; double-decrement
                    ddec    MACRO   where
                    %L      DEC     %1
                            INC     %1
                            BNE     ?%K
                            DEC     %1+1
                    ?%K     DEC     %1
                    
                  ATARI CAMAC Assembler Ver  1.0A  Page   3
  Donkey Kong  Thur Feb 24, 1983                       D1:MACS.           
  MACROs                                            

                            ENDM
                    
                    ;
                    ; double add
                    dadd    MACRO   dest,src
                    %L      CLC
                            LDA     %2
                            ADC     %1
                            STA     %1
                            LDA     %2+1
                            ADC     %1+1
                            STA     %1+1
                            ENDM
                    
                    ;
                    ; double-add immediate
                    dadi    MACRO   dest,imm
                    %L      CLC
                            LDA     #LOW %2
                            ADC     %1
                            STA     %1
                            LDA     #HIGH %2
                            ADC     %1+1
                            STA     %1+1
                    
                            ENDM
                    
                    ;
                    ; double-subtract
                    dsub    MACRO   dest,src
                    %L      SEC
                            LDA     %1
                            SBC     %2
                            STA     %1
                            LDA     %1+1
                            SBC     %2+1
                            STA     %1+1
                            ENDM
                    
                    ;
                    ; double-subract immediate
                    dsubi   MACRO   dest,imm
                    %L      SEC
                            LDA     %1
                            SBC     #LOW %2
                            STA     %1
                            LDA     %1+1
                            SBC     #HIGH %2
                            STA     %1+1
                    
                            ENDM
                    ;
                    ; double-load off of X from high, low table
                    tldx    MACRO   dest,table
                    %L      LDA     %2H,X
                            STA     %1+1
                            LDA     %2L,X
                  ATARI CAMAC Assembler Ver  1.0A  Page   4
  Donkey Kong  Thur Feb 24, 1983                       D1:MACS.           
  MACROs                                            

                            STA     %1
                    
                            ENDM
                    
                    ;
                    ; double load from table indexed by Y
                    tldy    MACRO   dest,table
                    %L      LDA     %2H,Y
                            STA     %1+1
                            LDA     %2L,Y
                            STA     %1
                    
                            ENDM
                    
                    ;
                    ; PERC is used for difficulty tables.  It takes one argument, a
                    ; probability factor N from 0% to 99%, and DBs a value such that the
                    ; register RANDOM will be /less/ than that value N% of the time.
                    ;
                    perc    MACRO   probability_in_percent
                    %L      db      high [%1 * 655]
                            ENDM
                    
                    ;
                    ; ODLINE is used to compute a scanline offset.  Its argument is a
                    ; scanline number, and it DBs an offset into the display list.
                    ;
                    ; ***WARNING***WARNING***WARNING***WARNING***WARNING***WARN...urk!
                    ; This code is highly dependent on the fact that the graphics display
                    ; starts on a 4K boundary plus $100, and that there are exactly 198
                    ; scanlines.  It assumes various things about the display list.  So, if
                    ; you are foolish enough to tweak things in the display list, be careful
                    ; lest you break something.
                    ;
                    odline  MACRO   scanline_number
                            if      %1 = 0
                    %L      db      0
                            endif
                            if      %1 < 96 and %1 <> 0
                    %L      db      %1+2
                            endif
                            if      %1 > 96
                    %L      db      %1+4
                            endif
                            ENDM
                    
                    ;
                    ; begin local label area
                    ; (Sort of a kludge...but it works....)
                    local   MACRO   no_arguments
                            EPROC
                    %L      PROC
                            ENDM
                            list    *
                  ATARI CAMAC Assembler Ver  1.0A  Page   5
  Donkey Kong  Thur Feb 24, 1983                       D1:MAIN.           
  MACROs                                            

                    
                            link    d:test          ; testing code
                    
        = 0000              if      false
                    
     -                      link    d:play          ; top level PLAY module, foreground
                    
                    
                            endif
                    
                            link    d:kong
                            link    d:dli           ; DLI handlers
                    
        = 0000              if      1<0
                    
                    
     -                      link    d:spawn         ; foreground spawning stuff
                    
                    
                            endif
                    
                            link    d:vbh           ; vblank driver
                            link    d:snd           ; sound drivers
                    
                    
        = 0000              if      1<0
                    
                    
     -                      link    d:sched         ; critter update scheduler
     -                      link    d:crit          ; critter common code
     -                      link    d:bar           ; barrels
     -                      link    d:fb            ; fireballs, firefoxen
     -                      link    d:spr           ; spring animation [boink! -ed]
     -                      link    d:prot1         ; Mario
     -                      link    d:prot2         ; Mario, continued.
     -                      link    d:rmriv         ; Rivet removal
     -                      link    d:elev          ; Elevator platform update
     -                      link    d:anim          ; Random animation (explosions, etc.)
     -                      link    d:collis        ; Collision detection
                    
                    
                            endif
                    
                            link    d:draw          ; pixel engines
                            link    d:scrgen        ; screen generation
                    ;       link    d:cart          ; cartoons
                            link    d:cartun
                            link    d:misc          ; cruft
                    
                    
        = 0000              if      1<0
                    
     -                      link    d:altorg        ; *** ORG for 16K overflow ***
                    
                    
                            endif
                    
                  ATARI CAMAC Assembler Ver  1.0A  Page   6
  Donkey Kong  Thur Feb 24, 1983                       D1:MAIN.           
  MACROs                                            

                            link    d:sndtbl        ; sound tables
                            link    d:fonts         ; cute bit-maps
                    
                    
        = 0000              if      1<0
                    
     -                      link    d:mario.fnt     ; fonts for Mario, Hammer
                    
                            endif
                    
                            link    d:kong.fnt
                            link    d:lady.fnt      ; playfield for Lady
                    
                    
        = 0000              if      false
     -                      link    d:barrel.fnt    ; rolling barrel fonts
     -                      link    d:fbarrel.fnt   ; falling barrel fonts
     -                      link    d:fthings.fnt   ; Fire-thingies (fireballs, firefoxen)
     -                      link    d:spring.fnt    ; springs
                    
     -                      link    d:kongdata.fnt  ; kong fonts
     -                      link    d:kickdata.fnt  ; Lady kicking fonts
                    
                            endif
                    
                            link    d:end           ; wraps everything up
                    
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;;                                                                   ;;
                    ;;                          D O N K E Y                              ;;
                    ;;                            K O N G                                ;;
                    ;;                                                                   ;;
                    ;;                                                                   ;;
                    ;;Just when you thought it was safe to come back from the arcades....;;
                    ;;                                                                   ;;
                    ;;Perpetrator: Landon Dyer                                           ;;
                    ;;                                                                   ;;
                    ;;HISTORY:                                                           ;;
                    ;;Nov '82 - IDS, initial coding                                      ;;
                    ;;Dec '82 - more coding, hair pulling, general cruftiness            ;;
                    ;;Jan '83 - schedule screaming, rampant insanity, accusations        ;;
                    ;;Feb '83 - semi-winnage, accompanied by cries of anguish and threats;;
                    ;;Mar '83 - Lucifer announces a cooling trend                        ;;
                    ;;                                                                   ;;
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;
                    ;
                    
                            list    i               ; (lets list includes, too)
                            include d:glob          ; get global defs
                  ATARI CAMAC Assembler Ver  1.0A  Page   7
  Donkey Kong  Thur Feb 24, 1983                       D1:GLOB.           
  Header equates                                    

  0000              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;;                                                       ;;
                    ;;             Donkey Kong global header                 ;;
                    ;;                                                       ;;
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    
                    
                    ;
                    ; Bases for various sections of memory
                    ;
                    
        = 0080      zpbase  =       $80             ; base for zero-page usage
        = FFFF              if      not rom
        = 0000      membas  =       $0000           ; base for random mem usage
        = 2100      gbase   =       membas+$2100    ; base for Þ>8K of graphics mem
        = 8000      codbas  =       $8000           ; base for Ram devo
        = E000      garbage =       $e000           ; at least 1 page of writable scratch mem
                            else
     -              membas  =       $0000           ; base for random mem usage
     -              gbase   =       $2100           ; base for Þ>8K of graphics mem
     -              codbas  =       $8000           ; base for 16K cartridge
     -              garbage =       $e000           ; at least 1 page of writable scratch mem
                            endif
                    
        = 2000      gsize   =       8*1024          ; size of graphics mem
        = 0400      shfont  =       membas+$400     ; base for shifted fonts
        = 0D00      revmsk  =       membas+$d00     ; Byte mirroring table (reverse order of bits)
        = 0E00      glob    =       membas+$0e00    ; base for globals
        = 1000      pmb     =       membas+$1000    ; base for Player/Missile register
        = 1800      lmap    =       membas+$1800    ; base for 3 pages of line-map
        = 1B00      pfmsk   =       membas+$1b00    ; base for 1 page of pixel masks
        = 1C00      sndbuf  =       membas+$1c00    ; 5 pages for unpacking sound tables
                    
        = 1000      addrl   =       pmb                     ; scanline address table
        = 1100      addrh   =       pmb+$100
        = 1200      dbase   =       pmb+$200                ; display list
        = 1300      mis     =       pmb+$300                ; missiles
        = 1400      pl0     =       pmb+$400                ;  and players
        = 1500      pl1     =       pmb+$500
        = 1600      pl2     =       pmb+$600
        = 1700      pl3     =       pmb+$700
                    
        = 0029      lmapgs  =       41                      ; size of per-rack constant area
        = 001A      lmapwid =       26                      ; width of lmap line in segments
        = 0006      nlmapln =       6                       ; number of lmap lines
        = 009C      lmapsiz =       lmapwid*nlmapln         ; size of an lmap entry
        = 1800      lmapda  =       lmap                    ; LMAPGS bytes for per-rack constants
        = 1829      lmapi   =       lmap+lmapgs             ; magic girder bits
        = 18C5      lmaph   =       lmapi+lmapsiz           ; height
        = 1961      lmapl   =       lmaph+lmapsiz           ; ladder destination
        = 19FD      lmapc   =       lmapl+lmapsiz           ; critter in segment
                            assert  lmapc+lmapsiz < pfmsk
                  ATARI CAMAC Assembler Ver  1.0A  Page   8
  Donkey Kong  Thur Feb 24, 1983                       D1:GLOB.           
  Zero-page usage                                   

  0000              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;;                                                      ;;
                    ;;                  Zero-Page usage                     ;;
                    ;;                                                      ;;
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    
  0000  = 0080              org     zpbase
  0080  = 0002      tmp     ds      2               ; Foreground temps
  0082  = 0002      tmp1    ds      2
  0084  = 0002      tmp2    ds      2
  0086  = 0002      tmp3    ds      2
  0088  = 0002      tmp4    ds      2
                    
  008A  = 0002      vtmp    ds      2               ; VBL temps
  008C  = 0002      vtmp1   ds      2
  008E  = 0002      vtmp2   ds      2
  0090  = 0002      vtmp3   ds      2
  0092  = 0002      vtmp4   ds      2
  0094  = 0002      vtmp5   ds      2
                    
        = 0081      tmph    =       tmp+1           ; addrs of high bytes of temps
        = 0083      tmp1h   =       tmp1+1
        = 0085      tmp2h   =       tmp2+1
        = 0087      tmp3h   =       tmp3+1
        = 0089      tmp4h   =       tmp4+1
                    
        = 008B      vtmph   =       vtmp+1
        = 008D      vtmp1h  =       vtmp1+1
        = 008F      vtmp2h  =       vtmp2+1
        = 0091      vtmp3h  =       vtmp3+1
        = 0093      vtmp4h  =       vtmp4+1
        = 0095      vtmp5h  =       vtmp5+1
                    
  0096  = 0002      ztemp1  ds      2               ; cartoon temp
  0098  = 0002      ztemp2  ds      2               ; cartoon temp
                    
  009A  = 0001      vsem    ds      1               ; VBL mutual exclusion semaphore
  009B  = 0001      animon  ds      1               ; Animation vbl switch
  009C  = 0002      anivec  ds      2               ; Animation vector
  009E  = 0001      gameon  ds      1               ; Game vbl switch
                    
  009F  = 0001      alivep  ds      1               ; positive ==> jumpman is alive
  00A0  = 0001      ptxl    ds      1               ; fractional jumpman X position
  00A1  = 0001      ptxh    ds      1               ; integer jumpman X position
  00A2  = 0001      ptyl    ds      1               ; fractional jumpman Y position
  00A3  = 0001      ptyh    ds      1               ; integer jumpman Y position
                    
  00A4  = 0001      bcfrac  ds      1               ; bonus clock jiffy counter
  00A5  = 0001      keydb   ds      1               ; pause key debounce jiffy counter
                    
  00A6  = 0001      snmien  ds      1               ; NMIEN fake shadow
  00A7  = 0001      ssizem  ds      1               ; SIZEM fake shadow
                    
  00A8  = 0001      mdonep  ds      1               ; sound effects done-P
                    
  00A9  = 0001      dlicnt  ds      1               ; DLI counter.  Zeroed early in VBL
                    
                  ATARI CAMAC Assembler Ver  1.0A  Page   9
  Donkey Kong  Thur Feb 24, 1983                       D1:GLOB.           
  Zero-page usage                                   

  00AA  = 0001      otrig   ds      1               ; non-zero ==> joystick trigger invalid
                    
  00AB  = 0001      lstupd  ds      1               ; last object updated (for Sched() use)
  00AC  = 0001      ccbits  ds      1               ; copy of CBITS[i] for critter update
  00AD  = 0001      ccstat  ds      1               ; copy of CSTAT[i] likewise
  00AE  = 0001      ccrit   ds      1               ; what critter# is being updated
                    
                    ;
                    ; DRAW zero-page usage
                    ;
  00AF  = 0001      yi      ds      1               ; current line number
  00B0  = 0001      xi      ds      1               ; horz index
  00B1  = 0001      xisav   ds      1               ; (permanent) starting horz index
  00B2  = 0001      hei     ds      1               ; height in lines
  00B3  = 0001      rn      ds      1               ; number of bytes per line to write
  00B4  = 0001      rinc    ds      1               ; number of bytes per line to skip
  00B5  = 0002      dest    ds      2               ; destination pointer
  00B7  = 0002      src     ds      2               ; source base-pointer
  00B9  = 0001      si      ds      1               ; index into source
  00BA  = 0001      shcnt   ds      1               ; right-shift count
  00BB  = 0001      shbits  ds      1               ; previous bits, for right-shifting
                    
                    ;
                    ; VDRAW zero-page usage
                    ;
  00BC  = 0001      vyi     ds      1               ; current line number
  00BD  = 0001      vxi     ds      1               ; horz index
  00BE  = 0001      vxisav  ds      1               ; (permanent) starting horz index
  00BF  = 0001      vhei    ds      1               ; height in lines
  00C0  = 0001      vrn     ds      1               ; number of bytes per line to write
  00C1  = 0001      vrinc   ds      1               ; number of bytes per line to skip
  00C2  = 0002      vdest   ds      2               ; destination pointer
  00C4  = 0002      vsrc    ds      2               ; source base-pointer
  00C6  = 0001      vsi     ds      1               ; index into source
  00C7  = 0004      vzpsav  ds      4               ; four bytes for saving screen bytes
                    
                    ;
                    ; zeropage for sounds
                    ;
  00CB  = 0002      frq     ds      2               ; addr of current music freq table
  00CD  = 0002      cnt     ds      2               ; addr of current music control table
  00CF  = 0002      length  ds      2               ; addr of table for length of current note
  00D1  = 0002      sustain ds      2               ; addr of table for sustain of current note
  00D3  = 0002      stmp    ds      2               ;temp ptr for sound routines
                    
  00D5  = 0001      oldclk  ds      1
  00D6  = 0001      vdone   ds      1
                            assert  * < $100
                  ATARI CAMAC Assembler Ver  1.0A  Page  10
  Donkey Kong  Thur Feb 24, 1983                       D1:GLOB.           
  Global variables                                  

  00D7              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;;                                                      ;;
                    ;;                   Global Variables                   ;;
                    ;;                                                      ;;
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    
  00D7  = 0E00              org     glob
                    ;
                    ; These get zeroed at init-time by some code in Main()
                    ;
  0E00  = 0001      diff    ds      1               ; selected difficulty level [0..4]
  0E01  = 0001      nplyrs  ds      1               ; selected number of players [0,1]
  0E02  = 0006      hscore  ds      6               ; BCD of high score
                    
                    
                    ;
                    ; Per-player state
                    ; Locations from USR to PLAYED are swapped with USR1, for the two-player
                    ;  mode of the game.
                    ;
  0E08  = 0001      usr     ds      1               ; player number [0,1]
  0E09  = 0001      cusr    ds      1               ; player text [0..2]
  0E0A  = 0001      cdiff   ds      1               ; current difficulty level [0..4]
  0E0B  = 0001      clevel  ds      1               ; current level, sticks at 255
  0E0C  = 0001      rackn   ds      1               ; current rack number [0..3]
  0E0D  = 0001      curlvl  ds      1               ; private, maintained by NXTRAK
  0E0E  = 0001      nlives  ds      1               ; number of lives left
  0E0F  = 0006      cscore  ds      6               ; BCD of player's score
  0E15  = 0006      nxtlif  ds      6               ; BCD of next bonus-life threshold
  0E1B  = 0001      played  ds      1               ; 1 ==> not played any rounds yet
        = 0014      usrlen  =       *-usr           ; length of per-player area
                    
                    ;
                    ; alternate state area (for the other player)
                    ; (Must be positioned immediately after the first player's database)
                    ;
        = 0E1C      usr1    =       *
  0E1C  = 0014              ds      usrlen
                    
        = 0E30      rzerob  =       *               ; base of mem to zero (per-round)
                    
                    ;
                    ; these variables are zeroed at cart init time and also at round init time
                    ;
  0E30  = 0001      seqflg  ds      1               ; cartoon sequence number
  0E31  = 0001      pausep  ds      1               ; game pause switch, 1 ==> paused
                    
        = 0032      globlen =       *-glob          ; size of zeroed global area
                    
                    ;
                    ; These variables get zeroed just before the start of every round
                    ;
  0E32  = 0002              ds      2               ; leading zeroes for bclock
  0E34  = 0004      bclock  ds      4
  0E38  = 0001      ncrit   ds      1               ; total number of creature currently alive
  0E39  = 0001      nba     ds      1               ; total number of barrels alive
  0E3A  = 0001      nfth    ds      1               ; total number of fire-creatures alive
                  ATARI CAMAC Assembler Ver  1.0A  Page  11
  Donkey Kong  Thur Feb 24, 1983                       D1:GLOB.           
  Global variables                                  

  0E3B  = 0001      cdba    ds      1               ; (jiffy) creation delay for barrels
  0E3C  = 0001      cdfth   ds      1               ; (bonus ticker) creation delay for fire-creatures
  0E3D  = 0001      cdspr   ds      1               ; (jiffy) creation delay for springs
  0E3E  = 0001      cdbsn   ds      1               ; (jiffy) creation delay for sandpiles
  0E3F  = 0001      sprwher ds      1               ; where to create the next spring
  0E40  = 0001      spawfb  ds      1               ; flag to spawn a fireball [ramps only]
  0E41  = 0001      bacnt   ds      1               ; total barrels already created this round
                    
  0E42  = 0001      pstate  ds      1               ; Protagonist's state
  0E43  = 0001      ptlev   ds      1               ; Protagonist's level (always starts at zero...)
  0E44  = 0001      ptfont  ds      1               ; Protagonist's default font
  0E45  = 0001      hstate  ds      1               ; Hammer state (init = Off(!))
  0E46  = 0001      fstate  ds      1               ; Firebarrel state
  0E47  = 0001      lstate  ds      1               ; Lady's state
  0E48  = 0001      lfont   ds      1               ; Lady's current font (iff enable[curscr]&ENLADY != 0)
  0E49  = 0001      rackdn  ds      1               ; non-zero ==> rack finished succesfully
  0E4A  = 0001      slstate ds      1               ; non-zero ==> show '2UP' on scoreline
                    
                    ;
                    ; floating-score state
                    ;
  0E4B  = 0001      fscore  ds      1               ; floating-score state, and timer (nonzero = on, negative ==> redraw)
  0E4C  = 0001      fscorx  ds      1               ; X and Y position of floating score
  0E4D  = 0001      fscory  ds      1
  0E4E  = 0001      fscort  ds      1               ; floating score type (SC100, etc)
  0E4F  = 0001      clock   ds      1               ; gametime jiffy counter
                    
                    ;
                    ; Kong's state
                    ;
  0E50  = 0001      kstate  ds      1               ; state info for Kong animation
  0E51  = 0001      kongb   ds      1               ; Facing-font bits
  0E52  = 0001      kcrit   ds      1               ; Magic_bits for barrel Kong is about to create
        = 0023      endrlen =       *-rzerob        ; # bytes to clobber at round-init time
                    
                    ;
                    ; The rest of these aren't automatically cleared at all
                    ;
  0E53  = 0001      curscr  ds      1               ; current screen# (NOT rack#)
  0E54  = 0001      btimer  ds      1               ; bonus clock counter
                    
                    ;
                    ; Protagonist state vars, et al
                    ;
  0E55  = 0001      ptseg   ds      1               ; current lmap segment#
  0E56  = 0001      ptolds  ds      1               ; "previous" lmap segment#
  0E57  = 0001      ptjlev  ds      1               ; starting height of jump
  0E58  = 0001      ptdly   ds      1               ; random delays
  0E59  = 0001      ptmode  ds      1               ; random sub-states
  0E5A  = 0002      ptyvel  ds      2               ; current Y-velocity (16 bits signed)
  0E5C  = 0001      ptjdir  ds      1               ; jump direction (JYLF | LYRT)
  0E5D  = 0001      ptjcnt  ds      1               ; counter for #objects jumped-over
  0E5E  = 0001      ptoldd  ds      1               ; Pt facing direction (not really "old")
  0E5F  = 0001      ptoldy  ds      1               ; Y-position at previous PtDraw()
  0E60  = 0001      ptoldf  ds      1               ; PtFont at previous PtDraw()
                    
                    ;
                  ATARI CAMAC Assembler Ver  1.0A  Page  12
  Donkey Kong  Thur Feb 24, 1983                       D1:GLOB.           
  Global variables                                  

                    ; Hammer
  0E61  = 0001      htimer  ds      1               ; btimer value when hammer will go away
  0E62  = 0001      hcnt    ds      1               ; jiffy counter for up/down swing cycle
                    
                    ;
                    ; Firebarrel
  0E63  = 0001      ftimer  ds      1               ; jiffy counter: when to switch fonts
                    
                    ;
                    ; conveyerbelt timer & direction
  0E64  = 0001      ctimer  ds      1               ; value of BTimer for next reversal
  0E65  = 0001      cdir    ds      1               ; direction of cbelt at level 1
                    
                    ;
                    ; Kong
  0E66  = 0001      ktimer  ds      1               ; jiffy counter for state switching
                    
                    ;
                    ; Lady
  0E67  = 0001      ltimer  ds      1               ; jiffy counter: when to switch fonts
                    
                    ;
                    ; Explosion effect
                    ;
  0E68  = 0001      xplods  ds      1               ; counter for explosion state
  0E69  = 0001      xplodt  ds      1               ; jiffy counter for explosion animation
  0E6A  = 0001      xplodx  ds      1               ; base x_position for explosion
  0E6B  = 0001      xplody  ds      1               ; base y_position for explosion
                    
                    ;
                    ; Randoms
                    ;
  0E6C  = 0001      rivcnt  ds      1               ; rivits left
  0E6D  = 0001      umovep  ds      1               ; Sched(), 1 ==> something's moved
  0E6E  = 0001      updcnt  ds      1               ; Sched(), critter update count
                    
                    ;
                    ; Global variables used by cartoons
                    ;
  0E6F  = 0001      Kongi   ds      1
  0E70  = 0001      kongmx  ds      1
                    
  0E71  = 0001      Nellx   ds      1               ; Nell x position
  0E72  = 0001      Nelly   ds      1               ; Nell y position
  0E73  = 0001      Nelli   ds      1               ; Nell image number
                    
  0E74  = 0001      Lady1   ds      1               ; Top of ladders
  0E75  = 0001      Lady2   ds      1               ; Bottom of ladders
  0E76  = 0001      Ladx1   ds      1               ; Left Ladder
  0E77  = 0001      Ladx2   ds      1               ; Right Ladder
                    
  0E78  = 0001      Ftabpt  ds      1               ; :FTAB pointer
  0E79  = 0001      Repcnt  ds      1               ; Foreground counter
  0E7A  = 0001      Jiflg1  ds      1               ; Jiffy counter #1
  0E7B  = 0001      Jiflg2  ds      1               ; Jiffy counter #2
                    
                    ;
                  ATARI CAMAC Assembler Ver  1.0A  Page  13
  Donkey Kong  Thur Feb 24, 1983                       D1:GLOB.           
  Global variables                                  

                    ; The object table
                    ;
        = 0010      nobjs   =       16                      ; max # of objects (MUST be power of 2)
  0E7C  = 0010      cstat   ds      nobjs           ; public state
  0E8C  = 0010      pstat   ds      nobjs           ; private state
  0E9C  = 0010      cbits   ds      nobjs           ; magic bits (copied into CBITS by Sched)
  0EAC  = 0010      cmode   ds      nobjs           ; private state -- usually font#
  0EBC  = 0010      ccnt    ds      nobjs           ; private counter, usually a timer....
  0ECC  = 0010      ctyp    ds      nobjs           ; object species
  0EDC  = 0010      cupd    ds      nobjs           ; jiffy of last update
  0EEC  = 0010      clev    ds      nobjs           ; level in lmap
  0EFC  = 0010      cseg    ds      nobjs           ; segment-in-line
  0F0C  = 0010      cxl     ds      nobjs           ; X,Y addr, fraction + integer
  0F1C  = 0010      cxh     ds      nobjs
  0F2C  = 0010      cyl     ds      nobjs
  0F3C  = 0010      cyh     ds      nobjs
  0F4C  = 0010      coldx   ds      nobjs           ; MSB of old x,y integer, after move
  0F5C  = 0010      coldy   ds      nobjs
  0F6C  = 0010      coldm   ds      nobjs           ; old mode number
                  ATARI CAMAC Assembler Ver  1.0A  Page  14
  Donkey Kong  Thur Feb 24, 1983                       D1:GLOB.           
  Global variables                                  

                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ; WORK TABLES FOR MUSIC ROUTINES ;
                    ;         DONKEY KONG            ;
                    ; should be contiguously defined ;
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    
  0F7C              HAMIX                                   ;hammer index for channel 2,3,4
  0F7C  = 0001      MSTCTR  ds      1                       ;sound flag ctr
                    
                                                            ;global index for sound tables
  0F7D  = 0001      GLOBIX  ds      1                       ;used positions: 0,2,4,6
  0F7E  = 0001              ds      1                       ;MUSPR has processed all sound
  0F7F  = 0001              ds      1                       ;for this channel offset
  0F80  = 0001              ds      1
  0F81  = 0001              ds      1
  0F82  = 0001              ds      1
  0F83  = 0001              ds      1
  0F84  = 0001              ds      1
                                                            
                    
  0F85  = 0001      MUSFS   ds      1                       ;music freq shadow
  0F86  = 0001      MUSCS   ds      1                       ;music control shadow
  0F87  = 0001              ds      1                       ;channel 2 offset
  0F88  = 0001              ds      1
  0F89  = 0001              ds      1                       ;channel 3 offset
  0F8A  = 0001              ds      1
  0F8B  = 0001              ds      1                       ;channel 4 offset
  0F8C  = 0001              ds      1
                    
  0F8D  = 0001      SUSLNS  ds      1                       ;sustain length of note shadow
  0F8E  = 0001      TOTDRS  ds      1                       ;total duration of note shadow
  0F8F  = 0001              ds      1
  0F90  = 0001              ds      1
  0F91  = 0001              ds      1
  0F92  = 0001              ds      1
  0F93  = 0001              ds      1
  0F94  = 0001              ds      1
                    
                    ;
                    ; sound flags
                    ; zero ==> not running
                    ; one  ==> running
                    ;
        = 0F95      mstate  =       *                       ; base of sound flags
                    
  0F95  = 0001      pntfg   ds      1
  0F96  = 0001      sprfg   ds      1
  0F97  = 0001      grlfg   ds      1
  0F98  = 0001      grnfg   ds      1
  0F99  = 0001      falfg   ds      1
  0F9A  = 0001      stpfg   ds      1
  0F9B  = 0001      hamfg   ds      1
  0F9C  = 0001      atkfg   ds      1
  0F9D  = 0001      mr1fg   ds      1
  0F9E  = 0001      mr2fg   ds      1
  0F9F  = 0001      rotfg   ds      1
  0FA0  = 0001      rivfg   ds      1
                  ATARI CAMAC Assembler Ver  1.0A  Page  15
  Donkey Kong  Thur Feb 24, 1983                       D1:GLOB.           
  Global variables                                  

  0FA1  = 0001      jmpfg   ds      1
  0FA2  = 0001      wlkfg   ds      1
  0FA3  = 0001      howfg   ds      1
  0FA4  = 0001      intfg   ds      1
        = 000F      mstnum  =       intfg - mstate
                    
                    ;
                    ; Sound register 'shadows'
                    ;
  0FA5  = 0001      frq1s   ds      1
  0FA6  = 0001      cnt1s   ds      1
  0FA7  = 0001      frq2s   ds      1
  0FA8  = 0001      cnt2s   ds      1
  0FA9  = 0001      frq3s   ds      1
  0FAA  = 0001      cnt3s   ds      1
  0FAB  = 0001      frq4s   ds      1
  0FAC  = 0001      cnt4s   ds      1
                    
                    ;
                    ; more sound vars
                    ;
  0FAD  = 0001      INTRX1  ds      1
  0FAE  = 0001      INTRX2  ds      1
  0FAF  = 0001      vtime   ds      1
  0FB0  = 0001      MUSIC2  ds      1
  0FB1  = 0001      FALF3   ds      1
  0FB2  = 0001      falc3   ds      1
  0FB3  = 0001      GRNCNT  ds      1
                            assert  * < pmb
                  ATARI CAMAC Assembler Ver  1.0A  Page  16
  Donkey Kong  Thur Feb 24, 1983                       D1:GLOB.           
  Lmap globals                                      

  0FB4              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;;                                                              ;;
                    ;;                      Lmap globals                            ;;
                    ;;                                                              ;;
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;
                    ; These get unpacked along with the lmap, and are mainly things that
                    ; vary from rack to rack.  Its cheaper to put them here than in their
                    ; own seperate table.
                    ;
  0FB4  = 1800              org     lmap
  1800  = 0002      hamlev  ds      2                       ; hammer level, $ff ==> inactive
  1802  = 0002      hamx    ds      2                       ; hammer x pos
  1804  = 0002      hamy    ds      2                       ; hammer y pos
  1806  = 0002      scrin   ds      2                       ; init code addr
  1808  = 0002      scrst   ds      2                       ; lmap setup code addr
  180A  = 0002      dlvec   ds      2                       ; DLI handler
                    
                    ;
                    ; prize stuff (there's a maximum of 3 prizes at once on the screen)
                    ;
  180C  = 0003      prizpos ds      3                       ; horz positions for prizes
  180F  = 0003      prizy   ds      3                       ; index into PL3 for prize
  1812  = 0003      priztyp ds      3                       ; type of prizes (for graphics)
  1815  = 0003      prizlev ds      3                       ; level# for prize
                    
                    ;
                    ; pointers to ladder fonts (for changing ladder colors)
                    ;
  1818  = 0002      clad4   ds      2                       ; 4-high ladder graphics
  181A  = 0002      clad1   ds      2                       ; 1-high ladder graphics
  181C  = 0002      cladr1  ds      2                       ; 1-high ladder rung
  181E  = 0001      ladx    ds      1                       ; x_pos of double ladders (or zero, if none)
  181F  = 0001      ladmax  ds      1                       ; bottom point of double ladders
  1820  = 0001      ladmin  ds      1                       ; top point of double ladders
                    
                    ;
                    ; other random stuff
                    ;
  1821  = 0001      finrack ds      1                       ; lmap level# Mario must climb to
  1822  = 0001      killlev ds      1                       ; lmap level# that kills Mario
  1823  = 0001      ladyx   ds      1                       ; lady's x,y position base
  1824  = 0001      ladyy   ds      1
  1825  = 0001      kongx   ds      1                       ; Kong's x,y position base
  1826  = 0001      kongy   ds      1
  1827  = 0001      kongkl  ds      1                       ; Kong's level
  1828  = 0001      kongsg  ds      1                       ; Kong's segment number
                            assert  * = lmapi
                  ATARI CAMAC Assembler Ver  1.0A  Page  17
  Donkey Kong  Thur Feb 24, 1983                       D1:GLOB.           
  Tunable equates                                   

  1829              ;
                    ; These are somewhat tunable...
        = 0005      broklad =       5               ; height of broken ladder segment
        = 0021      pausech =       $21             ; Pause character is spacebar
                    
        = 0078      bcdly   =       120             ; # of jiffies for a bonus-clock tick (2 sec)
                    
        = 0010      PtHei   =       16              ; height of protagonist fonts
        = 0002      PtHyst  =       2               ; "hysteresis" for ladder-climbing
                    
        = 0006      PtDie1  =       06              ; VBls between fonts of die-effect
        = 002D      PtDie2  =       45              ; 3/4s before die sequence starts
        = 004B      PtDie3  =       75              ; about 1s for final halo font
                    
        = 0090      PtVeLd  =       $0090           ; Jumpman velocity on ladder
        = 00A0      PtWVel  =       $00a0           ; Jumpman walking velocity
        = 0050      PtJXVel =       $0050           ; Jumpman x-velocity for fwd or backwd jump
        = 0060      cspeed  =       $60             ; conveyerbelt speed
                            assert  cspeed < $80    ;  ['cause the damn code is wired]
        = 0005      cdelay  =       5               ; 4.5 bonus ticks for reversal
                    
                    ;
                    ; PtSvel and PtYacc are governed by the usual Newtonian equations of
                    ; motion.  Note that PtSvel must never exceed $100, since the jump
                    ; code can't handle it.  The code in PSFALL will, however, handle it
                    ; (mainly 'cause it HAS to....)
                    ;
                    
        = FE70      PtSVel  =       -400            ; Jumpman start-jump velocity
        = 0014      PtYAcc  =       20              ; Gravity's acceleration, for every object
        = 0014      gravity =       ptyacc          ; just a synonym
        = 009B      PtMaxX  =       160-5           ; Jumpman max X-position
                    
        = 0006      GRWID   =       6               ; width of a girder segment
        = 0006      GRHEI   =       6               ; height of a girder segment
                  ATARI CAMAC Assembler Ver  1.0A  Page  18
  Donkey Kong  Thur Feb 24, 1983                       D1:GLOB.           
  Random equates                                    

  1829              
                    ;
                    ; graphics
                    ;
        = 0030      pmx     =       $30             ; player offset of left side of playfld
        = 0020      pmy     =       $20             ; player offset of original top of screen
        = 000E      gmode   =       $e              ; graphics mode
        = 00C6      nlines  =       198             ; # of lines maintained in Playfield
        = 00C6      vlines  =       198             ; # of lines visible at a time
        = 00A0      nwide   =       160             ; # of pixels wide (std playfield)
        = 0028      bwide   =       40              ; # of bytes wide
                    
        = 000D      njydn   =       $0f - JYDN      ; mask for pure joystick-down
        = 000E      njyup   =       $0f - JYUP      ; mask for pure joystick-up
                    
        = 0000      RKRAMP  =       0               ; Ramps rack
        = 0000      rkcrt1  =       0               ; For intro cartoon
        = 0001      RKZIGR  =       1               ; Ziggurat rack
        = 0002      RKELEV  =       2               ; Elevators rack
        = 0003      RKCONV  =       3               ; Conveyerbelt rack
                    
                    
                    ;
                    ; enable-bits for features of the various racks
                    ;
        = 0080      enlady  =       %10000000       ; enable the wiggling lady
        = 0040      entkong =       %01000000       ; enable kong throwing barrels
        = 0020      enskong =       %00100000       ; enable stamping-kong
        = 0010      enlkong =       %00010000       ; enable kong with lady under arm
                    
                    
                    ;
                    ; Sound effects
                    ;
        = 0000      snintro =       0               ; Music for introductory cartoon
        = 0001      snattak =       1               ; Background theme for hammer-attack
        = 0002      snjump  =       2               ; Ephemeral for Mario jumping
        = 0003      snpoin  =       3               ; Ephemeral for point-scoring
        = 0004      snstamp =       4               ; Ephemeral for Kong stamping
        = 0005      snwalk  =       5               ; Background for Mario walking
        = 0006      snmar1  =       6               ; Background march theme #1
        = 0007      snmar2  =       7               ; Background march theme #2
        = 0008      sngirl  =       8               ; Music for Mario at top of Ziggurat
        = 0009      snhmuch =       9               ; Music for "How-high" cartoon
        = 000A      snrotat =       10              ; Music for Mario dying (rotating)
        = 000B      snrivet =       11              ; Music for removing last rivet
        = 000C      snsprin =       12              ; Ephemeral/Background for bouncing spring
        = 000D      snfall  =       13              ; Ephemeral for object falling
        = 000E      snbuzz  =       14              ; AKA sngrin
        = 000E      sngrin  =       14              ; Ephemeral for Kong grimacing
        = 000F      snhamm  =       15              ; Hammer sound (?what???)
        = 0010      snbeat  =       16              ; Kong beats chest
                    
                    
                    ;
                    ; Species equates:
                    ;
                  ATARI CAMAC Assembler Ver  1.0A  Page  19
  Donkey Kong  Thur Feb 24, 1983                       D1:GLOB.           
  Random equates                                    

        = 0000      SPBAR   =       0               ; Barrel or Beam
        = 0001      SPFB    =       1               ; Fireball
        = 0002      SPFF    =       2               ; Firefox
        = 0003      SPSAND  =       3               ; Sandpile
        = 0004      SPSPR   =       4               ; Spring ("mad jackhammer"?)
        = 0005      SPMOVL  =       5               ; Movable ladder
        = 0006      SPKONG  =       6               ; Kong himself
                    
                    ;
                    ; Masks for bits in LMAPI[]
                    ;
                    ;       +-------+-------+-------+-------+-------+-------+-------+-------+
                    ;       |       |       |                       |                       |
                    ;       | Hammer| Rivet | LDUPP  Ladder  LDBRKP |       Girder          |
                    ;       |  bit  |  bit  | magic  flavor  magic  |       flavor          |
                    ;       |       |       | bit            bit    |                       |
                    ;       +---7---+---6---+---5---+---4---+---3---+---2---+---1---+---0---+
                    ;
                    ;
        = 0080      HAMASK  =       %10000000       ; Hammer-P bit
        = 0040      RIMASK  =       %01000000       ; Rivet-P bit (never changes)
                    
        = 0038      LDMASK  =       @70             ; Ladder-bits mask
        = 0020      LDUPP   =       %00100000       ; Ladder-up-P (1==> ladder goes up from here)
        = 0008      LDBRKP  =       %00001000       ; Ladder-broken-P (1 ==> ladder is broken)
        = 0000      LDEMPT  =       @00             ; No ladder
        = 0008      LDTOPM  =       @10             ; Top of moving ladder
        = 0010      LDTOP   =       @20             ; Top of a ladder
        = 0018      LDTOPB  =       @30             ; Top of a broken ladder
        = 0020      LDBOT   =       @40             ; Bottom of a ladder
        = 0028      LDBOTB  =       @50             ; Bottom of a broken ladder
                    
        = 0007      GRMASK  =       @7              ; Girder-bits mask
        = 0000      GREMPT  =       @0              ; No girder or rivet
        = 0001      GRAMP1  =       @1              ; right half of girder #1
        = 0002      GRRIVE  =       @2              ; Girder with rivet
        = 0003      GRTUBE  =       @3              ; 'Tube' girder for Ziggurat
        = 0004      GRCONV  =       @4              ; conveyerbelt
        = 0005      GRBLNK  =       @5              ; blank girder segment
        = 0006      GRELVD  =       @6              ; down-elevator segment
        = 0007      GRPULL  =       @7              ; pully
                    
                    ;
                    ; Masks for bits in critter public state variable CStat[]
                    ;
        = 0080      CTDIE   =       %10000000       ; 1 ==> obj is dying
        = 0040      CTJUMP  =       %01000000       ; 1 ==> obj has been jumped over
        = 0008      CTDISS  =       %00001000       ; 1 ==> trying to disappear
                                                    ; 0 ==> trying to re-appear
        = 0004      CTUNDR  =       %00000100       ; 1 ==> undrawn
        = 0001      CTALIV  =       %00000001       ; 1 ==> obj is alive
                    
                    ;       +-------+-------+-------+-------+-------+-------+-------+-------+
                    ;       |       |       |       |       |       |       |       |       |
                    ;       | CTDIE | CTJUMP|       |       | CTDISS| CTUNDR|       | CTALIV|
                    ;       |       |       |       |       |       |       |       |       |
                    ;       +---7---+---6---+---5---+---4---+---3---+---2---+---1---+---0---+
                  ATARI CAMAC Assembler Ver  1.0A  Page  20
  Donkey Kong  Thur Feb 24, 1983                       D1:GLOB.           
  Random equates                                    

                    
                    
                    ;
                    ; this is the mandatory value for a creature's "ladder" state.  It is
                    ; global because Mario shouldn't receive points for jumping over a
                    ; creature that is climbing or descending a ladder.
                    ;
        = 0002      globlad =       2               ; Pstat[x] == GlobLad ==> on a ladder
                    
                    ;
                    ; This bit tells the REDRAW routine whether to draw a critter normally,
                    ; or to translate PF0 to PF1 during the drawing process (for Beams, blue
                    ; fireballs and firefoxen, and so on...)
                    ;
        = 0080      CMBLUE  =       %10000000       ; 1 ==> turn blue ("look Mabel, its...")
                    
                    
                    ;
                    ; Score values
                    ;
        = 0000      SC100   =       0               ; "100"
        = 0001      SC300   =       1               ; "300"
        = 0002      SC500   =       2               ; "500"
        = 0003      SC800   =       3               ; "800"
        = 0004      SCZERO  =       4               ; "000" (force scoreline refresh)
        = 0005      SCBON   =       5               ; current value of bonus timer
        = 0080      SCFLOT  =       $80             ; make into floating score with PL3/M3
                    
                    ;
                    ; equates for printing strings with PUTS
                    ;
        = 00FF      EOL     =       $ff             ; End-of-string
        = 00FE      NL      =       $fe             ; newline
        = 00FD      PSXY    =       $fd             ; goto X,Y
        = 00FC      PSXINC  =       $fc             ; add arg to X position
        = 00FB      psquote =       $fb             ; quote a font-pointer
                    
        = 0006      immvbl  =       6               ; SETVBV arg for immediate VBL
                  ATARI CAMAC Assembler Ver  1.0A  Page  21
  Donkey Kong  Thur Feb 24, 1983                       D1:MAIN.           
  Random equates                                    

  1829  = 8000              org     codbas          ; This is a good place to start....
        = FFFF              if      debug           ; an easy entry point to remember
  8000  4C4585              jmp     main
                            endif
                            include d:tables        ; put tables at start
                  ATARI CAMAC Assembler Ver  1.0A  Page  22
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Pointers to code                                  

  8003              ;
                    ; These two macros simply store the low (resp. high) bytes of
                    ; exactly four arguments.
                    ;
                    low4    macro   four_pointers
                    %L      db      low %1, low %2, low %3, low %4
                            ENDM
                    
                    high4   macro   four_pointers
                    %L      db      high %1, high %2, high %3, high %4
                            ENDM
                    
                    ;
                    ; Pointers to crunched versions of LMAPs
                    ;
  8003              scrlml  low4    lmap0, lmap1, lmap2, lmap3
  8003 +9058EB33    SCRLML  db      low LMAP0, low LMAP1, low LMAP2, low LMAP3
  8007              scrlmh  high4   lmap0, lmap1, lmap2, lmap3
  8007 +80818282    SCRLMH  db      high LMAP0, high LMAP1, high LMAP2, high LMAP3
                    
        = 0000              if      false
                    ;
                    ; Cartoon initialization routines (foreground)
                    ;
     -              cartil  db      low icart0, low icart1, low icart2
     -              cartih  db      high icart0, high icart1, high icart2
                            endif
                    
                    
                    ;
                    ; Creature handlers
                    ;
U 800B  00000000    chndll  db      low ubar, low ufb, low ufb, low usand
U 800F  004E32              db      low uspr, low uladr, low rts
U 8012  00000000    chndlh  db      high ubar, high ufb, high ufb, high usand
U 8016  008985              db      high uspr, high uladr, high rts
 *Error page  22  ATARI CAMAC Assembler Ver  1.0A  Page  23
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Pointers to fonts, etc                            

  8019              ;
                    ; Pointers to even girder fonts
                    ;
  8019              gfntl   low4    blank,fgird1,rivet,fgird3
  8019 +0B0D8329    GFNTL   db      low BLANK, low FGIRD1, low RIVET, low FGIRD3
  801D                      low4    fgird4,blank,blank,blank
  801D +370B0B0B            db      low FGIRD4, low BLANK, low BLANK, low BLANK
  8021              gfnth   high4   blank,fgird1,rivet,fgird3
  8021 +9C9C9C9C    GFNTH   db      high BLANK, high FGIRD1, high RIVET, high FGIRD3
  8025                      high4   fgird4,blank,blank,blank
  8025 +9C9C9C9C            db      high FGIRD4, high BLANK, high BLANK, high BLANK
                    
                    ;
                    ; Pointers to odd girder fonts
                    ;
  8029              gfnt1l  low4    blank,fgird2,rivet,fgird3
  8029 +0B1B8329    GFNT1L  db      low BLANK, low FGIRD2, low RIVET, low FGIRD3
  802D                      low4    fgird4,blank,blank,blank
  802D +370B0B0B            db      low FGIRD4, low BLANK, low BLANK, low BLANK
  8031              gfnt1h  high4   blank,fgird2,rivet,fgird3
  8031 +9C9C9C9C    GFNT1H  db      high BLANK, high FGIRD2, high RIVET, high FGIRD3
  8035                      high4   fgird4,blank,blank,blank
  8035 +9C9C9C9C            db      high FGIRD4, high BLANK, high BLANK, high BLANK
                  ATARI CAMAC Assembler Ver  1.0A  Page  24
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Pointers to fonts, etc                            

                    ;
                    ; Offsets into lmap, by line number
                    ;
  8039  001A344E68  lmline  db      0,26,52,78,104,130,156
                    
                    ;
                    ; Horizontal screen (pixel) offset of a segment
                    ;
  8040  040A10161C  lmseg   db      4,10,16,22,28,34
  8046  282E343A40          db      40,46,52,58,64,70
  804C  4C52585E64          db      76,82,88,94,100,106
  8052  70767C8288          db      112,118,124,130,136
  8057  8E949A              db      142,148,154
                    
                    ;
                    ; Starting segment of player, for appropriate racks:
                    ;
  805A  03050001    ptsseg  db      3,5,0,1
                    
                    ;
                    ; Bonus-life threshold
                    ;
  805E  0000070000  onxtlf  db      0,0,7,0,0,0
                    
                    ;
                    ; First digit of bonus-clock for appropriate level
                    ;
  8064  0506070808  bcdigi  db      5,6,7,8,8
                    
                    ;
                    ; Score table (single digit for hacking hundreds-digit)
                    ;
  8069  0103050800  sctbl   db      1,3,5,8,0
                    
                    
                    ;
                    ; how much prizes are worth (based on the current level#)
                    ;
  806E  818283      prizamt db      sc300+SCFLOT, sc500+SCFLOT, sc800+SCFLOT
  8071  8383                db      sc800+SCFLOT, sc800+SCFLOT
                    
                    
                    ;
                    ; enable_bits for actions in the various screens
                    ;
  8073  C0          enable  db      enlady+entkong          ; Ramps
  8074  10                  db      enlkong                 ; Zigr
  8075  A0                  db      enlady+enskong          ; Elev
  8076  90                  db      enlkong+enlady          ; Conv
                    
                    
                    ;
                    ; This is the display-list header.  It consists of 23 blank lines, and
                    ; a DL-jump to the graphics display list area, causing another blank
                    ; line.
                    ;
  8077  707060      dlist   db      dlbl8,dlbl8,dlbl7
                  ATARI CAMAC Assembler Ver  1.0A  Page  25
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Pointers to fonts, etc                            

  807A  01                  db      dljmp
  807B  0012                dw      dbase
                    
                    ;
                    ; This is the Null display list.  It is used during setup and init
                    ;  time to make sure the screen doesn't roll or anything.
                    ;
  807D  41          nulldl  db      dljvb
  807E  7D80                dw      nulldl
                  ATARI CAMAC Assembler Ver  1.0A  Page  26
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  DLI line numbers                                  

  8080              ; Where to put DLI lines
                    ; The first four bytes are offsets pointing to the start of a vector of
                    ; display-list offsets to put DLI enable bits.
                    ; The list is terminated with a $ff.
                    ;
  8080              dlilns  local
       +                    EPROC
  8080 +            DLILNS  PROC
  8080  04070A0D            db      :dli0-dlilns, :dli1-dlilns, :dli2-dlilns, :dli3-dlilns
                    
  8084              :dli0   odline  32                      ; hack PF2 <- PF1
       += 0000              if      32 = 0
     - +                    db      0
       +                    endif
       += FFFF              if      32 < 96 and 32 <> 0
  8084 +22                  db      32+2
       +                    endif
       += 0000              if      32 > 96
     - +                    db      32+4
       +                    endif
  8085                      odline  192                     ; restore PF2
       += 0000              if      192 = 0
     - +                    db      0
       +                    endif
       += 0000              if      192 < 96 and 192 <> 0
     - +                    db      192+2
       +                    endif
       += FFFF              if      192 > 96
  8085 +C4                  db      192+4
       +                    endif
  8086  FF                  db      $ff                             ; (endit)
                    
  8087              :dli1   odline  42                      ; hack PL3 for prize
       += 0000              if      42 = 0
     - +                    db      0
       +                    endif
       += FFFF              if      42 < 96 and 42 <> 0
  8087 +2C                  db      42+2
       +                    endif
       += 0000              if      42 > 96
     - +                    db      42+4
       +                    endif
  8088                      odline  156                     ; hack PL3 for prize
       += 0000              if      156 = 0
     - +                    db      0
       +                    endif
       += 0000              if      156 < 96 and 156 <> 0
     - +                    db      156+2
       +                    endif
       += FFFF              if      156 > 96
  8088 +A0                  db      156+4
       +                    endif
  8089  FF                  db      $ff
                    
  808A              :dli2   odline  72                      ; hack PL3 for prize
       += 0000              if      72 = 0
     - +                    db      0
                  ATARI CAMAC Assembler Ver  1.0A  Page  27
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  DLI line numbers                                  

       +                    endif
       += FFFF              if      72 < 96 and 72 <> 0
  808A +4A                  db      72+2
       +                    endif
       += 0000              if      72 > 96
     - +                    db      72+4
       +                    endif
  808B                      odline  94                      ; hack PL3 again...
       += 0000              if      94 = 0
     - +                    db      0
       +                    endif
       += FFFF              if      94 < 96 and 94 <> 0
  808B +60                  db      94+2
       +                    endif
       += 0000              if      94 > 96
     - +                    db      94+4
       +                    endif
  808C  FF                  db      $ff
                    
  808D              :dli3   odline  80                      ; hack PL3 for prize
       += 0000              if      80 = 0
     - +                    db      0
       +                    endif
       += FFFF              if      80 < 96 and 80 <> 0
  808D +52                  db      80+2
       +                    endif
       += 0000              if      80 > 96
     - +                    db      80+4
       +                    endif
  808E                      odline  118                     ; hack PL3 for prize
       += 0000              if      118 = 0
     - +                    db      0
       +                    endif
       += 0000              if      118 < 96 and 118 <> 0
     - +                    db      118+2
       +                    endif
       += FFFF              if      118 > 96
  808E +7A                  db      118+4
       +                    endif
  808F  FF                  db      $ff
                  ATARI CAMAC Assembler Ver  1.0A  Page  28
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Pristine crunched lmaps                           

  8090              ; The Racks pristine lmap
                    ;
  8090              lmap0
  8090  29                  db      lmapgs                  ; per-rack variables
  8091  0103                db      1,3                     ; hammer levels
  8093  7C94                db      124,148                 ; hammer_x
  8095  8645                db      134,69                  ; hammer_y
                    
  8097  3285                dw      init0                   ; init code for lmap
  8099  D18F                dw      setup0                  ; graphics setup
  809B  4388                dw      dli0                    ; DLI handler for Ramps
                    
  809D  000000              db      0,0,0                   ; no prizes at all...
  80A0  000000              db      0,0,0
  80A3  000000              db      0,0,0
  80A6  000000              db      0,0,0
                    
  80A9  5F9C                dw      v4ladr                  ; four_long ladder
  80AB  699C                dw      vladr                   ; one_long ladder
  80AD  6D9C                dw      vsladr                  ; one_long ladder rung
  80AF  6A3D                db      106,61                  ; x_pos, y_max of double ladders
  80B1  00                  db      0                       ; y_min of double ladders
                    
  80B2  05                  db      nlmapln-1               ; destination level
  80B3  FF                  db      $ff                     ; no kill level
  80B4  4C02                db      76,2                    ; lady's x,y position base
  80B6  7C1D                db      124,29                  ; Kong's x,y position base
  80B8  04                  db      4                       ; Kong's lmap level
  80B9  14                  db      20                      ;   and his approximate segment#
                    
  80BA  8A01                db      $80+10,1                                ; level 0
  80BC  022901              db      2,LDBOTB+1,1
  80BF  8901                db      $89,1
  80C1  022101              db      2,LDBOT+1,1
  80C4  8301                db      $83,1
                    
  80C6  8401                db      $84,1                           ; level 1
  80C8  8121                db      $81,LDBOT+1
  80CA  8501                db      $85,1
  80CC  03190121            db      3,LDTOPB+1,1,LDBOT+1
  80D0  8701                db      $80+7,1
  80D2  06                  db      6
  80D3  8111010100          db       1+HAMASK,LDTOP+1,1,1,0,0
                    
  80D9  0500000101          db      5,0,0,1,1,LDTOP+1               ; level 2
  80DF  8201                db      $82,1
  80E1  0829010101          db      8,LDBOTB+1,1,1,1,1,LDTOP+1,1,LDBOT+1
  80EA  8601                db      $86,1
  80EC  8121                db      $81,LDBOT+1
  80EE  8401                db      $84,1
                    
  80F0  8401                db      $84,1                           ; level 3
  80F2  8121                db      $81,LDBOT+1
  80F4  05                  db      5
  80F5  0101190129          db       1,1,LDTOPB+1,1,LDBOTB+1
  80FA  8401                db      $84,1
  80FC  0C11010101          db      12,LDTOP+1,1,1,1,LDBOTB+1,1,1,LDTOP+1,1,1,0+HAMASK,0
                  ATARI CAMAC Assembler Ver  1.0A  Page  29
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Pristine crunched lmaps                           

                    
  8109  8200                db      $82,0                           ; level 4
  810B  8201                db      $82,1
  810D  8111                db      $81,LDTOP+1
  810F  8401                db      $84,1
  8111  03190121            db      3,LDTOPB+1,1,LDBOT+1
  8115  8601                db      $86,1
  8117  8119                db      $81,LDTOPB+1
  8119  8701                db      $87,1
                    
  811B  8B00                db      $80+11,0                                ; level 5
  811D  021101              db      2,LDTOP+1,1
  8120  8401                db      $84,1
  8122  8900                db      $89,0
                    
                    ; height tables
  8124  9AB8                db      $80+26,184
  8126  9A97                db      $80+26,151
  8128  9A76                db      $80+26,118
  812A  9A55                db      $80+26,85
  812C  9A3D                db      $80+26,61
  812E  9A20                db      $80+26,32
                    
                    ; ladder tables
  8130  9A01                db      $80+26,1                                ; lev 0
                    
  8132  8A02                db      $80+10,2                                ; lev 1
  8134  03000202            db      3,0,2,2
  8138  8D00                db      $80+13,0
                    
  813A  8701                db      $87,1                           ; lev 2
  813C  8503                db      $85,3
  813E  8201                db      $82,1
  8140  8C03                db      $80+12,3
                    
  8142  8704                db      $87,4                           ; lev 3
  8144  03020204            db      3,2,2,4
  8148  8802                db      $88,2
  814A  020402              db      2,4,2
  814D  8602                db      $86,2
                    
  814F  8B03                db      $80+11,3                                ; lev 4
  8151  8105                db      $81,5
  8153  8E03                db      $80+14,3
                    
  8155  9A04                db      $80+26,4                                ; lev 5
                    
  8157  00                  db      0
                  ATARI CAMAC Assembler Ver  1.0A  Page  30
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Pristine crunched lmaps                           

                    ; The Ziggurate pristine (and crunched) lmap
                    ;
  8158              lmap1
  8158  29                  db      lmapgs          ; per-rack stuff
  8159  0203                db      2,3                     ; hammer levels
  815B  0C4C                db      12,76                   ; hammer_x
  815D  5933                db      89,51                   ; hammer_y
                    
  815F  3285                dw      init1                   ; Zigurrat lmap init
  8161  3285                dw      setup1                  ; Zigurrat graphics init
  8163  6088                dw      dli1                    ; DLI handler
                    
  8165  4C                  db      pmx+4+4*6               ; player x_positions for prizes
  8166  C4                  db      pmx+4+[lmapwid-2]*6
  8167  82                  db      pmx+4+[lmapwid/2]*6
  8168  3F                  db      pmy+41-[priz1-priz0]    ; player y_offsets for prizes
  8169  B1                  db      pmy+155-[priz1-priz0]
  816A  D5                  db      pmy+191-[priz1-priz0]
  816B  001E14              db      priz0, priz3, priz2     ; prize types
  816E  040100              db      4,1,0                   ; prize lmap levels
                    
  8171  719C                dw      r4ladr                  ; red ladder, four high
  8173  7B9C                dw      rladr                   ; red ladder, one high
  8175  7F9C                dw      rsladr                  ; red ladder rung, one high
  8177  0000                db      0,0                     ; no double ladders
  8179  00                  db      0                       ; bogus minimum_y of double ladders
                    
  817A  FF                  db      $ff                     ; no destination level
  817B  FF                  db      $ff                     ; no kill level
  817C  0000                db      0,0                     ; (bogus) lady x,y position
  817E  4809                db      72,9                    ; Kong's x,y position base
  8180  04                  db      4                       ; Kong's lmap_level
  8181  0C                  db      12                      ;    and 'prox segment
                    
  8182  020323              db      2,3,3+LDBOT             ; level 0
  8185  8703                db      $87,3
  8187  022303              db      2,3+LDBOT,3
  818A  8603                db      $86,3
  818C  022303              db      2,3+LDBOT,3
  818F  8503                db      $85,3
  8191  022303              db      2,3+LDBOT,3
                    
  8194  03001323            db      3,0,3+LDTOP,3+LDBOT     ; level 1
  8198  8303                db      $83,3
  819A  0442030313          db      4,GRRIVE+RIMASK,3,3,3+LDTOP
  819F  1003030323          db      16,3,3,3,3+LDBOT,3,3,3,3+LDTOP,3,GRRIVE+RIMASK
  81AA  0303032313          db        3,3,3,3+LDBOT,3+LDTOP,0
                    
  81B0  08                  db      8                       ; level 2
  81B1  0080132303          db        0,HAMASK+0,3+LDTOP,3+LDBOT,3,3,GRRIVE+RIMASK,3+LDBOT
  81B9  8503                db      $85,3
  81BB  021303              db      2,3+LDTOP,3
  81BE  8303                db      $83,3
  81C0  08                  db      8
  81C1  2342030323          db        3+LDBOT,GRRIVE+RIMASK,3,3,3+LDBOT,3+LDTOP,0,0
                    
  81C9  8300                db      $83,0                   ; level 3
                  ATARI CAMAC Assembler Ver  1.0A  Page  31
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Pristine crunched lmaps                           

  81CB  06                  db      6
  81CC  1323034213          db        3+LDTOP,3+LDBOT,3,GRRIVE+RIMASK,3+LDTOP,3+LDBOT
  81D2  8303                db      $83,3
  81D4  0183                db      1,3+HAMASK
  81D6  8403                db      $84,3
  81D8  09                  db      9
  81D9  2313420323          db        3+LDBOT,3+LDTOP,GRRIVE+RIMASK,3,3+LDBOT,3+LDTOP,0,0,0
                    
  81E2  8400                db      $84,0                   ; level 4
  81E4  05                  db      5
  81E5  1303420313          db        3+LDTOP,3,GRRIVE+RIMASK,3,3+LDTOP
  81EA  8803                db      $88,3
  81EC  05                  db      5
  81ED  1303420313          db        3+LDTOP,3,GRRIVE+RIMASK,3,3+LDTOP
  81F2  8400                db      $84,0
                    
  81F4  9A00                db      $80+26,0                        ; level 5
                    
                    ;
                    ; height tables
  81F6  9ABF                db      $80+26,191
  81F8  9A9B                db      $80+26,155
  81FA  9A75                db      $80+26,117
  81FC  9A4F                db      $80+26,79
  81FE  B429                db      $80+26*2,41
                    
                    ;
                    ; ladder tables
  8200  9A01                db      $80+26,1                        ; level 0
                    
  8202  03000002            db      3,0,0,2                 ; level 1
  8206  8A00                db      $80+10,0
  8208  8402                db      $84,2
  820A  8600                db      $86,0
  820C  03020000            db      3,2,0,0
                    
  8210  03010101            db      3,1,1,1                 ; level 2
  8214  8A03                db      $80+10,3
  8216  8501                db      $85,1
  8218  8503                db      $85,3
  821A  03010101            db      3,1,1,1
                    
  821E  8402                db      $84,2                   ; level 3
  8220  0404040402          db      4,4,4,4,2
  8225  8A04                db      $80+10,4
  8227  08                  db      8
  8228  0202020402          db        2,2,2,4,2,0,0,0
                    
  8230  B403                db      $80+26*2,3              ; level 4,5
                    
  8232  00                  db      0
                  ATARI CAMAC Assembler Ver  1.0A  Page  32
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Pristine crunched lmaps                           

                    ;
                    ; The Conveyerbelts pristine, crunched lmap
                    ;
  8233              lmap3
  8233  29                  db      lmapgs                  ; space for rack info
  8234  0102                db      1,2                     ;  levels for hammer 0,1
  8236  4C0C                db      76,12                   ; hammer_x
  8238  7F59                db      127,89                  ; hammer_y
                    
  823A  CA90                dw      init3                   ; graphics init code
  823C  3285                dw      setup3                  ; lmap setup code
  823E  6088                dw      dli3                    ; DLI handler
                    
  8240  A0                  db      pmx+4+18*6              ; prize x_positions
  8241  5E                  db      pmx+4+7*6
  8242  82                  db      pmx+4+[lmapwid/2]*6
  8243  65                  db      pmy+79-[priz1-priz0]    ; PL3 offsets for prizes
  8244  8B                  db      pmy+117-[priz1-priz0]
  8245  D5                  db      pmy+191-[priz1-priz0]
  8246  0A001E              db      priz1, priz0, priz3     ; prize types
  8249  030200              db      3,2,0                   ; prize level#s
                    
  824C  5F9C                dw      v4ladr                  ; four_long blue ladder
  824E  699C                dw      vladr                   ; one_long blue ladder
  8250  6D9C                dw      vsladr                  ; one_long blue ladder rung
  8252  2829                db      40,41                   ; x_pos, y_max of double ladders
  8254  06                  db      6                       ; y_min of double ladders
                    
  8255  04                  db      4                       ; target lmap level
  8256  FF                  db      $ff                     ; no kill level
  8257  700C                db      112,12                  ; lady's x,y position
  8259  4809                db      72,9                    ; Kong's x,y position base
  825B  0000                db      0,0                     ;   level and segment are "don't care"
                    
  825D  03010121            db      3,1,1,1+LDBOT           ; level 0
  8261  8501                db      $85,1
  8263  8121                db      $81,1+LDBOT
  8265  8701                db      $87,1
  8267  8121                db      $81,1+LDBOT
  8269  8601                db      $86,1
  826B  03210101            db      3,1+LDBOT,1,1
                    
  826F  03040414            db      3,4,4,4+LDTOP           ; level 1
  8273  8404                db      $84,4
  8275  022414              db      2,4+LDBOT,4+LDTOP
  8278  8304                db      $83,4
  827A  8184                db      $81,HAMASK+4
  827C  8304                db      $83,4
  827E  021424              db      2,4+LDTOP,4+LDBOT
  8281  8504                db      $85,4
  8283  03140404            db      3,4+LDTOP,4,4
                    
  8287  09                  db      9                       ; level 2
  8288  0081012101          db       0,HAMASK+1,1,1+LDBOT,1,0,0,1+LDTOP,1+LDBOT
  8291  8701                db      $87,1
  8293  0A                  db      10
  8294  2111000001          db       1+LDBOT,1+LDTOP,0,0,1,1,1+LDBOT,1,1,0
                  ATARI CAMAC Assembler Ver  1.0A  Page  33
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Pristine crunched lmaps                           

                    
  829E  04                  db      4                       ; level 3
  829F  04042414            db       4,4,4+LDBOT,4+LDTOP
  82A3  8404                db      $84,4
  82A5  09                  db      9
  82A6  1404040000          db       4+LDTOP,4,4,0,0,4,4,4,4+LDTOP
  82AF  8504                db      $85,4
  82B1  0414240404          db      4,4+LDTOP,4+LDBOT,4,4
                    
  82B6  03040414            db      3,4,4,4+LDTOP           ; level 4
  82BA  9404                db      $80+20,4
  82BC  03140404            db      3,4+LDTOP,4,4
                    
  82C0  9A00                db      $80+26,0                        ; level 5
                    
                    ;
                    ; height tables
                    ;
  82C2  9ABF                db      $80+26,191              ; lev 0
  82C4  9A9B                db      $80+26,155
  82C6  9A75                db      $80+26,117
  82C8  9A4F                db      $80+26,79
  82CA  B429                db      $80+26*2,41             ; lev 5
                    
                    ;
                    ; ladder dest tables
                    ;
  82CC  9A01                db      $80+26,1                        ; lev 0
                    
  82CE  8700                db      $87,0                   ; lev 1
  82D0  8102                db      $81,2
  82D2  8900                db      $89,0
  82D4  8602                db      $86,2
  82D6  8300                db      $83,0
                    
  82D8  8703                db      $87,3                   ; lev 2
  82DA  8101                db      $81,1
  82DC  8903                db      $89,3
  82DE  8501                db      $85,1
  82E0  8403                db      $84,3
                    
  82E2  8304                db      $83,4                   ; lev 3
  82E4  9402                db      $80+20,2
  82E6  8304                db      $83,4
                    
  82E8  B403                db      $80+26*2,3              ; lev 4,5
                    
  82EA  00                  db      0                       ; endit
                  ATARI CAMAC Assembler Ver  1.0A  Page  34
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Pristine crunched lmaps                           

                    ;
                    ; The Elevators pristine, crunchified lmap
                    ;
  82EB              lmap2
  82EB  29                  db      lmapgs                  ; space for rack globals
  82EC  0000                db      0,0                     ; hammers are "don't care..."
  82EE  A1A1                db      nwide+1,nwide+1         ; x_pos is off screen
  82F0  C6C6                db      nlines,nlines           ; and so is y_pos
                    
  82F2  4990                dw      init2                   ; graphics init code
  82F4  3285                dw      setup2                  ; lmap init code
  82F6  6088                dw      dli2                    ; DLI handler code
                    
  82F8  CA3A6A              db      pmx+4+25*6, pmx+4+1*6, pmx+4+9*6        ; prize x_positions
  82FB  5D                  db      pmy+71-[priz1-priz0]                    ; player 3 offsets for prizes
  82FC  73                  db      pmy+93-[priz1-priz0]
  82FD  B8                  db      pmy+162-[priz1-priz0]
  82FE  0A001E              db      priz1, priz0, priz3     ; prize types
  8301  030200              db      3,2,0                   ; prize level#s
                    
  8304  5F9C                dw      v4ladr                  ; vanilla 4_long blue ladder
  8306  699C                dw      vladr                   ; one_long ladder segment
  8308  6D9C                dw      vsladr                  ; one_long ladder rung
  830A  1C38                db      28,56                   ; x_pos, y_max of double ladders
  830C  18                  db      24                      ; y_min of double ladders
                    
  830D  04                  db      4                       ; target level for winnage
  830E  05                  db      5                       ; killage level (bump Mario off if he ever gets here...)
  830F  4000                db      64,0                    ; lady's x,y position base
  8311  0418                db      4,24                    ; Kong's x,y position base
  8313  03                  db      3                       ; Kong's lmap level
  8314  00                  db      0                       ;    and rightmost segment#
                    
  8315  1A                  db      26                      ; lev 0
  8316  0121010005          db       1,1+LDBOT,1,0,GRBLNK,GRBLNK,0,0,1+LDBOT,1,1+LDBOT
  8321  0005050001          db       0,GRBLNK,GRBLNK,0,1,1,0,1,1,0,1,1,0,1+LDBOT,1
                    
  8330  06                  db      6                       ; lev 1
  8331  0111210005          db       1,1+LDTOP,1+LDBOT,0,GRBLNK,GRBLNK
  8337  8600                db      $86,0
  8339  0E                  db      14
  833A  0505000001          db       GRBLNK,GRBLNK,0,0,1,1+LDBOT,1,0,1,1+LDBOT
  8344  00011101            db       0,1,1+LDTOP,1
                    
  8348  1A                  db      26                      ; lev 2
  8349  0101110005          db       1,1,1+LDTOP,0,GRBLNK,GRBLNK,0
  8350  01110111            db       1,1+LDTOP,1,1+LDTOP
  8354  0005050000          db       0,GRBLNK,GRBLNK,0,0,1,1+LDTOP
  835B  00210011            db       0,1+LDBOT,0,1+LDTOP
  835F  01010121            db       1,1,1,1+LDBOT
                    
  8363  8B01                db      $80+11,1                        ; lev 3
  8365  0121                db      1,1+LDBOT
  8367  8701                db      $87,1
  8369  07                  db      7
  836A  1100010100          db       1+LDTOP,0,1,1,0,1,1+LDTOP
                    
                  ATARI CAMAC Assembler Ver  1.0A  Page  35
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Pristine crunched lmaps                           

  8371  8700                db      $87,0                           ; lev 4 (top)
  8373  8401                db      $84,1
  8375  0111                db      1,1+LDTOP
  8377  8E00                db      $80+14,0
                    
  8379  9A01                db      $80+26,1                        ; lev 5 (deadly)
                    
                    ;
                    ; hei tables
                    ;
  837B  84B2                db      $84,178                         ; lev 0
  837D  83BE                db      $83,190
  837F  85A2                db      $85,162
  8381  83BE                db      $83,190
  8383  83B2                db      $83,178
  8385  83AB                db      $83,171
  8387  83A4                db      $83,164
  8389  829D                db      $82,157
                    
  838B  848D                db      $84,141                         ; lev 1
  838D  8C93                db      $80+12,147
  838F  837A                db      $83,122
  8391  8480                db      $84,128
  8393  8386                db      $83,134
                    
  8395  845D                db      $84,93                          ; lev 2
  8397  8268                db      $82,104
  8399  865D                db      $86,93
  839B  8368                db      $83,104
  839D  8459                db      $84,89
  839F  8153                db      $81,83
  83A1  8668                db      $86,104
                    
  83A3  9538                db      $80+21,56                       ; lev 3
  83A5  824D                db      $82,77
  83A7  8347                db      $83,71
                    
  83A9  9A1D                db      $80+26,29                       ; lev 4
                    
  83AB  9ABF                db      $80+26,191                      ; lev 5
                    
                    ;
                    ; ladder tables
                    ;
  83AD  8801                db      $88,1                           ; lev 0
  83AF  9002                db      $80+16,2
  83B1  8201                db      $82,1
                    
  83B3  8200                db      $82,0                           ; lev 1
  83B5  9602                db      $80+22,2
  83B7  8200                db      $82,0
                    
  83B9  8801                db      $88,1                           ; lev 2
  83BB  8900                db      $89,0
  83BD  8201                db      $82,1
  83BF  8203                db      $82,3
  83C1  8401                db      $84,1
                  ATARI CAMAC Assembler Ver  1.0A  Page  36
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Pristine crunched lmaps                           

  83C3  0103                db      1,3
                    
  83C5  9304                db      $80+19,4                        ; lev 3
  83C7  8702                db      $87,2
                    
  83C9  9A03                db      $80+26,3                        ; lev 4
                    
  83CB  9A00                db      $80+26,0                        ; lev 5 ("don't care")
                    
  83CD  00                  db      0
                  ATARI CAMAC Assembler Ver  1.0A  Page  37
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Barrel difficulty                                 

  83CE              ; This table governs how often a rolling barrel should follow a down-
                    ; going ladder.
                    ;
  83CE              badiff  perc    10              ; fall 20% of the time
  83CE +19          BADIFF  db      high [10 * 655]
  83CF                      perc    20              ; 30%, etc...
  83CF +33                  db      high [20 * 655]
  83D0                      perc    30
  83D0 +4C                  db      high [30 * 655]
  83D1                      perc    30
  83D1 +4C                  db      high [30 * 655]
  83D2                      perc    35
  83D2 +59                  db      high [35 * 655]
                    
                    ;
                    ; Should a spawned barrel be vicious?
                    ; When true, indicates that a really mean falling barrel should be
                    ; created.
                    ;
  83D3              sbadiff perc    05
  83D3 +0C          SBADIFF db      high [05 * 655]
  83D4                      perc    10
  83D4 +19                  db      high [10 * 655]
  83D5                      perc    20
  83D5 +33                  db      high [20 * 655]
  83D6                      perc    30
  83D6 +4C                  db      high [30 * 655]
  83D7                      perc    35
  83D7 +59                  db      high [35 * 655]
                    
                    ;
                    ; Jiffy-times between creation of barrels.
                    ; As the difficulty level goes up, barrels are created faster and faster
                    ;
  83D8  78          sbadly  db      120
  83D9  64                  db      100
  83DA  5A                  db      90
  83DB  50                  db      80
  83DC  3C                  db      60
                    
                    ;
                    ; Maximum number of barrels active at once
                    ;
  83DD  06          smaxba  db      6
  83DE  07                  db      7
  83DF  08                  db      8
  83E0  08                  db      8
  83E1  08                  db      8
                  ATARI CAMAC Assembler Ver  1.0A  Page  38
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Firecritter difficulty                            

  83E2              ; Time delay (in bonus ticks) for firecreatures to update their
                    ; movement, via their movement heuristics.
                    ; Ideally the critters should have a faster reaction time as the game
                    ; gets harder, and this table does just that...
                    ;
  83E2  05          fbcnt   db      5
  83E3  04                  db      4
  83E4  03                  db      3
  83E5  02                  db      2
  83E6  02                  db      2
                    
                    ;
                    ; Should we switch levels?
                    ; This is the oracle used by firecritters when they are near a ladder,
                    ;  and are wondering whether to follow it or not.
                    ;
  83E7              fblev   perc    30              ; switch level 30% of the time
  83E7 +4C          FBLEV   db      high [30 * 655]
  83E8                      perc    40
  83E8 +66                  db      high [40 * 655]
  83E9                      perc    40
  83E9 +66                  db      high [40 * 655]
  83EA                      perc    45
  83EA +73                  db      high [45 * 655]
  83EB                      perc    50
  83EB +7F                  db      high [50 * 655]
                    
                    ;
                    ; Creation difficulty
                    ; Used by foreground creation heuristic to determine whether or not
                    ;  to spawn a vicious firecritter
                    ;
  83EC              fbdiff  perc    10
  83EC +19          FBDIFF  db      high [10 * 655]
  83ED                      perc    20
  83ED +33                  db      high [20 * 655]
  83EE                      perc    40
  83EE +66                  db      high [40 * 655]
  83EF                      perc    50
  83EF +7F                  db      high [50 * 655]
  83F0                      perc    60
  83F0 +99                  db      high [60 * 655]
                    
                    ;
                    ; Creation delay
                    ; In Zigurrat and Conveyerbelt racks, the delay time (in jiffies)
                    ;  for firecriiter creation.
                    ;
  83F1  F0          scddly  db      240
  83F2  96                  db      150
  83F3  82                  db      130
  83F4  73                  db      115
  83F5  64                  db      100
                    
                    ;
                    ; Maximum number of firecritters
                    ;
                  ATARI CAMAC Assembler Ver  1.0A  Page  39
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Firecritter difficulty                            

  83F6  04          smaxfth db      4
  83F7  05                  db      5
  83F8  05                  db      5
  83F9  05                  db      5
  83FA  05                  db      5
                  ATARI CAMAC Assembler Ver  1.0A  Page  40
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Spring difficulty                                 

  83FB              ;
                    ; How Hard Can You Get? [*sigh*]
                    ;
                    ; This table governs how often a spring is to be created.  The numbers
                    ; here are in jiffies.
                    ;
  83FB  78          sprdly  db      120                     ; lev 0 (bogus)
  83FC  78                  db      120                     ; first elev rack (really easy)
  83FD  6E                  db      110                     ; second (an easy pattern)
  83FE  64                  db      100                     ; third -- sorta hard
  83FF  5A                  db      90                      ; fourth -- very hard (but possible)
                    
                    
                    ;
                    ; Creation position for springs (a cycle of four)
                    ;
  8400  04050607    sprpos  db      4,5,6,7
                  ATARI CAMAC Assembler Ver  1.0A  Page  41
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Sandpile difficulty                               

  8404              ;
                    ; (jiffy) creation delays for sandpiles
                    ;
  8404  F0          sndly   db      240
  8405  B4                  db      180
  8406  96                  db      150
  8407  82                  db      130
  8408  78                  db      120
                  ATARI CAMAC Assembler Ver  1.0A  Page  42
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  PAL and NTSC tunables                             

  8409              ; Its a long story.  In order to get PAL compatibility, ALL of the
                    ; following equates will have to be munged, twiddled, mutated and
                    ; permuted.  Look here if something isn't moving as fast as it should,
                    ; or as slow as it should, or if the color assignments are off.  The
                    ; first table contains NTSC stuff, the second table contains PAL stuff.
                    ; ["Stuff" in this context means anything used as a velocity or
                    ; constant depending on something that is somehow different in PAL.]
                    ;
                    
                    ;
                    ; NTSC constants go here.
                    ;
        = 8409      ntscstuf =      *
                    
                    ;
                    ; Inital colors
                    ;
  8409  342D3686    colors  db      $34,$2d,$36,$86
  840D  34882A0A            db      $34,$88,$2a,$0a
  8411  00                  db      $00
                    
                    ;
                    ; PAL constants go here.  [and I'm gonna start screaming....]
                    ;
        = 8412      palstuf =       *
                  ATARI CAMAC Assembler Ver  1.0A  Page  43
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Shifted Graphics Tables                           

  8412              ; Equates for locating the shifted versions of creature fonts.
                    ; They overlay each other, depending on what the current rack is.
                    ;
                    ;
                    ; Fonts for creatures [offsets into fntbl, not including shift for
                    ; hacking fractional-byte X-positioning.]
                    ;
        = 0000      fnbar   =       0                       ; rolling barrels, beams
        = 0004      fnfbr   =       4                       ; falling barrels, beams
        = 0008      fnfib   =       8                       ; fireballs & blue fireballs
        = 000C      fnfif   =       $c                      ; firefoxen & blue firefoxen
        = 0010      fnsan   =       $10                     ; sandpiles, large sandpiles
        = 0014      fnspr   =       $14                     ; springs
                    
                    ;
                    ; sizes of shifted versions of creatures
                    ; *MUST* be altered to reflect changes in fonts!
                    ;
        = 0023      fshbrs  =       3*11+2                  ; rolling barrels, etc
        = 002E      fshbfs  =       4*11+2                  ; falling barrels, etc
        = 0042      fshfis  =       4*16+2                  ; fireballs & firefoxen
        = 0042      fshsas  =       4*16+2                  ; sandpiles et al
        = 0032      fshsps  =       3*16+2                  ; springs
                    
                    ;
                    ; bases for shifted versions of creatures
                    ;
        = 0400      fshfi0  =       shfont                  ; fireballs come first
        = 0718      fshbr0  =       fshfi0 + 12*fshfis      ; then rolling barrels
        = 08BC      fshbf0  =       fshbr0 + 12*fshbrs      ; then falling barrels
        = 0718      fshsa0  =       fshbr0                  ; sandpiles (overlay barrels)
        = 0718      fshsp0  =       fshbr0                  ; springs (overlay barrels)
                    
                    ;
                    ; Table of pointers to shifted fonts.
                    ;
        = 8412      fntbl   =       *
                    
                    ; 0 - rolling barrels and beams
U 8412  000018073B          dw      fnbar0,fshbr0 + fshbrs*0, fshbr0 + fshbrs*1, fshbr0 + fshbrs*2
U 841A  00008107A4          dw      fnbar1,fshbr0 + fshbrs*3, fshbr0 + fshbrs*4, fshbr0 + fshbrs*5
U 8422  0000EA070D          dw      fnbar2,fshbr0 + fshbrs*6, fshbr0 + fshbrs*7, fshbr0 + fshbrs*8
U 842A  0000530876          dw      fnbar3,fshbr0 + fshbrs*9, fshbr0 + fshbrs*$a, fshbr0 + fshbrs*$b
                    
                    ; 1 - falling barrels and beams
U 8432  0000BC08EA          dw      fnfbr0,fshbf0 + fshbfs*0, fshbf0 + fshbfs*1, fshbf0 + fshbfs*2
U 843A  0000460974          dw      fnfbr1,fshbf0 + fshbfs*3, fshbf0 + fshbfs*4, fshbf0 + fshbfs*5
U 8442  0000D009FE          dw      fnfbr2,fshbf0 + fshbfs*6, fshbf0 + fshbfs*7, fshbf0 + fshbfs*8
U 844A  00005A0A88          dw      fnfbr3,fshbf0 + fshbfs*9, fshbf0 + fshbfs*$a, fshbf0 + fshbfs*$b
                    
                    ; 2 - fireballs
U 8452  0000000442          dw      fnfib0,fshfi0 + fshfis*0, fshfi0 + fshfis*1, fshfi0 + fshfis*2
U 845A  0000C60408          dw      fnfib1,fshfi0 + fshfis*3, fshfi0 + fshfis*4, fshfi0 + fshfis*5
U 8462  00008C05CE          dw      fnfib2,fshfi0 + fshfis*6, fshfi0 + fshfis*7, fshfi0 + fshfis*8
U 846A  0000520694          dw      fnfib3,fshfi0 + fshfis*9, fshfi0 + fshfis*$a, fshfi0 + fshfis*$b
                    
                    ; 3 - firefoxen
 *Error page  43  ATARI CAMAC Assembler Ver  1.0A  Page  44
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Shifted Graphics Tables                           

U 8472  0000000442          dw      fnfif0,fshfi0 + fshfis*0, fshfi0 + fshfis*1, fshfi0 + fshfis*2
U 847A  0000C60408          dw      fnfif1,fshfi0 + fshfis*3, fshfi0 + fshfis*4, fshfi0 + fshfis*5
U 8482  00008C05CE          dw      fnfif2,fshfi0 + fshfis*6, fshfi0 + fshfis*7, fshfi0 + fshfis*8
U 848A  0000520694          dw      fnfif3,fshfi0 + fshfis*9, fshfi0 + fshfis*$a, fshfi0 + fshfis*$b
                    
                    ; 4 - sandpiles
  8492  179E18075A          dw      fnsan0,fshsa0 + fshsas*0,fshsa0 + fshsas*1,fshsa0 + fshsas*2
  849A  179EDE0720          dw      fnsan1,fshsa0 + fshsas*3,fshsa0 + fshsas*4,fshsa0 + fshsas*5
  84A2  179EA408E6          dw      fnsan2,fshsa0 + fshsas*6,fshsa0 + fshsas*7,fshsa0 + fshsas*8
  84AA  179E6A09AC          dw      fnsan3,fshsa0 + fshsas*9,fshsa0 + fshsas*$A,fshsa0 + fshsas*$B
                    
                    ; 5 - springs
  84B2  799F18074A          dw      fnspr0,fshsp0 + fshsps*0,fshsp0 + fshsps*1,fshsp0 + fshsps*2
  84BA  9B9FAE07E0          dw      fnspr1,fshsp0 + fshsps*3,fshsp0 + fshsps*4,fshsp0 + fshsps*5
  84C2  B59F440876          dw      fnspr2,fshsp0 + fshsps*6,fshsp0 + fshsps*7,fshsp0 + fshsps*8
  84CA  C79FDA080C          dw      fnspr3,fshsp0 + fshsps*9,fshsp0 + fshsps*$A,fshsp0 + fshsps*$B
 *Error page  44  ATARI CAMAC Assembler Ver  1.0A  Page  45
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Collision boxes                                   

  84D2              ;
                    ; Each creature has a 'kill-box' that the protagonist cannot intrude
                    ; upon without getting killed.  Before the protagonist is moved, a quick
                    ; check is made to see if Mario has enroached upon any critter's kill
                    ; area.  Since the creature fonts are so diversified, it is necessary
                    ; for each font to have a kill area that is slightly different in size
                    ; and shape from the others.
                    ;
                    ; XYOffs[] is a table of x,y offsets for each creature font.  Added to
                    ;       the creature's x,y position, it gives the upper right hand x,y
                    ;       position of the kill-box.
                    ;
                    ; XYSiz[] is the x,y size (in pixels) of the kill box.
                    ;
  84D2  0101        xyoffs  db      1,1                     ; rolling barrels (all the same)
  84D4  0101                db      1,1
  84D6  0101                db      1,1
  84D8  0101                db      1,1
                    
  84DA  0001                db      0,1                     ; falling barrels
  84DC  0001                db      0,1
  84DE  0001                db      0,1
  84E0  0001                db      0,1
                    
  84E2  0105                db      1,5                     ; fireballs
  84E4  0205                db      2,5
  84E6  0105                db      1,5
  84E8  0105                db      1,5
                    
  84EA  0105                db      1,5                     ; firefoxen
  84EC  0105                db      1,5
  84EE  0105                db      1,5
  84F0  0105                db      1,5
                    
  84F2  0003                db      0,3                     ; sandpiles
  84F4  0003                db      0,3
  84F6  0003                db      0,3
  84F8  0003                db      0,3
                    
  84FA  0000                db      0,0                     ; springs
  84FC  0000                db      0,0
  84FE  0000                db      0,0
  8500  0000                db      0,0
                    
  8502  0609        xysiz   db      6,9                     ; rolling barrels (identical)
  8504  0609                db      6,9
  8506  0609                db      6,9
  8508  0609                db      6,9
                    
  850A  0A09                db      10,9                    ; falling barrels (clones again)
  850C  0A09                db      10,9
  850E  0A09                db      10,9
  8510  0A09                db      10,9
                    
  8512  070B                db      7,11                    ; fireballs
  8514  080B                db      8,11
  8516  070B                db      7,11
                  ATARI CAMAC Assembler Ver  1.0A  Page  46
  Donkey Kong  Thur Feb 24, 1983                       D1:TABLES.         
  Collision boxes                                   

  8518  080B                db      8,11
                    
  851A  0A0A                db      10,10                   ; firefoxen
  851C  0809                db      8,9
  851E  0A0A                db      10,10
  8520  0809                db      8,9
                    
  8522  0A05                db      10,5                    ; sandpiles
  8524  0A05                db      10,5
  8526  0A05                db      10,5
  8528  0A05                db      10,5
                    
  852A  0706                db      7,6                     ; springs
  852C  0706                db      7,6
  852E  0706                db      7,6
  8530  0706                db      7,6
                  ATARI CAMAC Assembler Ver  1.0A  Page  47
  Donkey Kong  Thur Feb 24, 1983                       D1:MAIN.           
  Main - top level driver                           

  8532  60          rts     rts
                            include d:log.tmp
                    * Revision 19.MAR.83 23.03.22
  8533  31392E4D41  ÞÉdbÞÉ'19.MAR.83 23.03.23'
                    ;
                    ; MAIN - initialization and top-level
                    ;       Passed: control by OS
                    ;       Returns: never
                    ;       Calls: just about everything
                    ;
  8545                      proc
  8545              main
        = 0000              if      [def dbug]              ; init DBUG if its installed
     -                      jsr     dbugi
     -                      jsr     dbug
                            endif
                    
                    ;
                    ; Pokey init (once only)
                    ;
  8545  A903                lda     #3				;8513 IN ACTUAL CART
  8547  8D0FD2              sta     skctl           ; enable only keyscan and debounce
  854A  8D3202              sta     sskctl
  854D  A900                lda     #0              ; clobber everything in AUDCTL
  854F  8D08D2              sta     audctl
                    
                    ;
                    ; Clear zero-page locs
                    ;
  8552  A200                ldx     #0
  8554  8A                  txa                             ; zero upper half of zero-page
  8555  9580        :3      sta     zpbase,x
  8557  E8                  inx
  8558  10FB ^8555          bpl     :3
                    
                    ;
                    ; zero global area
                    ; (Probably not zeroed by OS powerup init routine, sooo....)
                    ;
  855A  A231                ldx     #globlen-1
  855C  9D000E      :4      sta     glob,x
  855F  CA                  dex
  8560  10FA ^855C          bpl     :4
                    
  8562  201895              jsr     sndoff                  ; turn off sounds
                    
                    ;
                    ; init globals: shadows and some hardware registers
                    ;
  8565  C6A5                dec     keydb                   ; init debounce counter
  8567                      dldi    sdlstl,nulldl           ; point at null Dlist for now
  8567 +A97D                LDA     #LOW NULLDL
  8569 +8D3002              STA     SDLSTL
  856C +A980                LDA     #HIGH NULLDL
  856E +8D3102              STA     SDLSTL+1
  8571                      ldi     sdmctl,$3e              ; enable PM DMA, et al
  8571 +A93E                LDA     #$3E
                  ATARI CAMAC Assembler Ver  1.0A  Page  48
  Donkey Kong  Thur Feb 24, 1983                       D1:MAIN.           
  Main - top level driver                           

  8573 +8D2F02              STA     SDMCTL
  8576                      ldi     gractl,3                ; turn on players and missiles
  8576 +A903                LDA     #3
  8578 +8D1DD0              STA     GRACTL
  857B                      ldi     gprior,%00110010        ; setup graphics priority
  857B +A932                LDA     #%00110010
  857D +8D6F02              STA     GPRIOR
  8580                      ldi     pmbase,high pmb         ; setup player/missile base
  8580 +A910                LDA     #HIGH   PMB
  8582 +8D07D4              STA     PMBASE
                    
        = FFFF              if      debug
  8585                      ldi     snmien,$40
  8585 +A940                LDA     #$40
  8587 +85A6                STA     SNMIEN
                            else
     -                      ldi     snmien,$c0              ; enable DLIs, set fake NMIEN shadow
                            endif
                    
        = FFFF              if      not def dbug            ; NOT with DBUG installed...
  8589                      ldi     pokmsk,%01000000        ; enable only keyboard IRQs
  8589 +A940                LDA     #%01000000
  858B +8510                STA     POKMSK
  858D  8D0ED2              sta     irqen
  8590                      dldi    vkeybd,kbdint           ; setup keyboard intr vector
  8590 +A99C                LDA     #LOW KBDINT
  8592 +8D0802              STA     VKEYBD
  8595 +A994                LDA     #HIGH KBDINT
  8597 +8D0902              STA     VKEYBD+1
                            endif
                    
  859A  20DD94              jsr     cldisp                  ; clear display and P/M mem
                    
  859D  A208                ldx     #8                      ; setup color shadows
  859F  BD0984      :2      lda     colors,x
  85A2  9DC002              sta     pcolr0,x
  85A5  CA                  dex
  85A6  10F7 ^859F          bpl     :2
                    
                    ;
                    ; Setup the display address tables.
                    ; Starting at a 4K-boundary plus $100 avoids
                    ; having to do an offsetted reload instruction for the /first/ 4K boundary.  Since
                    ; DK only uses 198 scanlines, the code that generates the addr table
                    ; doesn't have to check for crossing a 4K boundary
                    ;
  85A8                      local
       +                    EPROC
  85A8 +                    PROC
  85A8                      dldi    tmp,gbase
  85A8 +A900                LDA     #LOW GBASE
  85AA +8580                STA     TMP
  85AC +A921                LDA     #HIGH GBASE
  85AE +8581                STA     TMP+1
  85B0  A200                ldx     #0
  85B2  A580        :1      lda     tmp                     ; install this line's addr
  85B4  9D0010              sta     addrl,x
                  ATARI CAMAC Assembler Ver  1.0A  Page  49
  Donkey Kong  Thur Feb 24, 1983                       D1:MAIN.           
  Main - top level driver                           

  85B7  A581                lda     tmph
  85B9  9D0011              sta     addrh,x
  85BC                      dadi    tmp,bwide               ; next line, please
  85BC +18                  CLC
  85BD +A928                LDA     #LOW BWIDE
  85BF +6580                ADC     TMP
  85C1 +8580                STA     TMP
  85C3 +A900                LDA     #HIGH BWIDE
  85C5 +6581                ADC     TMP+1
  85C7 +8581                STA     TMP+1
  85C9  E8                  inx
  85CA  E0C6                cpx     #nlines                 ; at end of dlist?
  85CC                      blt     :1
  85CC +90E4 ^85B2          BCC     :1
                    
                    ;
                    ; Fill up the rest of the display address table with pointers to garbage.
                    ; (This is so clipping is done properly at the top and bottom of the
                    ;  screen).
                    ;
                    ; NB: This could also point into the cartridge space, as one facet of
                    ;     copy protection.  That way, DRAWs clipping on the top or bottom
                    ;     of the screen will attempt to store into cartridge mem....
                    ;
  85CE  A900        :3      lda     #low garbage
  85D0  9D0010              sta     addrl,x
  85D3  A9E0                lda     #high garbage
  85D5  9D0011              sta     addrh,x
  85D8  E8                  inx
  85D9  D0F3 ^85CE          bne     :3
                    
                    ;
                    ; Setup the playfield mask table
                    ; PFMSK contains a '00' bit pair if the index into the table contains
                    ;  a '01', '10' or '11' bit pair, for each of the four pairs in a byte.
                    ; This mask table is used to extract pixels, by appropriate ANDing
                    ;  and EORing source and destination bytes.
                    ;
  85DB                      local
       +                    EPROC
  85DB +                    PROC
  85DB  A200                ldx     #0
  85DD  8A          :1      txa                             ; get current table index
  85DE  0A                  asl     a                       ; Shift up and mask bits
  85DF  29AA                and     #$aa
  85E1  8580                sta     tmp
  85E3  8A                  txa                             ; Shift down and mask bits
  85E4  4A                  lsr     a
  85E5  2955                and     #$55
  85E7  0580                ora     tmp                     ; Or-in to shifted up bits
  85E9  8580                sta     tmp
  85EB  8A                  txa
  85EC  0580                ora     tmp                     ; Or-in original bits,
  85EE  49FF                eor     #$ff                    ;  complement them,
  85F0  9D001B              sta     pfmsk,x                 ;   and save in mask table
  85F3  CA                  dex
  85F4  D0E7 ^85DD          bne     :1
                  ATARI CAMAC Assembler Ver  1.0A  Page  50
  Donkey Kong  Thur Feb 24, 1983                       D1:MAIN.           
  Main - top level driver                           

                    
                    ;
                    ; setup BLUMSK, the PF0 <--> PF1 translation table
                    ;
  85F6                      local
       +                    EPROC
  85F6 +                    PROC
  85F6  A003        :2      ldy     #3                      ; # of bit-pairs to munge
  85F8  8680                stx     tmp
  85FA  A580        :4      lda     tmp                     ; lets look at the low pixel
  85FC  2903                and     #%11
  85FE  F00A ^860A          beq     :6                      ; ignore if BAK or PF2
  8600  C903                cmp     #%11
  8602  F006 ^860A          beq     :6
  8604  A580                lda     tmp                     ; swap PF0 and PF1
  8606  4903                eor     #%11
  8608  8580                sta     tmp
  860A  A580        :6      lda     tmp                     ; shift pixel to top of byte
  860C  4A                  lsr     a
  860D  6680                ror     tmp
  860F  4A                  lsr     a
  8610  6680                ror     tmp
  8612  88                  dey                             ; -- shift count
  8613  10E5 ^85FA          bpl     :4
  8615  A580                lda     tmp                     ; shove munged byte into table
  8617  CA                  dex
  8618  D0DC ^85F6          bne     :2
                    
                    ;
                    ; install VBH vector, as immediate vblank
                    ;
  861A  A906                lda     #immvbl                 ; setup immediate VBL vector
  861C  A288                ldx     #high vbh
  861E  A071                ldy     #low vbh
  8620  205CE4              jsr     setvbv
                    
                    ;
                    ; This is the top-level loop, for driving the three basic screens
                    ; (title screen, setup screen, demonstration mode)
                    ;
  8623                      local
       +                    EPROC
  8623 +                    PROC
  8623  203E86              jsr     test                    ; call test code....
                    
  8626              :loop
  8626                      ldi     pausep,0                ; abort possible pause-mode
  8626 +A900                LDA     #0
  8628 +8D310E              STA     PAUSEP
  862B  20A994              jsr     abortp
  862E  D003 ^8633          bne     :1
  8630  203C86              jsr     title
  8633  203D86      :1      jsr     setup
  8636  4C2686              jmp     :loop
                    
                    ;
                    ; Jump-indirect through TMP.  Usually used to fake an indirect JSR
                  ATARI CAMAC Assembler Ver  1.0A  Page  51
  Donkey Kong  Thur Feb 24, 1983                       D1:MAIN.           
  Main - top level driver                           

                    ;
  8639  6C8000      jtmp    jmp     (tmp)
                    
                    
                    ;
                    ; TITLE - Show the title screen.  Timeout after 3s, or if there is any
                    ;         user activity
                    ; Passed: nothing
                    ; Uses: tmp*, CURSCR
                    ; Imports: lettering fonts, title font
                    ;
  863C              title   local
       +                    EPROC
  863C +            TITLE   PROC
  863C  60                  rts
                    
                    
                    ;
                    ; SETUP - Handle the setup screen.  Hack [Start], [Option] and [Select]
                    ;         switches.  SETUTI is the number of 256 jiffies before timing
                    ;         out and returning
                    ; Passed: nothing
                    ; Uses: tmp*, CURSCR
                    ; Updates: DIFF, NPLYRS
                    ; Calls: PUTS, PUTC, SCRGEN, PLAY, DCONSW
                    ;
  863D  60          setup   rts
                  ATARI CAMAC Assembler Ver  1.0A  Page  52
  Donkey Kong  Thur Feb 24, 1983                       D1:TEST.           
  Debugging code                                    

  863E              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;;                                                      ;;
                    ;;                      Testing code                    ;;
                    ;;                                                      ;;
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    
  863E              test    local
       +                    EPROC
  863E +            TEST    PROC
  863E  A901                lda     #1
  8640  A201                ldx     #1
  8642  20988D              jsr     scrgen
                    
  8645  20B494      rabbit  jsr     dconsw
  8648  C907                cmp     #7
  864A  F0F9 ^8645          beq     rabbit
                    
  864C  20E091              jsr     icart2
  864F  4C4586              jmp     rabbit
                    
                  ATARI CAMAC Assembler Ver  1.0A  Page  53
  Donkey Kong  Thur Feb 24, 1983                       D1:KONG.           
  Kong                                              

  8652              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;;                                                              ;;
                    ;;                              Kong                            ;;
                    ;;                                                              ;;
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    
                    ;
                    ; This ENTIRE file is a single local enviroment.
                    ;
  8652                      local
       +                    EPROC
  8652 +                    PROC
                    
                    ;
                    ; bits used in the facing-state variable KONGB[1]
                    ;
                    ;       +-------+-------+-------+-------+-------+-------+-------+-------+
                    ;       |       |       |       |       |       |       |       |       |
                    ;       | Head  | Head  | R-arm | R-arm | L-arm | L-arm | Feet  | Feet  |
                    ;       | enable| type  | enable| type  | enable| type  |     0 |     1 |
                    ;       |       |       |       |       |       |       |       |       |
                    ;       +---7---+---6---+---5---+---4---+---3---+---2---+---1---+---0---+
                    ;
        = 0080      khe     =       %10000000               ; head enable
        = 0040      khtyp   =       %01000000               ; 0 = normal, 1 = grinning
        = 0020      rarme   =       %00100000               ; right arm enable
        = 0010      rarmt   =       %00010000               ; 0 = down, 1 = up
        = 0008      larme   =       %00001000               ; left arm enable
        = 0004      larmt   =       %00000100               ; 0 = down, 1 = up
        = 0003      feetm   =       %00000011               ; 00 = empty, 01 = normal,
                                                            ; 10 = left up, 11 = right up
                    
                    ;
                    ; FKONG - draw forward-facing vanilla Kong
                    ; Passed: kongx, kongy = Kong's position
                    ; Uses: AXY, vdraw temps or draw temps
                    ;
  8652  A9A9        fkong   lda     #khe+rarme+larme+%01    ; A = vanilla kong_bits
  8654  A200                ldx     #0
  8656  8E510E              stx     kongb
                    
                    ;
                    ; PCKONG -  redraw facing-kong from pieces
                    ; Passed: A = enable bits
                    ;         kongx, kongy = x,y position of Kong
                    ; Returns: nothing
                    ; Uses: vdraw temps, AXY
                    ;
  8659              pckong
  8659  AA                  tax                             ; kongb Þ>= A
  865A  4D510E              eor     kongb
  865D  8D510E              sta     kongb
  8660  8A                  txa
  8661  1019 ^867C          bpl     :pc1                    ; $80 = 0 ==> don't refresh head
                            assert  khe = $80
                    
                    ;
                  ATARI CAMAC Assembler Ver  1.0A  Page  54
  Donkey Kong  Thur Feb 24, 1983                       D1:KONG.           
  Kong                                              

                    ; refresh head
                    ;
  8663  48                  pha                             ; save pieces bits
  8664  A2A0                ldx     #high khead0
  8666  A099                ldy     #low khead0
  8668  2940                and     #khtyp
  866A  F004 ^8670          beq     :pchd1
  866C  A2A0                ldx     #high khead1
  866E  A0D3                ldy     #low khead1
  8670  86C5        :pchd1  stx     vsrc+1                  ; vsrc -> font
  8672  84C4                sty     vsrc
  8674  A204                ldx     #4                      ; head offset = (4,0)
  8676  A000                ldy     #0
  8678  20CF86              jsr     :koffs                  ; EOR head font
  867B  68                  pla
                    
                    ;
                    ; refresh right-arm pieces
                    ;
  867C  48          :pc1    pha
  867D  2930                and     #rarme + rarmt          ; right arm enabled?
  867F  F01B ^869C          beq     :pc2                    ; (nope...so punt)
  8681  2910                and     #rarmt                  ; arm goes up?
  8683  D008 ^868D          bne     :pcra1                  ; (yes)
                    
  8685  A9A1                lda     #high krarmd            ; arm goes down...
  8687  A26B                ldx     #low krarmd
  8689  A007                ldy     #7
  868B  D006 ^8693          bne     :pcra2                  ; [uncond]
                    
  868D  A9A1        :pcra1  lda     #high krarmu            ; arm goes up...
  868F  A294                ldx     #low krarmu
  8691  A003                ldy     #3
                    
  8693  85C5        :pcra2  sta     vsrc+1                  ; vsrc -> arm font
  8695  86C4                stx     vsrc
  8697  A208                ldx     #8                      ; x = common x_offset
  8699  20CF86              jsr     :koffs                  ; EOR the arm
                    
                    ;
                    ; refresh left-arm peices
                    ;
  869C  68          :pc2    pla
  869D  48                  pha
  869E  290C                and     #larme + larmt  ; left arm enabled?
  86A0  F01B ^86BD          beq     :pc3                    ; (nope...so ignore it)
  86A2  2904                and     #larmt
  86A4  D008 ^86AE          bne     :pcla1
                    
  86A6  A9A1                lda     #high klarmd            ; arm goes down...
  86A8  A20D                ldx     #low klarmd
  86AA  A007                ldy     #7
  86AC  D006 ^86B4          bne     :pcla2                  ; [uncond]
                    
  86AE  A9A1        :pcla1  lda     #high klarmu            ; arm goes up...
  86B0  A236                ldx     #low klarmu
  86B2  A003                ldy     #3
                  ATARI CAMAC Assembler Ver  1.0A  Page  55
  Donkey Kong  Thur Feb 24, 1983                       D1:KONG.           
  Kong                                              

                    
  86B4  85C5        :pcla2  sta     vsrc+1                  ; vsrc -> font
  86B6  86C4                stx     vsrc
  86B8  A200                ldx     #0                      ; x = common x_offset
  86BA  20CF86              jsr     :koffs
                    
                    ;
                    ; refresh feet peices
                    ;
  86BD  68          :pc3    pla                             ; X = A & feet_mask
  86BE  2903                and     #feetm
  86C0  AA                  tax
  86C1                      tldx    vsrc,:ftb               ; vsrc -> feet font to EOR
  86C1 +BDF286              LDA     :FTBH,X
  86C4 +85C5                STA     VSRC+1
  86C6 +BDEE86              LDA     :FTBL,X
  86C9 +85C4                STA     VSRC
  86CB  A200                ldx     #0                      ; x_offset = 0
  86CD  A014                ldy     #20                     ; y_offset = 20
                    
                    ;
                    ; draw the kong font vsrc points to
                    ; at the point (X + Kongx, Y + Kongy)
                    ;
  86CF  18          :koffs  clc                             ; X += kongx
  86D0  8A                  txa
  86D1  6D2518              adc     kongx
  86D4  AA                  tax
                    
  86D5  18                  clc                             ; Y += kongy
  86D6  98                  tya
  86D7  6D2618              adc     kongy
  86DA  A8                  tay
                    
                    ;
                    ; if drawing Kong from a cartoon, then use vanilla Draw()
                    ; otherwise, EOR Kong into graphics mem
                    ;
  86DB  AD300E              lda     seqflg                  ; nonzero ==> in cartoon
  86DE  D003 ^86E3          bne     :kdraw
  86E0  4C228C              jmp     vdraw                   ; go EOR the font into display mem
  86E3              :kdraw  dmv     src,vsrc                ; src -> font
  86E3 +A5C4                LDA     VSRC
  86E5 +85B7                STA     SRC
  86E7 +A5C5                LDA     VSRC+1
  86E9 +85B8                STA     SRC+1
  86EB  4CE88A              jmp     draw
                    
                    
  86EE  0BDA246E    :ftbl   db      low blank, low kfeet0, low kfeet1, low kfeet2
  86F2  9CA1A2A2    :ftbh   db      high blank, high kfeet0, high kfeet1, high kfeet2
                  ATARI CAMAC Assembler Ver  1.0A  Page  56
  Donkey Kong  Thur Feb 24, 1983                       D1:KONG.           
  Kong                                              

                    ;
                    ; UKONG - update the gorrilla
                    ; Passed: nothing
                    ; Uses: AXY, vdraw/draw temps, tmp?
                    ; Imports: Kong fonts, cdba, stamp_fx_stuff, clock
                    ; Updates: bacnt, nba, critter_creation_stuff
                    ; Notes:
                    ;       kstate < 0: Kong is stamping
                    ;       kstate = 0: Kong normal activity (just_standing)
                    ;       kstate > 0: Kong in barrel_throwing animation [Ramps only]
                    ;
  86F6              ukong
  86F6  A59F                lda     alivep
  86F8  3027 ^8721          bmi     :r
  86FA  AE500E              ldx     kstate                  ; is Kong stamping?
  86FD  1023 ^8722          bpl     :uk1                    ; (no)
                    
                    ;
                    ; update Kong stamping fx
                    ;
  86FF  CE660E              dec     ktimer                  ; -- delay timer
  8702  101D ^8721          bpl     :r                      ; (wait)
  8704  BD3A87              lda     :use,x                  ; get new Kong pieces onto stack
  8707  48                  pha
  8708  BD3687              lda     :mask,x                 ; erase some pieces of Kong
  870B  205986              jsr     pckong
  870E  68                  pla
  870F  205986              jsr     pckong                  ; draw the new pieces
  8712  EE500E              inc     kstate                  ; ++ state
  8715  F00A ^8721          beq     :r                      ; punt if back to normal activity
  8717                      ldi     ktimer,20               ; set delay timer
  8717 +A914                LDA     #20
  8719 +8D660E              STA     KTIMER
  871C                      ldi     stpfg,stplen            ; startup new "-> Stamp! <-" fx
  871C +A918                LDA     #STPLEN
  871E +8D9A0F              STA     STPFG
  8721  60          :r      rts
                    
                    ;
                    ; Update vanilla Kong
                    ;
  8722  AD530E      :uk1    lda     curscr                  ; on Ramps screen?
  8725  F012 ^8739          beq     :ramps                  ; (yes)
                            assert  RKRAMP = 0              ; [for simple BEQ to work]
                    
                    ;
                    ; wakeup and stamp every 256 jiffies.
                    ;
  8727  AD4F0E              lda     clock
  872A  C9C8                cmp     #$c8                    ; [arbitrary jiffy timer value]
  872C  D0F3 ^8721          bne     :r
                    
  872E              :stamp  ldi     kstate,$fc              ; setup font-transition index
  872E +A9FC                LDA     #$FC
  8730 +8D500E              STA     KSTATE
  8733                      ldi     ktimer,0                ; reset change_font timer
  8733 +A900                LDA     #0
                  ATARI CAMAC Assembler Ver  1.0A  Page  57
  Donkey Kong  Thur Feb 24, 1983                       D1:KONG.           
  Kong                                              

  8735 +8D660E              STA     KTIMER
  8738  60                  rts
                    
                    ;
                    ; Update Kong on Ramps screen
                    ; - Reaches back and forth, carrying barrels and dropping them on Mario
                    ; - Occasionally stops, stamping & roaring
                    ;
  8739  8A          :ramps  txa                             ; [simple test for KState]
  873A  D061 ^879D          bne     :r1                     ; (update barrel-reaching animation)
                    
                    ;
                    ; if its time, then setup to spawn a barrel
                    ;
  873C  AD3B0E              lda     cdba                    ; barrel creation timer hit bottom?
  873F  D050 ^8791          bne     :stest                  ; no...so see if time to stamp
                    
  8741  AC0A0E              ldy     cdiff                   ; reset barrel_creation_timer
  8744  B9D883              lda     sbadly,y
  8747  8D3B0E              sta     cdba
  874A  AD390E              lda     nba                     ; too many barrels created?
  874D  D9DD83              cmp     smaxba,y
  8750                      bge     :stest                  ; yes, so don't create this one...
  8750 +B03F ^8791          BCS     :STEST
  8752  A200                ldx     #0
  8754  8E660E              stx     ktimer                  ; reset change_font timer
                    
  8757  AD410E              lda     bacnt                   ; first barrel is wired
  875A  D00A ^8766          bne     :r3a
  875C  BE6187              ldx     :ibar,y                 ; get barrel's magic_bits
  875F  D029 ^878A          bne     :r2a
                    
                    ;
                    ; table of initial barrels
                    ;
U 8761  00          :ibar   db      BBFALL + BBEAMP
U 8762  00                  db      BBFALL + BBHORZ + BBEAMP
U 8763  00                  db      BBFALL + BBHORZ + BBMAG + BBEAMP
U 8764  00                  db      BBFALL + BBHORZ + BBMAG + BBMEAN + BBEAMP
U 8765  00                  db      BBFALL + BBHORZ + BBMAG + BBMEAN + BBEAMP
                    
                    ;
                    ; construct magic_bits for a barrel
                    ;
  8766  AD0AD2      :r3a    lda     random
  8769  D9D383              cmp     sbadiff,y               ; otherwise, consult the oracle
  876C                      bge     :r2                     ; (don't fall)
  876C +B011 ^877F          BCS     :R2
                    
  876E  AD0AD2              lda     random                  ; 50% of barrels travel horizontally
U 8771  2900                and     #BBHORZ
  8773  F007 ^877C          beq     :r3
  8775  AD0AD2              lda     random                  ; a = random&(BBMEAN+BBMAG)
U 8778  2900                and     #BBMEAN+BBMAG
U 877A  0900                ora     #BBHORZ                 ; a |= BBHORZ
U 877C  0900        :r3     ora     #BBFALL
  877E  AA                  tax
 *Error page  57  ATARI CAMAC Assembler Ver  1.0A  Page  58
  Donkey Kong  Thur Feb 24, 1983                       D1:KONG.           
  Kong                                              

                    
                    ;
                    ; every 8th barrel is a beam...
                    ;
  877F  AD410E      :r2     lda     bacnt
  8782  2907                and     #7
  8784  D004 ^878A          bne     :r2a
  8786  8A                  txa
U 8787  0900                ora     #BBEAMP
  8789  AA                  tax
  878A  8E520E      :r2a    stx     kcrit                   ; install critter type
  878D  EE500E              inc     kstate                  ; startup reaching_animation
  8790  60          :rr     rts
                    
                    ;
                    ; stamp every 8th barrel or so....
                    ;
  8791  AD410E      :stest  lda     bacnt                   ; time to stamp?
  8794  2907                and     #7
  8796  C906                cmp     #6                      ; [arbitrary -- stamp every 8th barrel or so]
  8798  D0F6 ^8790          bne     :rr                     ; don't stamp yet...
  879A  4C2E87              jmp     :stamp
                    
                    
                    ;
                    ; animate Kong
                    ; - reaching to the right, for a barrel
                    ; - standing with a barrel
                    ; - reaching to the left with a barrel (optional)
                    ; - spawn the barrel
                    ;
  879D  CE660E      :r1     dec     ktimer                  ; -- anim delay
  87A0  10EE ^8790          bpl     :rr
                    
  87A2  AD510E              lda     kongb                   ; undraw facing-fonts
  87A5  F006 ^87AD          beq     :r9
  87A7  205986              jsr     pckong
  87AA  AE500E              ldx     kstate                  ; [restore x=kong_state]
                    
  87AD  BD3988      :r9     lda     :ktbh,x                 ; undraw reaching-fonts
  87B0  F010 ^87C2          beq     :r4
  87B2  85C5                sta     vsrc+1
  87B4  BD3D88              lda     :ktbl,x
  87B7  85C4                sta     vsrc
  87B9  AE2518              ldx     kongx
  87BC  AC2618              ldy     kongy
  87BF  20228C              jsr     vdraw
                    
  87C2  AE500E      :r4     ldx     kstate                  ; if falling barrel, then skip
  87C5  E003                cpx     #3                      ;   the reach-right font
  87C7  D00A ^87D3          bne     :r5
  87C9  AD520E              lda     kcrit
U 87CC  2900                and     #BBFALL
  87CE  F003 ^87D3          beq     :r5
  87D0  EE500E              inc     kstate
                    
  87D3  EE500E      :r5     inc     kstate                  ; next state, please
 *Error page  58  ATARI CAMAC Assembler Ver  1.0A  Page  59
  Donkey Kong  Thur Feb 24, 1983                       D1:KONG.           
  Kong                                              

  87D6                      ldi     ktimer,20               ; set the anim delay timer
  87D6 +A914                LDA     #20
  87D8 +8D660E              STA     KTIMER
                    
  87DB  AE500E              ldx     kstate                  ; redraw Kong
  87DE  BD3D88              lda     :ktbl,x
  87E1  BC3988              ldy     :ktbh,x
  87E4  D006 ^87EC          bne     :r6a
  87E6  205986              jsr     pckong
  87E9  4CF987              jmp     :r6
  87EC  85C4        :r6a    sta     vsrc
  87EE  84C5                sty     vsrc+1
  87F0  AE2518              ldx     kongx
  87F3  AC2618              ldy     kongy
  87F6  20228C              jsr     vdraw
                    
  87F9  AD500E      :r6     lda     kstate                  ; if at final state, then spawn the barrel
  87FC  C905                cmp     #5
  87FE  D090 ^8790          bne     :rr
                    
  8800                      ldi     kstate,0                ; reset to normal_state
  8800 +A900                LDA     #0
  8802 +8D500E              STA     KSTATE
U 8805  200000              jsr     fslot                   ; find a critter slot
  8808  B086 ^8790          bcs     :rr                     ; (punt if error)
                    
  880A  A013                ldy     #lmapwid-7              ; assume rolling...
  880C  AD520E              lda     kcrit
U 880F  2900                and     #BBFALL
  8811  F002 ^8815          beq     :r7
  8813  A015                ldy     #lmapwid-5              ; its falling, so adjust starting_segment
  8815  98          :r7     tya
  8816  9DFC0E              sta     cseg,x
  8819                      ldix    clev,nlmapln-2          ; setup starting level
  8819 +A904                LDA     #NLMAPLN-2
  881B +9DEC0E              STA     CLEV,X
  881E                      ldix    ctyp,SPBAR              ; init critter species
  881E +A900                LDA     #SPBAR
  8820 +9DCC0E              STA     CTYP,X
  8823  AD520E              lda     kcrit                   ; install magic_bits
  8826  9D9C0E              sta     cbits,x
  8829  EE390E              inc     nba                     ; ++ barrel population count
  882C  EE410E              inc     bacnt                   ; ++ barrels_created count
U 882F  4C0000              jmp     create                  ; go create the barrel...
                    
                    
                    ;
                    ; table of kong-font masks for stamping
                    ;
        = 8736      :mask   =       * - $fc
  8832  A1                  db      rarme + %01 + khe               ; right arm down
  8833  3A                  db      rarme+rarmt + larme + %10       ; right arm up, left arm down
  8834  2F                  db      rarme + larme+larmt + %11       ; right arm down, left arm up
  8835  F2                  db      rarme+rarmt + khe+khtyp + %10   ; right arm up
                    
                    ;
                    ; table of kong-fonts for stamping
 *Error page  59  ATARI CAMAC Assembler Ver  1.0A  Page  60
  Donkey Kong  Thur Feb 24, 1983                       D1:KONG.           
  Kong                                              

                    ;
        = 873A      :use    =       * - $fc
  8836  F2                  db      rarme+rarmt + %10 + khe+khtyp   ; grin + right arm up
  8837  2F                  db      rarme + larme+larmt + %11       ; right arm down, left arm up
  8838  3A                  db      rarme+rarmt + larme + %10       ; right arm up, left arm down
  8839  A1                  db      rarme + %01 + khe               ; right arm down + normal_face
                    
                    ;
                    ; kong fonts for throwing or rolling a barrel
                    ; if :ktbh[i] == 0 then :ktbl[i] is the facing-font to use
                    ;
        = 8839      :ktbh   =       *-1
  883A  00                  db      0                       ; don't draw font
  883B  A3                  db      high krkong             ; face right
  883C  00                  db      0                       ; standing
  883D  A2                  db      high klkong             ; face left
  883E  00                  db      0                       ; standing (and final state)
                    
        = 883D      :ktbl   =       *-2                     ; first entry is "don't care"
  883F  7A                  db      low krkong              ; facing right
  8840  A9                  db      khe+rarme+larme+%01     ; standing
  8841  B8                  db      low klkong              ; facing left
  8842  A9                  db      khe+rarme+larme+%01     ; standing again
                  ATARI CAMAC Assembler Ver  1.0A  Page  61
  Donkey Kong  Thur Feb 24, 1983                       D1:DLI.            
  DLI handlers                                      

  8843              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;;                                                              ;;
                    ;;                      DLI handlers                            ;;
                    ;;                                                              ;;
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    
                    ;
                    ; Ramp's DLI handler
                    ; Only two phases:
                    ;       1 -- change color of PF2 to PF0 (remove yellow from screen)
                    ;       2 -- restore PF2 to original value
                    ;
  8843              dli0    local
       +                    EPROC
  8843 +            DLI0    PROC
  8843  48                  pha                             ; save state
  8844  A5A9                lda     dlicnt                  ; what phase are we?
  8846  3016 ^885E          bmi     :rti                    ; invalid, so punt
  8848  D005 ^884F          bne     :1
  884A  ADC402              lda     pcolr0+4                ; phase 1: set PF2 to PF0
  884D  D003 ^8852          bne     :2                      ; ['uncond']
  884F  ADC602      :1      lda     pcolr0+4+2              ; phase 2: set PF2 to its shadow
  8852  454F        :2      eor     colrsh                  ; hack attract shifting
  8854  254E                and     drkmsk
  8856  E6A9                inc     dlicnt
  8858  8D0AD4              sta     wsync                   ; *sigh* -- goodbye, cycles...
  885B  8D18D0              sta     colpm0+4+2              ; hack hardware PF2
  885E  68          :rti    pla                             ; get accum back
  885F  40                  rti
                    
                    ;
                    ; Hack prize DLIs for PL3
                    ; (Used for Ziggurat, Elevators and Conveyerbelts...)
                    ;
  8860              dli1
  8860              dli2
  8860              dli3
  8860  48                  pha                             ; save A,X
  8861  8A                  txa
  8862  48                  pha
  8863  A6A9                ldx     dlicnt                  ; position PL3 appropriately
  8865  BD0D18              lda     prizpos+1,x
  8868  8D03D0              sta     hposp0+3
  886B  E6A9                inc     dlicnt                  ; ++ dli counter
  886D  68                  pla
  886E  AA                  tax
  886F  68                  pla
  8870  40                  rti
                  ATARI CAMAC Assembler Ver  1.0A  Page  62
  Donkey Kong  Thur Feb 24, 1983                       D1:VBH.            
  VBH - Vertical blank handler                      

  8871              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;;                                                              ;;
                    ;;                      Vertical Blank Handler                  ;;
                    ;;                                                              ;;
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    
                    ;
                    ; VBH - Immediate vertical blank interrupt handler
                    ; Passed: Nothing
                    ; Uses: VBL temps, AXY
                    ; Updates: selected shadow registers, event timers, sound registers
                    ;
  8871              vbh     local
       +                    EPROC
  8871 +            VBH     PROC
  8871                      ldi     dlicnt,0                ; zero DLI index
  8871 +A900                LDA     #0
  8873 +85A9                STA     DLICNT
  8875                      mv      nmien,snmien            ; update NMIEN from fake shadow
  8875 +A5A6                LDA     SNMIEN
  8877 +8D0ED4              STA     NMIEN
  887A                      mv      hposp0+3,prizpos        ; setup pos of PL3 for first prize
  887A +AD0C18              LDA     PRIZPOS
  887D +8D03D0              STA     HPOSP0+3
  8880                      ldi     vdone,1                 ; yes, vblank is done...
  8880 +A901                LDA     #1
  8882 +85D6                STA     VDONE
                    
                    ;
                    ; Hack attract color shifting
                    ; This code is blatantly similar to that found in the OS's VBL handler
                    ;
  8884  A9FE                lda     #$fe                    ; (default no-attract values)
  8886  A200                ldx     #0
  8888  E614                inc     rtclok+2                ; ++ jiffy count
  888A  D006 ^8892          bne     :1
  888C  E613                inc     rtclok+1                ; ++ 256-jiffy count
  888E  E64D                inc     atract                  ; ++ attract timer
  8890  100A ^889C          bpl     :1a                     ; >= 0 ==> not in attract mode
                    
  8892  A44D        :1      ldy     atract                  ; in attract mode?
  8894  1006 ^889C          bpl     :1a                     ; (no)
  8896  A9F6                lda     #$f6                    ; half intensity
  8898  854D                sta     atract                  ; ensure ATRACT stays negative
  889A  A613                ldx     rtclok+1                ; semi-random shifting
                    
  889C  854E        :1a     sta     drkmsk
  889E  864F                stx     colrsh
                    
                    
                    ;
                    ; Debounce the pause key (which is the spacebar)
                    ;
  88A0  A5A5                lda     keydb                   ; key being debounced?
  88A2  3012 ^88B6          bmi     :2                      ; (no)
  88A4  C6A5                dec     keydb                   ; -- jiffy count
  88A6  100E ^88B6          bpl     :2                      ; (still not debounced)
                  ATARI CAMAC Assembler Ver  1.0A  Page  63
  Donkey Kong  Thur Feb 24, 1983                       D1:VBH.            
  VBH - Vertical blank handler                      

                    ;
                    ; the key is debounced.  Is it useful?
                    ;
  88A8  A59E                lda     gameon                  ; ignore if the game isn't running
  88AA  059B                ora     animon
  88AC  F008 ^88B6          beq     :2
  88AE  AD310E              lda     pausep                  ; its real, so complement the
  88B1  49FF                eor     #$ff                    ;  pause-mode flag
  88B3  8D310E              sta     pausep
                    
                    ;
                    ; Update color registers
                    ;
  88B6  A208        :2      ldx     #8
  88B8  BDC002      :3      lda     pcolr0,x                ; get shadow reg
  88BB  454F                eor     colrsh                  ; shift colors
  88BD  254E                and     drkmsk                  ; trim brightness
  88BF  9D12D0              sta     colpm0,x                ; give it to GTIA, or whatever
  88C2  CA                  dex
  88C3  10F3 ^88B8          bpl     :3
                    
                    ;
                    ; Update shadow registers
                    ;
  88C5                      dmv     dlistl,sdlstl           ; update Antic's DLIST pointer
  88C5 +AD3002              LDA     SDLSTL
  88C8 +8D02D4              STA     DLISTL
  88CB +AD3102              LDA     SDLSTL+1
  88CE +8D03D4              STA     DLISTL+1
  88D1                      mv      dmactl,sdmctl
  88D1 +AD2F02              LDA     SDMCTL
  88D4 +8D00D4              STA     DMACTL
  88D7                      mv      prior,gprior
  88D7 +AD6F02              LDA     GPRIOR
  88DA +8D1BD0              STA     PRIOR
                    
  88DD                      mv      strig0,trig0            ; get joystick triggers
  88DD +AD10D0              LDA     TRIG0
  88E0 +8D8402              STA     STRIG0
  88E3                      mv      strig1,trig1
  88E3 +AD11D0              LDA     TRIG1
  88E6 +8D8502              STA     STRIG1
                    
                    
                    ;
                    ; The joystick trigger has to be debounced under certain circumstances.
                    ; When OTrig is non_zero, the joystick trigger is invalid until it is
                    ; released.
                    ;
  88E9  A5AA                lda     otrig                   ; waiting for joystick trigger to go high?
  88EB  F00C ^88F9          beq     :tdb                    ; (no)
  88ED  AE080E              ldx     usr                     ; X = trigger#
  88F0  BD8402              lda     strig0,x                ; is trigger high (inactive?)
  88F3  F004 ^88F9          beq     :tdb                    ; (no, so its still disabled)
  88F5                      ldi     otrig,0                 ; enable trigger again
  88F5 +A900                LDA     #0
  88F7 +85AA                STA     OTRIG
                  ATARI CAMAC Assembler Ver  1.0A  Page  64
  Donkey Kong  Thur Feb 24, 1983                       D1:VBH.            
  VBH - Vertical blank handler                      

  88F9              :tdb
                    
  88F9  AD00D3              lda     porta                   ; get joystick values
  88FC  AA                  tax                             ;  joystick #0
  88FD  290F                and     #$0f
  88FF  8D7802              sta     stick0
                    
  8902  8A                  txa                             ;  joystick #1
  8903  4A                  lsr     a
  8904  4A                  lsr     a
  8905  4A                  lsr     a
  8906  4A                  lsr     a
  8907  8D7902              sta     stick1
                    
                    ;
                    ; Return from VBL if in pause-mode
                    ;
  890A  AD310E              lda     pausep                  ; check the flag...
  890D  F006 ^8915          beq     :5                      ; (nonzero, so don't pause...)
                    
  890F  202295              jsr     sroff                   ; first, turn off sound regs
  8912  4C62E4              jmp     xitvbl                  ; just vanish
                    
                    ;
                    ; Test for mutual exclusion with foreground (VBL on/off switch)
                    ;
  8915  C69A        :5      dec     vsem
  8917  1003 ^891C          bpl     :6
  8919  4C4989              jmp     evbh                    ; punt if P(VSEM) fails
  891C  EE4F0E      :6      inc     clock                   ; ++ gametime clock
                    
                    ;
                    ; Hack critter spawning timers
                    ; These get decremented until they go zero, then the foreground spawning
                    ;  logic takes over.
                    ;
  891F                      local
       +                    EPROC
  891F +                    PROC
  891F  AD3B0E              lda     cdba                    ; -- barrel creation ticker
  8922  F003 ^8927          beq     :1
  8924  CE3B0E              dec     cdba
                    
  8927  AD3C0E      :1      lda     cdfth                   ; -- firecritter creation ticker
  892A  F003 ^892F          beq     :2
  892C  CE3C0E              dec     cdfth
                    
  892F  AD3D0E      :2      lda     cdspr                   ; -- spring creation ticker
  8932  F003 ^8937          beq     :3
  8934  CE3D0E              dec     cdspr
                    
  8937  AD3E0E      :3      lda     cdbsn                   ; -- sandpile creation ticker
  893A  F003 ^893F          beq     :4
  893C  CE3E0E              dec     cdbsn
                    
  893F              :4      ldi     atract,0                ; reset ATRACT timer
  893F +A900                LDA     #0
                  ATARI CAMAC Assembler Ver  1.0A  Page  65
  Donkey Kong  Thur Feb 24, 1983                       D1:VBH.            
  VBH - Vertical blank handler                      

  8941 +854D                STA     ATRACT
                    
  8943  207B92              jsr     cartvb                  ; cartoon VB processor
  8946  204F89              jsr     usnd                    ; update sounds
  8949  E69A        evbh    inc     vsem                    ; release mutex with foreground
  894B  4C62E4              jmp     xitvbl                  ; exit from VBL
                  ATARI CAMAC Assembler Ver  1.0A  Page  66
  Donkey Kong  Thur Feb 24, 1983                       D1:VBH.            
  VBH - Vertical blank handler                      

                    ;
                    ; Null creature handlers
                    ;
  894E              uladr
  894E  60                  rts
                  ATARI CAMAC Assembler Ver  1.0A  Page  67
  Donkey Kong  Thur Feb 24, 1983                       D1:SND.            
  sound drivers                                     

  894F              ******************************
                    * sfx driver for donkey kong *
                    *           02/03/83         *
                    *                            *
                    *                            *
                    *                            *
                    * notes:                     *
                    * TABLE DRIVEN SINGLE VOICE  *
                    *        VERSION             *
                    *                            *
                    *                            *
                    ******************************
                    *         priorities         *
                    *                            *
                    *   increasing order of      *
                    *        priority            *
                    *                            *
                    *       ch1                  *
                    *                            *
                    *       walk                 *
                    *       jump                 *
                    *       srivet                *
                    *       rotate               *
                    *                            *
                    *                            *
                    *       ch2                  *
                    *                            *
                    *       march2               *
                    *       march1               *
                    *       attack               *
                    *       warning (not implemented)
                    *       hammer (in ch 2,3,4) *
                    *                            *
                    *       ch3                  *
                    *                            *
                    *       stamp                *
                    *       fall                 *
                    *       grin                 *
                    *       girl1 (in ch 3,4)    *
                    *                            *
                    *       ch4                  *
                    *                            *
                    *       spring               *
                    *       points               *
                    *                            *
                    *       music in ch 1 & 2    *
                    *                            *
                    *       howmuch              *
                    *       intro                *
                    *                            *
                    *                            *
                    ******************************
                  ATARI CAMAC Assembler Ver  1.0A  Page  68
  Donkey Kong  Thur Feb 24, 1983                       D1:SND.            
  sound drivers                                     

                    ;
                    ; USND - main sound driver
                    ; Passed: nothing
                    ; Returns: nothing
                    ; Uses: sound temps, AXY
                    ;
  894F              usnd    local
       +                    EPROC
  894F +            USND    PROC
  894F  A900                lda     #0                      ; done every vbl
  8951  8DA60F              sta     cnt1s
  8954  8DA80F              sta     cnt2s
  8957  8DAA0F              sta     cnt3s
  895A  8DAC0F              sta     cnt4s
  895D  A20F                ldx     #mstnum         ;init sound state flag ctr
  895F  8E7C0F              stx     mstctr
  8962              :lp                             ;sound loop
                    
  8962  AE7C0F              ldx     mstctr
  8965  BD950F              lda     mstate,x
  8968  F003 ^896D          beq     :off
  896A  207E89              jsr     dosound
  896D              :off
  896D  CE7C0F              dec     mstctr
  8970  10F0 ^8962          bpl     :lp
                    
                    ;
                    ; load all audio registers
                    ;
  8972  A207        load    ldx     #7
  8974  BDA50F      :lp1    lda     frq1s,x
  8977  9D00D2              sta     audf1,x
  897A  CA                  dex     
  897B  10F7 ^8974          bpl     :lp1
  897D  60                  rts                             ; all done...
  897E                      local
       +                    EPROC
  897E +                    PROC
                    
                    ;
                    ; indirect jsr a sound routine...
                    ;
  897E              dosound
  897E  18                  clc
  897F  A98F                lda     #low intro
  8981  7DAB9B              adc     sjtab,x
  8984  85D3                sta     stmp
  8986  A989                lda     #high intro
  8988  6900                adc     #0
  898A  85D4                sta     stmp+1
  898C  6CD300              jmp     (stmp)          ;do indirect jmp
                    
                    
                    
                    *****************************
                    * music routine:            *
                    * intro                     *
                  ATARI CAMAC Assembler Ver  1.0A  Page  69
  Donkey Kong  Thur Feb 24, 1983                       D1:SND.            
  sound drivers                                     

                    *                           *****************
                    *intrx1 = duration index of ch1 current note*
                    *intrx2 = duration index of ch2 current note*
                    *music1 = index into ch1 tables             *
                    *music2 = index into ch2 tables             *
                    *********************************************
                    ;
                    ;ape walks up ladder with girl
                    ; activated by: intfg = #intle1, music2 = #intle2
                    ; assumes totdrs =< 0 on entry, will exit w/ totdrs<0
                    ;
  898F              intro
  898F  A9A8                lda     #intc1          ;audio control
  8991  8DA60F              sta     cnt1s
  8994  8DA80F              sta     cnt2s
  8997  CE8E0F              dec     totdrs          ;check duration
  899A  1014 ^89B0          bpl     :1$             ;done?
  899C  CEA40F              dec     intfg            ;yes. get next note
  899F  F026 ^89C7          beq     :done           ;done with tune?
  89A1  AEA40F              ldx     intfg           ;no, play next note
  89A4  BD7497              lda     intl1-1,x       ;get duration
  89A7  8D8E0F              sta     totdrs
  89AA  BD6E97              lda     intf1-1,x       ;get note
  89AD  8DA50F              sta     frq1s
  89B0              :1$
  89B0  CE900F              dec     totdrs+2
  89B3  1012 ^89C7          bpl     :done
  89B5  CEB00F              dec     music2
  89B8  AEB00F              ldx     music2
  89BB  BD9497              lda     intl2-1,x
  89BE  8D900F              sta     totdrs+2
  89C1  BD7A97              lda     intf2-1,x
  89C4  8DA70F              sta     frq2s
  89C7              :done
  89C7  60                  rts
                    
                    ;
                    ; activated by:  howfg = globix(1,2) = #howlen
                    ;
  89C8              howmuch local
       +                    EPROC
  89C8 +            HOWMUCH PROC
  89C8  A200                ldx     #ch1off         ;chan 1 offset
                                                    ;lo of current freq table
  89CA  A07B                ldy     #low howa1
  89CC  A99B                lda     #high howa1     ;args for call to muspr
  89CE  20888A              jsr     muspr
                    
  89D1  A202                ldx     #ch2off         ;chan 2 offset
                                                    ;lo of current freq table
  89D3  A083                ldy     #low howa2
  89D5  A99B                lda     #high howa2
  89D7  20888A              jsr     muspr
                                                    ;update top-level status
  89DA  8DA30F              sta     howfg           ; w/ channel 2's flag
  89DD  60                  rts
                            
                  ATARI CAMAC Assembler Ver  1.0A  Page  70
  Donkey Kong  Thur Feb 24, 1983                       D1:SND.            
  sound drivers                                     

                    ;****
                    ; activate by setting: rivfg = globix = globix + 2 = #rivlen
                    ;
  89DE              srivet  local                   ;man removes last srivet
       +                    EPROC
  89DE +            SRIVET  PROC
  89DE  A200                ldx     #ch1off         ;chan 1 offset
                                                    ;lo of current freq table
  89E0  A08B                ldy     #low riva1
                                                    ;hi of current freq table
  89E2  A99B                lda     #high riva1
  89E4  20888A              jsr     muspr
                    
  89E7  A202                ldx     #ch2off         ;chan 2 offset
                                                    ;lo of current freq table
  89E9  A093                ldy     #low riva2
                                                    ;hi of current freq table
  89EB  A99B                lda     #high riva2
  89ED  20888A              jsr     muspr
                                                    ;update sound state var
  89F0  8DA00F              sta     rivfg
  89F3  60                  rts
                    
                    
                    ******************
                    * GENERALIZE     *
                    * SINGLE VOICE   *
                    *     DRIVER     *
                    ******************
                    
  89F4              voice
  89F4  DE950F              dec     mstate,x        ;countdown state flag
  89F7  BDCB9B              lda     fl,x            ;freq, control adr into Zvars
  89FA  85CB                sta     frq
  89FC  BDBB9B              lda     fh,x
  89FF  85CC                sta     frq+1
  8A01  BDEB9B              lda     cnl,x
  8A04  85CD                sta     cnt
  8A06  BDDB9B              lda     cnh,x
  8A09  85CE                sta     cnt+1
  8A0B  BC950F              ldy     mstate,x        ;bias into freq, control table
  8A0E  BDFB9B              lda     chnum,x         ;channel #
  8A11  AA                  tax
  8A12  B1CB                lda     (frq),y         ;fetch table values
  8A14  9DA50F              sta     frq1s,x         ;put in the correct channel shadow reg
  8A17  B1CD                lda     (cnt),y
  8A19  9DA60F              sta     cnt1s,x
  8A1C  AE7C0F              ldx     mstctr          ;recover X as state flag ctr
  8A1F  60                  rts
                    
                    
                    ******************
                    *       ch1      *
                    *       walk     *
                    *       jump     *
                    *       srivet    *
                    *       rotate   *
                  ATARI CAMAC Assembler Ver  1.0A  Page  71
  Donkey Kong  Thur Feb 24, 1983                       D1:SND.            
  sound drivers                                     

                    ******************
                    
                    ;****
                    ; activate by setting wlkfg = #wlklen
                    
                    ;walk                           ;man walking
                    
                    ;****
                    ; activate by setting jmpfg = #jmplen
                    
                    ;jump                           ;man jumps
                    
                    ;****
                    ; activated by: rotfg = rotlen
                    
                    ;rotate                         ;man rotates after being hit
                    
                    ******************
                    *       ch2      *
                    *       march2   *
                    *       march1   *
                    *       attack   *
                    *       warning ?*
                    *hammer relocated*
                    ******************
                    
                    
                    ;****
                    ; activated by: mr2fg = mr2len
                    
                    ;march2                 ;background music
                    
                    ;****
                    ; activated by: mr1fg = mr1len
                    
                    ;march1                         ;background music
                    
                    ;****
                    ; activated by: atkfg = atklen
                    
                    
                    ;attack                         ;theme while man holds hammer
                    
                    
                    *****************
                    *       ch3     *
                    *       stamp   *
                    *       fall    *
                    *       grin    *
                    *       girl1   *
                    *****************
                    
                    ;****
                    ; activated by: stpfg = stplen
                    
                    ;stamp                          ;ape stamps foot &
                                                    ;  ape falls
                  ATARI CAMAC Assembler Ver  1.0A  Page  72
  Donkey Kong  Thur Feb 24, 1983                       D1:SND.            
  sound drivers                                     

                    
                    ;****
                    ; activated by: falfg <> 0 & vtime=0 & falf3=falfv & falc3=falcv
                    ; uses: vtime - mutual exclusive w/ hammer
                    
  8A20              fall    local                   ;springy things falling and
       +                    EPROC
  8A20 +            FALL    PROC
                                                    ;man falling and ape falling
  8A20  ADB10F              lda     falf3
  8A23  8DA90F              sta     frq3s
  8A26  ADB20F              lda     falc3
  8A29  8DAA0F              sta     cnt3s
  8A2C  EEAF0F              inc     vtime           ;volume increment? (every 16 vblank)
  8A2F  ADAF0F              lda     vtime
  8A32  2907                and     #7              ;ck lower 3 bits
  8A34  D003 ^8A39          bne     :1$
  8A36  EEB20F              inc     falc3
  8A39              :1$
  8A39  EEB10F              inc     falf3
  8A3C  38                  sec
  8A3D  ADB10F              lda     falf3
  8A40  E966                sbc     #102
  8A42  D003 ^8A47          bne     :ret            ;not finished yet-->
  8A44  8D990F              sta     falfg           ;0 state flag
  8A47              :ret
  8A47  60                  rts
                    
                    ;****
                    ; activated by: grnfg = grnlen
                    
                    ;grin                           ;ape grimacing and
                                                    ;sfx at broken heart
                    
  8A48              girl1   local                           ;boy gets girl
       +                    EPROC
  8A48 +            GIRL1   PROC
  8A48  A204                ldx     #ch3off         ;chan 3 offset
  8A4A  A09B                ldy     #low grla3      ;ptr table adr as arg
  8A4C  A99B                lda     #high grla3
  8A4E  20888A              jsr     muspr
                    
                    
  8A51  A206                ldx     #ch4off         ;chan 4 offset
                                                    ;lo of current freq table
  8A53  A0A3                ldy     #low grla4
  8A55  A99B                lda     #high grla4
  8A57  20888A              jsr     muspr
  8A5A  8D970F              sta     grlfg           ;update flag
  8A5D  60                  rts
                    
                    
                    *****************
                    *       ch4     *
                    *       spring  *
                    *       points  *
                    *****************
                  ATARI CAMAC Assembler Ver  1.0A  Page  73
  Donkey Kong  Thur Feb 24, 1983                       D1:SND.            
  sound drivers                                     

                    
                    
                    ;****
                    
                    ; activated by: sprfg = srplen
                    
                    ;spring                         ;springy things bouncing
                    
                    ;points                         ;points scored
                    
                    
                    ;****
                    ; activated by: hamfg <> 0, hamix+2 = -1, hamix+4 = -12, hamix+6 = -17
                    
                    
                    ;hammer strikes killable object
  8A5E              hammer  local
       +                    EPROC
  8A5E +            HAMMER  PROC
  8A5E  A202                ldx     #ch2off         ;channel one offset
  8A60              :chpr
  8A60  FE7C0F              inc     hamix,x
  8A63  3013 ^8A78          bmi     :nxch           ;still neg, channel not started yet-->
  8A65  BC7C0F              ldy     hamix,x
  8A68  C045                cpy     #hamlen
  8A6A  B013 ^8A7F          bcs     :endch          ;this channel is OFF-->
  8A6C  B9C89A              lda     hamf,y
  8A6F  9DA50F              sta     frq1s,x
  8A72  B9EC96              lda     hamc,y
  8A75  9DA60F              sta     cnt1s,x
  8A78              :nxch
  8A78  E8                  inx                     ;bump to next channel bias
  8A79  E8                  inx
  8A7A  E008                cpx     #8              ;finished w/ channel 4?
  8A7C  90E2 ^8A60          bcc     :chpr           ;not yet-->
  8A7E  60                  rts
  8A7F              :endch
  8A7F  8A                  txa                     ;channel offset
  8A80  E906                sbc     #6              ;CARRY already SET to get here
  8A82  8D9B0F              sta     hamfg           ;=0 if channel 4
  8A85  4C788A              jmp     :nxch
                    
                    
                    **********************
                    * music routine with *
                    *  simple envelope   *
                    **********************
                    
                    ******************************************************************
                    * this is re-entrant to a point. only a few routines can use this*
                    * subroutine. since a finite number of shadows are used; only    *
                    * four voices can be utiilized and all four voices have to be    *
                    * sounded to completion so the shadows will be re-initialized    *
                    * it's best to use this as a subroutine only if you know that    *
                    * no other sound routines will use it.                           *
                    ******************************************************************
  8A88              muspr   proc
                  ATARI CAMAC Assembler Ver  1.0A  Page  74
  Donkey Kong  Thur Feb 24, 1983                       D1:SND.            
  sound drivers                                     

  8A88  DE8E0F              dec     totdrs,x        ;get next note?
  8A8B  102A ^8AB7          bpl     :comp           ;(make sure totdrs=<0 at end of tune)
                    
  8A8D  84D3                sty     stmp            ;get ptr to adr table into Z vars
  8A8F  85D4                sta     stmp+1
  8A91  A007                ldy     #7
  8A93              :adrlp                          ;load addresses
  8A93  B1D3                lda     (stmp),y
  8A95  99CB00              sta     frq,y
  8A98  88                  dey
  8A99  10F8 ^8A93          bpl     :adrlp
                    
  8A9B  DE7D0F              dec     globix,x        ;global index into sound table
  8A9E  3035 ^8AD5          bmi     :chdon          ;DONE w/ this channel, QUIT-->
                    
  8AA0  BC7D0F              ldy     globix,x
  8AA3  B1CB                lda     (frq),y         ;get next freq in sound table
  8AA5  9D850F              sta     musfs,x         ;freq shadow
  8AA8  B1CD                lda     (cnt),y         ;control byte from sound table
  8AAA  9D860F              sta     muscs,x         ;control shadow
  8AAD  B1CF                lda     (length),y      ;length byte from sound table
  8AAF  9D8E0F              sta     totdrs,x        ;total duration shadow
  8AB2  B1D1                lda     (sustain),y
  8AB4  9D8D0F              sta     suslns,x        ;sustain length shadow
                    
  8AB7              :comp
  8AB7  DE8D0F              dec     suslns,x        ;done with sustain?
  8ABA  100A ^8AC6          bpl     :load           ;no-->
                                                    ;decrement volume
  8ABC  BD860F      :vol    lda     muscs,x
  8ABF  290F                and     #$0f            ;get right side
  8AC1  F003 ^8AC6          beq     :load           ;don't decrement no-volume
  8AC3  DE860F              dec     muscs,x
                    
  8AC6  BD850F      :load   lda     musfs,x         ;load audio registers
  8AC9  9DA50F              sta     frq1s,x
  8ACC  BD860F              lda     muscs,x
  8ACF  9DA60F              sta     cnt1s,x
  8AD2  A901                lda     #1
  8AD4  60                  rts
                    
  8AD5              :chdon
  8AD5  A900                lda     #0
  8AD7  60                  rts
                  ATARI CAMAC Assembler Ver  1.0A  Page  75
  Donkey Kong  Thur Feb 24, 1983                       D1:DRAW.           
  Drawing and masking                               

  8AD8              ; vers. 1-17-83a
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;;                                                      ;;
                    ;;                Drawing and Masking                   ;;
                    ;;                                                      ;;
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    
                    ;
                    ; A font looks like:
                    ;
                    ; struct font {
                    ;       char    width,                  /* bytes wide */
                    ;               height,                 /* scanlines high */
                    ;               bytes[width*height];    /* vector of source bytes */
                    ; Þ=
                    ;
                    ; In foreground drawing (DRAW), bytes are shifted right an appropriate
                    ;  number of pixels, so as to align the left side of the font with
                    ;  the X position passed to the pixel engine.  In background, the
                    ;  amount of CPU bandwidth this shifting consumes is unacceptable, so
                    ;  fonts are always aligned on byte boundaries.  Instead, three more
                    ;  shifted fonts are created at powerup init time, and fractional-byte
                    ;  horizontal addresses are simulated by using appropriate shifted fonts.
  8AD8  18          cldrw1  clc
  8AD9  206A8B              jsr     stamp
  8ADC  A200                ldx     #0
  8ADE  86B9                stx     si
  8AE0  900B ^8AED          bcc     draw1
                    
                    
                    ;
                  ATARI CAMAC Assembler Ver  1.0A  Page  76
  Donkey Kong  Thur Feb 24, 1983                       D1:DRAW.           
  Foreground drawing engine                         

  8AE2              ;
                    ; CLDRAW - clear, then draw
                    ; Passed: same as DRAW below
                    ; This is simply an alternate entry point that first does a Clear() on
                    ; the area of graphics memory about to be drawn into.
                    ;
  8AE2  20658B      cldraw  jsr     clear
  8AE5  9006 ^8AED          bcc     draw1
  8AE7  60                  rts
                    
                    ;
                    ; DRAW - pixel hacking for foreground
                    ; Passed:
                    ;       SRC -> source font
                    ;       X = X position
                    ;       Y = Y position
                    ; Uses: all DRAW temps, tmp, AXY
                    ; Imports: PFMSK[], ADDRL[], ADDRH[]
                    ;
  8AE8              draw    local
       +                    EPROC
  8AE8 +            DRAW    PROC
  8AE8  20D48B              jsr     dsetup                  ; setup foreground draw stuff
  8AEB  B077 ^8B64          bcs     :r                      ; punt if err
                    
  8AED              draw1
  8AED  C6B2        :loop   dec     hei                     ; -- line count
  8AEF  3073 ^8B64          bmi     :r                      ; (punt if after last line)
  8AF1                      ldi     shbits,0                ; zero shift-in bits
  8AF1 +A900                LDA     #0
  8AF3 +85BB                STA     SHBITS
  8AF5                      mv      xi,xisav                ; set X-index
  8AF5 +A5B1                LDA     XISAV
  8AF7 +85B0                STA     XI
  8AF9  A6AF                ldx     yi                      ; point DEST at graphics line
  8AFB                      tldx    dest,addr
  8AFB +BD0011              LDA     ADDRH,X
  8AFE +85B6                STA     DEST+1
  8B00 +BD0010              LDA     ADDRL,X
  8B03 +85B5                STA     DEST
  8B05  E6AF                inc     yi                      ; ++ line number
  8B07                      mv      tmp,rn                  ; tmp = byte count
  8B07 +A5B3                LDA     RN
  8B09 +8580                STA     TMP
                    
  8B0B  A4B9        :loop1  ldy     si                      ; get source byte
  8B0D  B1B7                lda     (src),y
  8B0F  E6B9                inc     si                      ; ++ source index
  8B11  48                  pha                             ; save byte for later...
                    
                    ;
                    ; Shift byte right SHCNT times
                    ;
  8B12  A6BA                ldx     shcnt                   ; X = shift count
  8B14  F009 ^8B1F          beq     :4                      ; (zero ==> don't shift)
  8B16  46BB        :5      lsr     shbits                  ; shift saved bits
  8B18  6A                  ror     a                       ;   into top of accum.
                  ATARI CAMAC Assembler Ver  1.0A  Page  77
  Donkey Kong  Thur Feb 24, 1983                       D1:DRAW.           
  Foreground drawing engine                         

  8B19  46BB                lsr     shbits                  ; do that again
  8B1B  6A                  ror     a
  8B1C  CA                  dex                             ; -- shift count
  8B1D  D0F7 ^8B16          bne     :5                      ; (more to do)
                    
  8B1F  8581        :4      sta     tmph                    ; save new pixels in tmph
  8B21  AA                  tax                             ; get the old-pixel mask
  8B22  BD001B              lda     pfmsk,x
  8B25  A4B0                ldy     xi                      ; and with byte in dest
  8B27  31B5                and     (dest),y
  8B29  0581                ora     tmph                    ;  or with new pixels
  8B2B  91B5                sta     (dest),y                ;   and shove into graphics mem
                    
  8B2D  E6B0                inc     xi                      ; ++ dest index
                    
  8B2F  68                  pla                             ; get original source byte
  8B30  85BB                sta     shbits                  ; save away for next shift
                    
  8B32  C680                dec     tmp                     ; -- byte count
  8B34  D0D5 ^8B0B          bne     :loop1                  ; (more to do)
                    
                    ;
                    ; Handle left-over bits on the right side of the font:
                    ;
  8B36  A4BB                ldy     shbits                  ; are there any?
  8B38  F020 ^8B5A          beq     :7                      ; (no)
  8B3A  A6BA                ldx     shcnt                   ; with shift==0, its impossible
  8B3C  F01C ^8B5A          beq     :7                      ; (yes, its impossible....)
  8B3E  A5B0                lda     xi                      ; is there room?
  8B40  C928                cmp     #bwide
  8B42                      bge     :7                      ; (no, ran past 40 chars)
  8B42 +B016 ^8B5A          BCS     :7
                    
  8B44  98                  tya
  8B45  0A          :6      asl     a                       ; align bits by shifting left
  8B46  0A                  asl     a
  8B47  E8                  inx
  8B48  E004                cpx     #4
  8B4A                      blt     :6
  8B4A +90F9 ^8B45          BCC     :6
                    
  8B4C  8581                sta     tmph                    ; install pixels in display
  8B4E  AA                  tax                             ;   get inverse pixel mask
  8B4F  BD001B              lda     pfmsk,x
  8B52  A4B0                ldy     xi
  8B54  31B5                and     (dest),y                ;   AND with destination pixels
  8B56  0581                ora     tmph                    ;   OR our new pixels in
  8B58  91B5                sta     (dest),y                ;   and put 'em in display mem
                    
  8B5A  18          :7      clc                             ; si += rinc
  8B5B  A5B4                lda     rinc
  8B5D  65B9                adc     si
  8B5F  85B9                sta     si
  8B61  4CED8A              jmp     :loop
                    
  8B64  60          :r      rts
                  ATARI CAMAC Assembler Ver  1.0A  Page  78
  Donkey Kong  Thur Feb 24, 1983                       D1:DRAW.           
  CLEAR graphics mem                                

  8B65              ;
                    ; CLEAR - clear a rectangle on the graphics screen
                    ; Passed: X = x_position
                    ;         Y = y_position
                    ;       SRC -> bogus font (CLEAR just looks at x_size, y_size)
                    ; Returns: nothing
                    ; Uses: A, random (inconsequential) Draw() temps
                    ;
  8B65              clear   local
       +                    EPROC
  8B65 +            CLEAR   PROC
  8B65  20D48B              jsr     dsetup                  ; setup Draw() parameters
  8B68  B064 ^8BCE          bcs     :r                      ; punt if err, or nothing to draw
                    
                    ;
                    ; CLEAR falls thru to STAMP w/ CARRY=RESET
                    
                    ;
                    ; STAMP - overwrite a rectangle ON BYTE BOUNDARY on the graphics screen
                    ; Passed: all output variables from DSETUP
                    ;         CARRY: SET
                    ;       SRC -> bytes to overwrite
                    ; Returns: preserves all output variables from DSETUP
                    ; Uses: A, random (inconsequential) Draw() temps
  8B6A              stamp
  8B6A                      mv      tmph,hei
  8B6A +A5B2                LDA     HEI
  8B6C +8581                STA     TMPH
  8B6E                      mv      shbits,yi
  8B6E +A5AF                LDA     YI
  8B70 +85BB                STA     SHBITS
  8B72  A6BA                ldx     shcnt                   ; consult Right-Mask as to
  8B74  BDD08B              lda     :rmask,x                ; which pixels to clobber
  8B77  85B0                sta     xi                      ; save mask in XI
  8B79  A200                ldx     #0                      ; for indirect STORE w/ X
                    
                    
  8B7B  A4BB        :loop   ldy     shbits                  ; point Dest at current scanline
  8B7D                      tldy    dest,addr
  8B7D +B90011              LDA     ADDRH,Y
  8B80 +85B6                STA     DEST+1
  8B82 +B90010              LDA     ADDRL,Y
  8B85 +85B5                STA     DEST
  8B87  E6BB                inc     shbits                  ; ++ scanline number
  8B89                      mv      tmp,rn                  ; tmp = horiz. count
  8B89 +A5B3                LDA     RN
  8B8B +8580                STA     TMP
                    
                    ;
                    ; clear leading pixels
                    ;
  8B8D  A5B0                lda     xi
  8B8F  A4B1                ldy     xisav
  8B91  31B5                and     (dest),y
  8B93  9008 ^8B9D          bcc     :cl1
  8B95  01B7                ora     (src,x)
  8B97                      dinc    src
                  ATARI CAMAC Assembler Ver  1.0A  Page  79
  Donkey Kong  Thur Feb 24, 1983                       D1:DRAW.           
  CLEAR graphics mem                                

  8B97 +E6B7                INC     SRC
  8B99 +D002 ^8B9D          BNE     ?0068
  8B9B +E6B8                INC     SRC+1
  8B9D +            ?0068
  8B9D              :cl1
  8B9D  91B5                sta     (dest),y
  8B9F  C8                  iny
                    
                    ;
                    ; clobber middle pixels
                    ;
  8BA0  A900                lda     #0
  8BA2  C680        :2      dec     tmp                     ; -- count
  8BA4  F010 ^8BB6          beq     :4                      ; punt if no more middle bytes
  8BA6  9008 ^8BB0          bcc     :cl2
  8BA8  A1B7                lda     (src,x)
  8BAA                      dinc    src
  8BAA +E6B7                INC     SRC
  8BAC +D002 ^8BB0          BNE     ?0069
  8BAE +E6B8                INC     SRC+1
  8BB0 +            ?0069
  8BB0              :cl2
  8BB0  91B5                sta     (dest),y                ; zero some mem...
  8BB2  C8                  iny
  8BB3  4CA28B              jmp     :2                      ; uncond-->
                    
                    ;
                    ; clear trailing pixels
                    ;
  8BB6              :4
  8BB6  A5B0                lda     xi                      ;get mask
  8BB8  F010 ^8BCA          beq     :cont                   ;0 means on byte boundary
  8BBA  49FF                eor     #$ff
  8BBC  31B5                and     (dest),y
  8BBE  9008 ^8BC8          bcc     :cl3
  8BC0  01B7                ora     (src,x)
  8BC2                      dinc    src
  8BC2 +E6B7                INC     SRC
  8BC4 +D002 ^8BC8          BNE     ?006A
  8BC6 +E6B8                INC     SRC+1
  8BC8 +            ?006A
  8BC8              :cl3
  8BC8  91B5                sta     (dest),y
                    
                    ;
                    ; loop continuation
                    ;
  8BCA  C681        :cont   dec     tmph                    ; -- scanline count
  8BCC  D0AD ^8B7B          bne     :loop                   ; (more lines to clear)
  8BCE  18          :r      clc
  8BCF  60                  rts
                    
                    ;
                    ; right masks
                    ;
  8BD0  00C0F0FC    :rmask  db      %00000000,%11000000,%11110000,%11111100
                    ;
                  ATARI CAMAC Assembler Ver  1.0A  Page  80
  Donkey Kong  Thur Feb 24, 1983                       D1:DRAW.           
  CLEAR graphics mem                                

                    ; DSETUP - DRAW/CLEAR setup
                    ; Passed: usual foreground draw stuff
                    ; Returns: Cf set ==> error, so caller should punt
                    ;
  8BD4              dsetup  local
       +                    EPROC
  8BD4 +            DSETUP  PROC
  8BD4  84AF                sty     yi                      ; save line#
  8BD6  A000                ldy     #0
  8BD8  84B4                sty     rinc                    ; rinc = 0
                    
  8BDA  B1B7                lda     (src),y                 ; get width count
  8BDC  85B3                sta     rn
  8BDE  C8                  iny
  8BDF  B1B7                lda     (src),y                 ; get height count
  8BE1  85B2                sta     hei
  8BE3  C8                  iny
  8BE4  84B9                sty     si                      ; save source index
                    
  8BE6  E0A0                cpx     #nwide                  ; X < 0?
  8BE8                      blt     :1                      ; (no)
  8BE8 +9010 ^8BFA          BCC     :1
                    
                    ;
                    ; Hack left-hand clippage
                    ;
  8BEA  8A                  txa                             ; a = -x (2's comp)
  8BEB  49FF                eor     #$ff
                    ;tay
                    ;iny
                    ;tya
  8BED  4A                  lsr     a                       ; a = (a>>2) + 1
  8BEE  4A                  lsr     a
  8BEF  6901                adc     #1
                    
  8BF1  85B4                sta     rinc                    ; rinc = a
  8BF3  65B9                adc     si                      ; si += a
  8BF5  85B9                sta     si
  8BF7  4C098C              jmp     :3                      ; rn -= a
                    
                    ;
                    ; Check right-boundary
                    ;
  8BFA  8A          :1      txa                             ; a = (x>>2) + rn
  8BFB  4A                  lsr     a
  8BFC  4A                  lsr     a
  8BFD  65B3                adc     rn
  8BFF  C929                cmp     #bwide+1                ; a <= BWIDE?
  8C01  F011 ^8C14          beq     :2                      ; (yes)
  8C03                      blt     :2                      ; (yes)
  8C03 +900F ^8C14          BCC     :2
                    
                    ;
                    ; Hack right-hand clippage
                    ;
  8C05  E928                sbc     #bwide                  ; (carry already set here)
  8C07  85B4                sta     rinc                    ; rinc = offset
                  ATARI CAMAC Assembler Ver  1.0A  Page  81
  Donkey Kong  Thur Feb 24, 1983                       D1:DRAW.           
  CLEAR graphics mem                                

  8C09  38          :3      sec                             ; rn -= offset
  8C0A  A5B3                lda     rn
  8C0C  E5B4                sbc     rinc
  8C0E  85B3                sta     rn
  8C10  F00E ^8C20          beq     :err                    ; punt if <=0 bytes wide...
  8C12  300C ^8C20          bmi     :err
                    
                    ;
                    ; Setup for massive draw:
                    ;
  8C14              dsetu1
  8C14  8A          :2      txa                             ; xisav = x>>2
  8C15  4A                  lsr     a
  8C16  4A                  lsr     a
  8C17  85B1                sta     xisav
  8C19  8A                  txa                             ; shcnt = x & 3
  8C1A  2903                and     #3
  8C1C  85BA                sta     shcnt
                    
  8C1E  18          :r      clc                             ; no errs
  8C1F  60                  rts
                    
  8C20  38          :err    sec                             ; errs
  8C21  60                  rts
                  ATARI CAMAC Assembler Ver  1.0A  Page  82
  Donkey Kong  Thur Feb 24, 1983                       D1:DRAW.           
  CLEAR graphics mem                                

                    ;
                    ; VDRAW - draw a creature in vblank
                    ; Passed:
                    ;         X = x_position
                    ;         Y = y_position
                    ;       VSRC -> source font
                    ; Returns: nothing
                    ; Imports: BWIDE, NWIDE, ADDRx
                    ; Exports: nothing
                    ; Uses: vdraw temps, vtmp[2]
                    ;
  8C22              vdraw   local
       +                    EPROC
  8C22 +            VDRAW   PROC
  8C22  84BC                sty     vyi                     ; save line number
  8C24  A000                ldy     #0                      ; reset end-increment
  8C26  84C1                sty     vrinc
                    
  8C28  B1C4                lda     (vsrc),y                ; get width count
  8C2A  85C0                sta     vrn
  8C2C  C8                  iny
  8C2D  B1C4                lda     (vsrc),y                ; get hei count
  8C2F  F05C ^8C8D          beq     :r                      ; punt if zero high
  8C31  85BF                sta     vhei                    ;  into VHEI counter
  8C33  C8                  iny
  8C34  84C6                sty     vsi                     ; init source vector index
                    
                    ;
                    ; setup for draw
  8C36  8A                  txa                             ; vxisav = X>>2
  8C37  4A                  lsr     a
  8C38  4A                  lsr     a
  8C39  85BE                sta     vxisav                  ; save potential 2,3,4 wide X's
  8C3B  A8                  tay
  8C3C  C8                  iny
  8C3D  84C7                sty     vzpsav
  8C3F  C8                  iny
  8C40  84C8                sty     vzpsav+1
  8C42  C8                  iny
  8C43  84C9                sty     vzpsav+2
                    
  8C45  E0D0                cpx     #nwide + [$100 - nwide]/2 ; clip on left?
  8C47                      blt     :1                      ; (no, clip on right)
  8C47 +9045 ^8C8E          BCC     :1
                    
                    ;
                    ; clip left side
                    ;
  8C49  8A                  txa                             ; A = 1's comp(x) (= 2's comp-1)
  8C4A  49FF                eor     #$ff
  8C4C  4A                  lsr     a                       ; a >>= 2
  8C4D  4A                  lsr     a
                    ;       adc     #1                      ; a++ [A = #bytes off]
  8C4E  85C1                sta     vrinc                   ; store byte offset in increment
  8C50  65C6                adc     vsi                     ; source_index += A
  8C52  85C6                sta     vsi
  8C54  4C9C8C              jmp     :3
                  ATARI CAMAC Assembler Ver  1.0A  Page  83
  Donkey Kong  Thur Feb 24, 1983                       D1:DRAW.           
  CLEAR graphics mem                                

                    
                    ;
                    ; Slow drawing routine
  8C57              :slow
  8C57              :lp
  8C57  A5BE                lda     vxisav                  ; (3) set initial X-index
  8C59  85BD                sta     vxi                     ; (3)
  8C5B  A6C0                ldx     vrn                     ; (3) setup line count
                    
  8C5D  A4C6        :loop1  ldy     vsi                     ; (3) get source index
  8C5F  B1C4                lda     (vsrc),y                ; (5) get source byte
  8C61  A4BD                ldy     vxi                     ; (3) get dest index
  8C63  51C2                eor     (vdest),y               ; (5) EOR with dest byte
  8C65  91C2                sta     (vdest),y               ; (6) shove the mess back in
  8C67  E6C6                inc     vsi                     ; (5) ++ src index
  8C69  E6BD                inc     vxi                     ; (5) ++ dest index
  8C6B  CA                  dex                             ; (2) -- byte count
  8C6C  D0EF ^8C5D          bne     :loop1                  ; (3) loop if not done
                                                            ; (37 total for inner loop)
                    
  8C6E  C6BF                dec     vhei                    ; (5) -- line_count
  8C70  F01B ^8C8D          beq     :r                      ; (2) done-->
                    
  8C72  18                  clc                             ; (2) vsi += vrinc
  8C73  A5C1                lda     vrinc                   ; (3)
  8C75  65C6                adc     vsi                     ; (3)
  8C77  85C6                sta     vsi                     ; (3)
  8C79  A4BC                ldy     vyi                     ; (3) set scanline base addr
  8C7B  B90010              lda     addrl,y                 ; (4) set low addr
  8C7E  85C2                sta     vdest                   ; (3)
  8C80  C928                cmp     #40                     ; (2) crossed page boundary?
  8C82  B005 ^8C89          bcs     :skiph                  ; (3) no, skip high addr-->
  8C84  B90011              lda     addrh,y                 ; (4) set high addr
  8C87  85C3                sta     vdest+1                 ; (3)
  8C89              :skiph
  8C89  E6BC                inc     vyi                     ; (5) ++ line#
  8C8B  D0CA ^8C57          bne     :lp                     ; (3) uncond-->
                    
  8C8D  60          :r      rts
                    ;
                    ; clip right side
                    ;
  8C8E              :1
  8C8E  A5BE                lda     vxisav                  ; A = (X+3) >> 2 + Vrn
  8C90  18                  clc
  8C91  65C0                adc     vrn
  8C93  C928                cmp     #bwide                  ; dest in range?
  8C95                      blt     :2                      ; (yes)
  8C95 +9012 ^8CA9          BCC     :2
  8C97  38                  sec                             ; compute byte offset
  8C98  E928                sbc     #bwide
  8C9A  85C1                sta     vrinc
                    
                    ;
                    ; VRN -= A
  8C9C  38          :3      sec
  8C9D  858A                sta     vtmp
                  ATARI CAMAC Assembler Ver  1.0A  Page  84
  Donkey Kong  Thur Feb 24, 1983                       D1:DRAW.           
  CLEAR graphics mem                                

  8C9F  A5C0                lda     vrn
  8CA1  E58A                sbc     vtmp
  8CA3  85C0                sta     vrn
  8CA5  30E6 ^8C8D          bmi     :r
  8CA7  F0E4 ^8C8D          beq     :r
                    
                    ;
                    ; Which draw rtn to use?
  8CA9              :2
  8CA9  A6BC                ldx     vyi                     ; (3) set scanline base addr
  8CAB  BD0010              lda     addrl,x                 ; (4) set low addr
  8CAE  85C2                sta     vdest                   ; (3)
  8CB0  BD0011              lda     addrh,x                 ; (4) set high addr
  8CB3  85C3                sta     vdest+1                 ; (3)
  8CB5  E6BC                inc     vyi                     ; (5) ++ line#
  8CB7  A5C1                lda     vrinc
  8CB9  D09C ^8C57          bne     :slow                   ; use slow one if need clipping
                    
                    ;
                    ; switch(vrn): use eor2w, eor3w, eor4w, or lose and use :slow()
                    ;
  8CBB  A6C0                ldx     vrn
  8CBD  CA                  dex
  8CBE  CA                  dex
  8CBF  F007 ^8CC8          beq     eor2w
  8CC1  CA                  dex
  8CC2  F052 ^8D16          beq     eor3w
  8CC4  CA                  dex
  8CC5  D090 ^8C57          bne     :slow                   ; default = slow
                  ATARI CAMAC Assembler Ver  1.0A  Page  85
  Donkey Kong  Thur Feb 24, 1983                       D1:DRAW.           
  Pixel: EOR-4                                      

  8CC7              ;
                    ; EOR-in, 4 bytes wide
  8CC7              eor4w
  8CC7  E8                  inx                             ; =1, for 4 bytes wide
  8CC8              eor2w                                   ; =0, for 2 bytes wide
                    
  8CC8              :loop
                    
  8CC8  A4C6                ldy     vsi                     ; (3) get src index
  8CCA  B1C4                lda     (vsrc),y                ; (5) get src byte
  8CCC  E6C6                inc     vsi                     ; (5) ++src index
  8CCE  A4BE                ldy     vxisav                  ; (3) get dest index
  8CD0  51C2                eor     (vdest),y               ; (5) EOR with display mem
  8CD2  91C2                sta     (vdest),y               ; (6) shove the mess back in
                    
  8CD4  A4C6                ldy     vsi                     ; (3) get 2nd src index
  8CD6  B1C4                lda     (vsrc),y                ; (5) get 2nd src byte
  8CD8  E6C6                inc     vsi                     ; (5) ++src index
  8CDA  A4C7                ldy     vzpsav                  ; (3) get 2nd dest index
  8CDC  51C2                eor     (vdest),y               ; (5) EOR with display mem
  8CDE  91C2                sta     (vdest),y               ; (6) shove the mess back in
                    
  8CE0  8A                  txa                             ; set status bits, 2 bytes wide?
  8CE1  F01B ^8CFE          beq     :next                   ; yes-->
                    
  8CE3  A4C6                ldy     vsi                     ; (3) get 3rd src index
  8CE5  B1C4                lda     (vsrc),y                ; (5) get 3rd src byte
  8CE7  E6C6                inc     vsi                     ; (5) ++src index
  8CE9  A4C8                ldy     vzpsav+1                ; (3) get 3rd dest index
  8CEB  51C2                eor     (vdest),y               ; (5) EOR with display byte
  8CED  91C2                sta     (vdest),y               ; (6) show the world
                    
  8CEF  8A                  txa                             ; set status bits, 3 bytes wide?
  8CF0  300C ^8CFE          bmi     :next                   ; yes-->
                            
  8CF2  A4C6                ldy     vsi                     ; (3) get 4th src index
  8CF4  B1C4                lda     (vsrc),y                ; (5) get 4th src byte
  8CF6  A4C9                ldy     vzpsav+2                ; (3) get 4th dest index
  8CF8  51C2                eor     (vdest),y               ; (5) EOR with display byte
  8CFA  91C2                sta     (vdest),y               ; (6) show the world
  8CFC  E6C6                inc     vsi                     ; (5) ++src index
                                                            ; (113 total)
                    
  8CFE              :next
  8CFE  C6BF                dec     vhei                    ; (5) --hei count
  8D00  F08B ^8C8D          beq     :r                      ; (2) punt if done-->
  8D02  A4BC                ldy     vyi                     ; (3) setup for scanline#
  8D04  B90010              lda     addrl,y                 ; (4) get lsb of addr
  8D07  85C2                sta     vdest                   ; (3) into ADDRL
  8D09  C928                cmp     #40                     ; (2) cross page boundary?
  8D0B  B005 ^8D12          bcs     :skip1                  ; (3) no, skip high addr-->
  8D0D  B90011              lda     addrh,y                 ; (4) get msb of addr
  8D10  85C3                sta     vdest+1                 ; (3)  into ADDRH
  8D12              :skip1
  8D12  E6BC                inc     vyi                     ; (5) ++scanline#
  8D14  D0B2 ^8CC8          bne     :loop                   ; (3) uncond-->
                                                            ; (33 total)
                  ATARI CAMAC Assembler Ver  1.0A  Page  86
  Donkey Kong  Thur Feb 24, 1983                       D1:DRAW.           
  Pixel: EOR-4                                      

  8D16              eor3w
  8D16  CA                  dex                             ; X < 0, for 3 bytes wide
  8D17  D0AF ^8CC8          bne     :loop                   ; uncond-->
                  ATARI CAMAC Assembler Ver  1.0A  Page  87
  Donkey Kong  Thur Feb 24, 1983                       D1:DRAW.           
  Letter Stamping                                   

  8D19              ;
                    ; PUTS1 - alternate entry point to PUTS
                    ; Passed: X,Y -> string to print (X = Msb)
                    ; Otherwise: same as PUTS
                    ;
  8D19  8683        puts1   stx     tmp1h
  8D1B  8482                sty     tmp1
                    
                    ;
                    ; PUTS - print a string
                    ; Passed: tmp1 -> source string, XY = x,y position
                    ; Uses: DRAW temps, AXY, tmp1, tmp2
                    ; Imports: EOL, NL, PSXY, FNUM0
                    ;
                    ; Method:
                    ; PUTS prints a string.  On entry, TMP1 points to the start of the
                    ; string, and the X and Y registers contain the starting position on
                    ; the screen.  Puts will pick up font numbers and print them left to
                    ; right.  There are some special codes that can be used to draw
                    ; arbitrary fonts, and to change position on the screen:
                    ;
                    ;       PSXY <x_position> <y_position>
                    ;               next fonts are drawn at the given coordinate
                    ;
                    ;       PSQUOTE <pointer>
                    ;               draw the font pointed to by the pointer
                    ;
                    ;       EOL
                    ;               end of line: terminate string and return
                    ;
                    ; The fonts for letters are NOT Ascii or Atascii, but correspond to
                    ; entries in the table for letter fonts.
                    ;
  8D1D              puts    local
       +                    EPROC
  8D1D +            PUTS    PROC
  8D1D  8684                stx     tmp2                    ; save X,Y position
  8D1F  8485                sty     tmp2h
                    
  8D21  A000        :1      ldy     #0                      ; get next char
  8D23  B182                lda     (tmp1),y
  8D25  C8                  iny
  8D26  C9FF                cmp     #eol                    ; end of string?
  8D28  F039 ^8D63          beq     :r                      ; (yes)
                    
  8D2A  C9FD                cmp     #psxy                   ; cursor addressing?
  8D2C  D00C ^8D3A          bne     :2                      ; (no)
  8D2E  B182                lda     (tmp1),y                ; get new X
  8D30  8584                sta     tmp2
  8D32  C8                  iny
  8D33  B182                lda     (tmp1),y                ; get new Y
  8D35  8585                sta     tmp2h
  8D37  C8                  iny
  8D38  D01D ^8D57          bne     :i                      ; adjust pointer & continue [uncond]
                    
  8D3A  C9FB        :2      cmp     #psquote                ; quote-a-font?
  8D3C  D014 ^8D52          bne     :4
                  ATARI CAMAC Assembler Ver  1.0A  Page  88
  Donkey Kong  Thur Feb 24, 1983                       D1:DRAW.           
  Letter Stamping                                   

  8D3E  B182                lda     (tmp1),y                ; get low byte
  8D40  85B7                sta     src
  8D42  C8                  iny
  8D43  B182                lda     (tmp1),y                ; get high byte
  8D45  85B8                sta     src+1
  8D47  A684                ldx     tmp2
  8D49  A485                ldy     tmp2h
  8D4B  20E28A              jsr     cldraw                  ; clear, then draw the thing...
  8D4E  A003                ldy     #3
  8D50  D005 ^8D57          bne     :i                      ; [uncond]
                    
                    ;
                    ; print a char
                    ;
  8D52  20688D      :4      jsr     putc1
  8D55  A001                ldy     #1                      ; setup for tmp1++
                    
                    ;
                    ; tmp1 += y
                    ;
  8D57  98          :i      tya
  8D58  18                  clc
  8D59  6582                adc     tmp1
  8D5B  8582                sta     tmp1
  8D5D  90C2 ^8D21          bcc     :1                      ; (if no carry)
  8D5F  E683                inc     tmp1h                   ; ++ Msb
  8D61  D0BE ^8D21          bne     :1                      ; [uncond]
  8D63  60          :r      rts
                    
                    
                    ;
                    ; PUTC - print a char
                    ; Passed: A = char
                    ;         X,Y = x,y position
                    ; Returns: X, Y = X+4, Y
                    ; Uses: tmp2, Draw temps, AXY
                    ;
  8D64              putc
  8D64  8684                stx     tmp2
  8D66  8485                sty     tmp2h
                    
  8D68              putc1
  8D68  A006                ldy     #6
  8D6A              putmr
  8D6A  84B2                sty     hei
  8D6C  A485                ldy     tmp2h
  8D6E  84AF                sty     yi
  8D70  A001                ldy     #1
  8D72  84B3                sty     rn
                    
  8D74  A29E                ldx     #high fnum0             ; src = A<<3 + fnum0
  8D76  0A                  asl     a
  8D77  85B7                sta     src                     ; src = A<<1
  8D79  0A                  asl     a                       ; CARRY cleared via shift
  8D7A  65B7                adc     src                     ; 2x + 4x = 6x
  8D7C  6931        :noc1   adc     #low fnum0              ; CARRY is still cleared
  8D7E  9001 ^8D81          bcc     :noc2
                  ATARI CAMAC Assembler Ver  1.0A  Page  89
  Donkey Kong  Thur Feb 24, 1983                       D1:DRAW.           
  Letter Stamping                                   

  8D80  E8                  inx
  8D81  85B7        :noc2   sta     src
  8D83  86B8                stx     src+1
  8D85  A684                ldx     tmp2                    ; argument for dsetu1
  8D87  20148C              jsr     dsetu1                  ; get SHCNT & XISAV
  8D8A  20D88A              jsr     cldrw1                  ; do clear draw w/o dsetup
  8D8D  18                  clc                             ; X += 4
  8D8E  A584                lda     tmp2
  8D90  6904                adc     #4
  8D92  AA                  tax
  8D93  8684                stx     tmp2
  8D95  A485                ldy     tmp2h
  8D97  60                  rts
                  ATARI CAMAC Assembler Ver  1.0A  Page  90
  Donkey Kong  Thur Feb 24, 1983                       D1:SCRGEN.         
  Screen Generation                                 

  8D98              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;;                                                              ;;
                    ;;                      Screen Generation                       ;;
                    ;;                                                              ;;
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    
                    ;
                    ; SCRGEN - generate background graphics for a rack of DK
                    ; Passed: A = screen number
                    ;         X = flag, zero ==> don't draw ladders or hammers
                    ; Returns: nothing
                    ; Uses: AXY, tmp*, draw temps
                    ;
  8D98              scrgen  local
       +                    EPROC
  8D98 +            SCRGEN  PROC
  8D98  8D530E              sta     curscr                  ; curscr = current_screen
  8D9B  8688                stx     tmp4                    ; preserve ladder-flag
  8D9D  20AC8F              jsr     dloff                   ; turn off display
                    
  8DA0  AE530E              ldx     curscr                  ; tmp = scrlml,h[curscr]
  8DA3                      tldx    tmp,scrlm
  8DA3 +BD0780              LDA     SCRLMH,X
  8DA6 +8581                STA     TMP+1
  8DA8 +BD0380              LDA     SCRLML,X
  8DAB +8580                STA     TMP
  8DAD                      dldi    tmp1,lmap               ; tmp1 -> lmap
  8DAD +A900                LDA     #LOW LMAP
  8DAF +8582                STA     TMP1
  8DB1 +A918                LDA     #HIGH LMAP
  8DB3 +8583                STA     TMP1+1
  8DB5  207B93              jsr     unpack                  ; uncrunch packed lmap
  8DB8  20718F              jsr     remake                  ; remake the display list
                    
  8DBB  AE530E              ldx     curscr
  8DBE                      dmv     vdslst,dlvec            ; setup DLI vector
  8DBE +AD0A18              LDA     DLVEC
  8DC1 +8D0002              STA     VDSLST
  8DC4 +AD0B18              LDA     DLVEC+1
  8DC7 +8D0102              STA     VDSLST+1
  8DCA  BC8080              ldy     dlilns,x
  8DCD  BE8080      :setdl  ldx     dlilns,y                ; get DLI line#
  8DD0  E0FF                cpx     #$ff
  8DD2  F009 ^8DDD          beq     :setdx
  8DD4  BD0012              lda     dbase,x
                    
        = 0000              if      not debug               ; don't install DLIs if using LNBUG(!!!!)
     -                      ora     #DLINT
                            endif
                    
  8DD7  9D0012              sta     dbase,x
  8DDA  C8                  iny
  8DDB  D0F0 ^8DCD          bne     :setdl                  ; [uncond]
                    
  8DDD  A588        :setdx  lda     tmp4                    ; check ladder flag
  8DDF  F003 ^8DE4          beq     :novect                 ; zero ==> don't follow lmap init vector
  8DE1  20B98E              jsr     :jscrst                 ; JSR-ind lmap init vector
                  ATARI CAMAC Assembler Ver  1.0A  Page  91
  Donkey Kong  Thur Feb 24, 1983                       D1:SCRGEN.         
  Screen Generation                                 

  8DE4              :novect
                    
  8DE4                      ldi     tmp1,nlmapln-1          ; tmp1 = line# count
  8DE4 +A905                LDA     #NLMAPLN-1
  8DE6 +8582                STA     TMP1
  8DE8  A482        :1      ldy     tmp1                    ; Y = level#
  8DEA  A200                ldx     #0                      ; X = segment offset
  8DEC  A91A                lda     #lmapwid                ; A = # of segments to draw
  8DEE  20298F              jsr     dgird                   ; draw a row of girders
  8DF1  C682                dec     tmp1
  8DF3  10F3 ^8DE8          bpl     :1
                    
  8DF5  A588                lda     tmp4                    ; ladder flag true?
  8DF7  D003 ^8DFC          bne     :fix1                   ;[branch too long...F]
  8DF9  4C8F8E              jmp     :nolad
                    
  8DFC              :fix1
  8DFC                      ldi     tmp1h,lmapsiz-1         ; tmp1h = lmap index
  8DFC +A99B                LDA     #LMAPSIZ-1
  8DFE +8583                STA     TMP1H
  8E00                      ldi     tmp1,nlmapln-1          ; tmp1 = lmap line count
  8E00 +A905                LDA     #NLMAPLN-1
  8E02 +8582                STA     TMP1
  8E04              :loop   ldi     tmp2,lmapwid-1          ; tmp2 = lmap segment count
  8E04 +A919                LDA     #LMAPWID-1
  8E06 +8584                STA     TMP2
  8E08  A683        :loop1  ldx     tmp1h                   ; is there a ladder here?
  8E0A  BD2918              lda     lmapi,x
  8E0D  2938                and     #LDMASK
  8E0F  F04B ^8E5C          beq     :2                      ; (no)
  8E11  48                  pha                             ; save ladder type on stack...
                    
  8E12  18                  clc                             ; tmp2h = lmaph[lmline[lmapl[x]] + tmp2]
  8E13  BC6119              ldy     lmapl,x
  8E16  B93980              lda     lmline,y
  8E19  6584                adc     tmp2
  8E1B  A8                  tay
  8E1C  B9C518              lda     lmaph,y
  8E1F  8585                sta     tmp2h
                    
  8E21  A484                ldy     tmp2                    ; tmp3 = lmseg[tmp2]
  8E23  B94080              lda     lmseg,y
  8E26  8586                sta     tmp3
                    
  8E28  68                  pla                             ; get ladder type back again
  8E29  C920                cmp     #LDBOT                  ; bottom of full ladder?
  8E2B  D00C ^8E39          bne     :3
  8E2D  18                  clc                             ; y = tmp2h + GRHEI
  8E2E  A585                lda     tmp2h
  8E30  6906                adc     #GRHEI
  8E32  A8                  tay
  8E33  BDC518              lda     lmaph,x                 ; a = lmaph[tmp1h]
  8E36  4C578E              jmp     :drawit                 ; (go draw the ladder)
                    
  8E39  C928        :3      cmp     #LDBOTB                 ; bottom of broken ladder?
  8E3B  D00D ^8E4A          bne     :4
  8E3D  38                  sec                             ; y = lmaph[tmp1h] - BROKLAD
                  ATARI CAMAC Assembler Ver  1.0A  Page  92
  Donkey Kong  Thur Feb 24, 1983                       D1:SCRGEN.         
  Screen Generation                                 

  8E3E  BDC518              lda     lmaph,x
  8E41  E905                sbc     #BROKLAD
  8E43  A8                  tay
  8E44  BDC518              lda     lmaph,x                 ; a = lmaph[tmp1h]
  8E47  4C578E              jmp     :drawit                 ; (go draw the ladder)
                    
  8E4A  C918        :4      cmp     #LDTOPB                 ; top of broken ladder?
  8E4C  D00E ^8E5C          bne     :2
  8E4E  18                  clc                             ; y = lmaph[vtmp1h] + GRHEI;
  8E4F  BDC518              lda     lmaph,x
  8E52  6906                adc     #GRHEI
  8E54  A8                  tay
  8E55  6905                adc     #BROKLAD                ; a = tmp2h + GRHEI + BROKLAD
                    
                    ;
                    ; final setup for drawing a ladder
                    ;
  8E57  A686        :drawit ldx     tmp3                    ; x = X_position of ladder
  8E59  20D08E              jsr     drwlad                  ; draw the thing
                    
                    ;
                    ; bottom_of_loop stuff
                    ;
  8E5C  C683        :2      dec     tmp1h                   ; -- lmap index
  8E5E  C684                dec     tmp2                    ; -- segment count
  8E60  10A6 ^8E08          bpl     :loop1
                    
  8E62  C682                dec     tmp1                    ; -- level count
  8E64  109E ^8E04          bpl     :loop
                    
                    ;
                    ; Draw hammers
                    ; For the Elevators rack, which doesn't have any hammers, the position
                    ; of the hammers must be off the screen, so they aren't drawn...
                    ;
  8E66                      dldi    src,pfham               ; src -> playfield hammer
  8E66 +A945                LDA     #LOW PFHAM
  8E68 +85B7                STA     SRC
  8E6A +A99C                LDA     #HIGH PFHAM
  8E6C +85B8                STA     SRC+1
  8E6E  AE0218              ldx     hamx                    ; draw hammer 0
  8E71  AC0418              ldy     hamy
  8E74  20E88A              jsr     draw
  8E77  AE0318              ldx     hamx+1                  ; draw hammer 1
  8E7A  AC0518              ldy     hamy+1
  8E7D  20E88A              jsr     draw
                    
                    ;
                    ; draw the double ladders at the top of the screen
                    ; (unless ladx == 0)
                    ;
  8E80  AE1E18              ldx     ladx
  8E83  AC2018              ldy     ladmin                  ; Y = top_of_ladder
  8E86  AD1F18              lda     ladmax                  ; A = bottom_of_ladder
  8E89  20BF8E              jsr     ddrwld                  ; draw two ladders...
                    
  8E8C  205286              jsr     fkong                   ; show facing-kong
                  ATARI CAMAC Assembler Ver  1.0A  Page  93
  Donkey Kong  Thur Feb 24, 1983                       D1:SCRGEN.         
  Screen Generation                                 

                    
  8E8F  20BC8E      :nolad  jsr     :jscrin                 ; indirect-jsr graphics init
                    
                    ;
                    ; draw prizes in PL3
                    ;
  8E92                      ldi     tmp,2                   ; #prizes = 3
  8E92 +A902                LDA     #2
  8E94 +8580                STA     TMP
  8E96  A680        :p1     ldx     tmp
  8E98  BC0F18              ldy     prizy,x                 ; Y = player_offset
  8E9B  BD1218              lda     priztyp,x               ; X = font offset
  8E9E  AA                  tax
  8E9F                      ldi     tmph,priz1-priz0        ; tmph = vertical size
  8E9F +A90A                LDA     #PRIZ1-PRIZ0
  8EA1 +8581                STA     TMPH
  8EA3  BDEF9D      :p2     lda     prizbas,x               ; copy font char into
  8EA6  990017              sta     pl3,y                   ;   PL3 mem
  8EA9  C8                  iny
  8EAA  E8                  inx
  8EAB  C681                dec     tmph
  8EAD  D0F4 ^8EA3          bne     :p2
  8EAF  C680                dec     tmp                     ; -- prize count
  8EB1  10E3 ^8E96          bpl     :p1                     ; (more to do)
  8EB3  8D1ED0              sta     hitclr                  ; zap PL3 collisions
                    
  8EB6  4CB48F              jmp     dlon                    ; turn on the display and DLIs
                    
  8EB9  6C0818      :jscrst jmp     (scrst)                 ; jump-ind to graphics setup
  8EBC  6C0618      :jscrin jmp     (scrin)                 ; jump-ind to lmap setup
                  ATARI CAMAC Assembler Ver  1.0A  Page  94
  Donkey Kong  Thur Feb 24, 1983                       D1:SCRGEN.         
  Screen Generation                                 

                    ;
                    ; DDRWLD - draw double ladders
                    ; Passed: XY = starting point of top left of leftmost ladder
                    ;         A  = lowest point of ladder
                    ; Returns: two ladders drawn one segment apart
                    ; Uses: AXY, tmp2, tmp3, tmp4
                    ;
  8EBF  8684        ddrwld  stx     tmp2
  8EC1  8485                sty     tmp2h
  8EC3  48                  pha
  8EC4  20D08E              jsr     drwlad                  ; draw leftmost ladder
  8EC7  18                  clc                             ; compute X_pos of right ladder
  8EC8  A584                lda     tmp2
  8ECA  690C                adc     #GRWID*2
  8ECC  AA                  tax
  8ECD  A485                ldy     tmp2h
  8ECF  68                  pla
                    
                    ;
                    ; DRWLAD - draw a ladder
                    ; Passed: XY = starting point of top left of ladder
                    ;         A  = lowest point of ladder (the maximum y_coord)
                    ;         (note that A >= Y)
                    ; Returns: nothing
                    ; Uses: AXY, tmp3, tmp4
                    ;
  8ED0              drwlad  local
       +                    EPROC
  8ED0 +            DRWLAD  PROC
  8ED0  8586                sta     tmp3                    ; tmp3 = maximum_y
  8ED2  8487                sty     tmp3h                   ; tmp3h = current_y
  8ED4  8688                stx     tmp4                    ; tmp4 = x_position
                    
  8ED6  A586        :loop   lda     tmp3                    ; tmp3 > tmp3h?
  8ED8  C587                cmp     tmp3h
  8EDA  F04C ^8F28          beq     :r
  8EDC                      blt     :r                      ; no, so punt
  8EDC +904A ^8F28          BCC     :R
                    
  8EDE  38          :1      sec                             ; A = tmp3 - tmp3h
  8EDF  E587                sbc     tmp3h
  8EE1  C904                cmp     #4                      ; four scanlines left?
  8EE3                      blt     :2                      ; (no)
  8EE3 +9021 ^8F06          BCC     :2
  8EE5  A587                lda     tmp3h                   ; on a four-scanline boundary?
  8EE7  2903                and     #3
  8EE9  D01B ^8F06          bne     :2
                    
  8EEB                      dmv     src,clad4               ; draw four scanlines worth of
  8EEB +AD1818              LDA     CLAD4
  8EEE +85B7                STA     SRC
  8EF0 +AD1918              LDA     CLAD4+1
  8EF3 +85B8                STA     SRC+1
  8EF5  A688                ldx     tmp4                    ;  ladder
  8EF7  A487                ldy     tmp3h
  8EF9  20E88A              jsr     draw
  8EFC  18                  clc                             ; tmp3h += 4
                  ATARI CAMAC Assembler Ver  1.0A  Page  95
  Donkey Kong  Thur Feb 24, 1983                       D1:SCRGEN.         
  Screen Generation                                 

  8EFD  A587                lda     tmp3h
  8EFF  6904                adc     #4
  8F01  8587                sta     tmp3h
  8F03  4CD68E              jmp     :loop
                    
  8F06  AC1A18      :2      ldy     clad1                   ; assume no rung...
  8F09  AE1B18              ldx     clad1+1
  8F0C  A587                lda     tmp3h                   ; on a 4-scanline boundary?
  8F0E  2903                and     #3
  8F10  D006 ^8F18          bne     :4
  8F12  AC1C18              ldy     cladr1                  ; yes, so draw a rung
  8F15  AE1D18              ldx     cladr1+1
  8F18  84B7        :4      sty     src                     ; src -> ladder font
  8F1A  86B8                stx     src+1
  8F1C  A688                ldx     tmp4
  8F1E  A487                ldy     tmp3h
  8F20  20E88A              jsr     draw
  8F23  E687                inc     tmp3h                   ; bump current_y
  8F25  4CD68E              jmp     :loop
  8F28  60          :r      rts
                    
                    
                    ;
                    ; DGIRD - draw a line of girders
                    ; Passed: A = segment count (number of segments to draw)
                    ;         X = segment to start drawing at
                    ;         Y = lmap line# to draw
                    ; Returns: nothing
                    ; Uses: AXY, tmp2, tmp3, draw temps
                    ;
  8F29              dgird   local
       +                    EPROC
  8F29 +            DGIRD   PROC
  8F29  8484                sty     tmp2                    ; tmp2 = lmap level#
  8F2B  8685                stx     tmp2h                   ; tmp2h = segment#
  8F2D  8586                sta     tmp3                    ; tmp3 = segment count
                    
  8F2F  C686        :loop   dec     tmp3                    ; -- count
  8F31  303D ^8F70          bmi     :r                      ; (done...)
                    
  8F33  18                  clc                             ; x = lmline[tmp2] + tmp2h
  8F34  A684                ldx     tmp2
  8F36  BD3980              lda     lmline,x
  8F39  6585                adc     tmp2h
  8F3B  AA                  tax
  8F3C  BD2918              lda     lmapi,x                 ; Y = lmapi[x] & GRMASK
  8F3F  2907                and     #GRMASK
  8F41  A8                  tay
                    
                    ;
                    ; Pick even or odd girder font table...
                    ;
  8F42  A585                lda     tmp2h                   ; which segment are we on?
  8F44  2901                and     #1
  8F46  D00D ^8F55          bne     :1
  8F48                      tldy    src,gfnt                ; use even segment fonts
  8F48 +B92180              LDA     GFNTH,Y
                  ATARI CAMAC Assembler Ver  1.0A  Page  96
  Donkey Kong  Thur Feb 24, 1983                       D1:SCRGEN.         
  Screen Generation                                 

  8F4B +85B8                STA     SRC+1
  8F4D +B91980              LDA     GFNTL,Y
  8F50 +85B7                STA     SRC
  8F52  4C5F8F              jmp     :2
  8F55              :1      tldy    src,gfnt1               ; use odd segment fonts
  8F55 +B93180              LDA     GFNT1H,Y
  8F58 +85B8                STA     SRC+1
  8F5A +B92980              LDA     GFNT1L,Y
  8F5D +85B7                STA     SRC
  8F5F  BCC518      :2      ldy     lmaph,x                 ; y = segment height
  8F62  A685                ldx     tmp2h                   ; x = lmseg[tmp2h]
  8F64  BD4080              lda     lmseg,x
  8F67  AA                  tax
  8F68  20E88A              jsr     draw                    ; draw the girder segment
  8F6B  E685                inc     tmp2h                   ; go to next segment...
  8F6D  4C2F8F              jmp     :loop
  8F70  60          :r      rts
                  ATARI CAMAC Assembler Ver  1.0A  Page  97
  Donkey Kong  Thur Feb 24, 1983                       D1:SCRGEN.         
  Screen Generation                                 

                    ;
                    ; REMAKE - remake the display_list.
                    ; Passed: nothing
                    ; Returns: nothing
                    ; Uses: AX
                    ;
  8F71              remake  local
       +                    EPROC
  8F71 +            REMAKE  PROC
  8F71  20AC8F              jsr     dloff                   ; turn off display
  8F74  A90E                lda     #gmode                  ; install mode bytes in
  8F76  A200                ldx     #0                      ;   display-list buffer
  8F78  9D0012      :remak  sta     dbase,x
  8F7B  CA                  dex
  8F7C  D0FA ^8F78          bne     :remak
                    
  8F7E                      ldi     dbase+4+vlines,DLJVB    ; install DLJVB at bottom
  8F7E +A941                LDA     #DLJVB
  8F80 +8DCA12              STA     DBASE+4+VLINES
  8F83                      dldi    dbase+5+vlines,dlist    ;  and where it jumps to
  8F83 +A977                LDA     #LOW DLIST
  8F85 +8DCB12              STA     DBASE+5+VLINES
  8F88 +A980                LDA     #HIGH DLIST
  8F8A +8DCC12              STA     DBASE+5+VLINES+1
  8F8D                      ldi     dbase+2+96,gmode+DLLDM  ; install two reload instrs
  8F8D +A94E                LDA     #GMODE+DLLDM
  8F8F +8D6212              STA     DBASE+2+96
  8F92  8D0012              sta     dbase
  8F95                      dldi    dbase+2+97,[gbase+$1000-$100]   ; next 4K boundary
  8F95 +A900                LDA     #LOW [GBASE+$1000-$100]
  8F97 +8D6312              STA     DBASE+2+97
  8F9A +A930                LDA     #HIGH [GBASE+$1000-$100]
  8F9C +8D6412              STA     DBASE+2+97+1
  8F9F                      dldi    dbase+1,gbase           ; reload addr at top of dlist
  8F9F +A900                LDA     #LOW GBASE
  8FA1 +8D0112              STA     DBASE+1
  8FA4 +A921                LDA     #HIGH GBASE
  8FA6 +8D0212              STA     DBASE+1+1
  8FA9  4CDD94              jmp     cldisp                  ; erase display memory
                    
                    
                    ;
                    ; DLOFF -- turn off display by showing a null display-list
                    ; Passed: nothing
                    ; Uses: AX, one vbl
                    ;
  8FAC              dloff   local
       +                    EPROC
  8FAC +            DLOFF   PROC
  8FAC  A27D                ldx     #low nulldl
  8FAE  A980                lda     #high nulldl
  8FB0  A040                ldy     #$40                    ; turn off DLIs
  8FB2  D006 ^8FBA          bne     :1                      ; (unconditional)
                    
                    ;
                    ; DLON -- turn on graphics display
                    ; Passed & Uses: just like DLOFF
                  ATARI CAMAC Assembler Ver  1.0A  Page  98
  Donkey Kong  Thur Feb 24, 1983                       D1:SCRGEN.         
  Screen Generation                                 

                    ;
  8FB4  A277        dlon    ldx     #low dlist
  8FB6  A980                lda     #high dlist
                    
        = FFFF              if      debug
  8FB8  A040                ldy     #$40
                            else
     -                      ldy     #$c0                    ; turn on DLIs again
                            endif
                    
  8FBA  C69A        :1      dec     vsem                    ; mutex with VBL
  8FBC  8E3002              stx     sdlstl                  ; install display-list pointer
  8FBF  8D3102              sta     sdlstl+1
                    
  8FC2  84A6                sty     snmien                  ; set NMIEN fake shadow
  8FC4  8C0ED4              sty     nmien                   ;  and NMIEN itself
  8FC7  E69A                inc     vsem                    ; release VBL again
                    
  8FC9  A614                ldx     rtclok+2                ; wait for 1 vbl before returning
  8FCB  E8                  inx
  8FCC  E414        :wait   cpx     rtclok+2                ; so that the shadow regs have
  8FCE  D0FC ^8FCC          bne     :wait                   ;  been updated...
  8FD0  60                  rts
                    
                    
                    ;
                    ; Init Ramps graphics
                    ;
        = 8532      init0   =       rts
                    
                    
                    ;
                    ; Setup Ramps lmap, unpack creature fonts, et al
                    ;
  8FD1              setup0  local
       +                    EPROC
  8FD1 +            SETUP0  PROC
  8FD1                      ldi     tmp,nlmapln-1
  8FD1 +A905                LDA     #NLMAPLN-1
  8FD3 +8580                STA     TMP
  8FD5  A680        :1      ldx     tmp
  8FD7  20EE8F              jsr     slant
  8FDA  C680                dec     tmp
  8FDC  10F7 ^8FD5          bpl     :1
                    
                    ;
                    ; unpack fonts for fireballs and barrels
  8FDE  A900                lda     #FNBAR                  ; rolling barrels/beams
  8FE0  20FA93              jsr     fshift
  8FE3  A904                lda     #FNFBR                  ; falling barrels/beams
  8FE5  20FA93              jsr     fshift
  8FE8  A908                lda     #FNFIB                  ; fireballs
  8FEA  20FA93              jsr     fshift
  8FED  60                  rts
                    
                    ;
                    ; Slant a row of girders on the Ramps rack
                  ATARI CAMAC Assembler Ver  1.0A  Page  99
  Donkey Kong  Thur Feb 24, 1983                       D1:SCRGEN.         
  Screen Generation                                 

                    ; Passed: X = line# of girders to slant
                    ; Uses: AXY, tmp1[1]
                    ;
  8FEE              slant   local
       +                    EPROC
  8FEE +            SLANT   PROC
  8FEE  BD4390              lda     slante,x                        ; get slant ending pt
  8FF1  8582                sta     tmp1
  8FF3  BD3D90              lda     slantb,x
  8FF6  3024 ^901C          bmi     :1                              ; slant right to left
  8FF8  F042 ^903C          beq     :r                              ; punt if no slant at all
                    
                    ;
                    ; slant row left to right
  8FFA  A8                  tay
  8FFB  18                  clc
  8FFC  7D3980              adc     lmline,x
  8FFF  AA                  tax
  9000  E682                inc     tmp1                            ; ++ ending pt for easy compare
  9002  C482        :2      cpy     tmp1                            ; after ending pt?
  9004                      bge     :2a
  9004 +B006 ^900C          BCS     :2A
  9006  FEC518              inc     lmaph,x
  9009  BDC518              lda     lmaph,x
  900C  9DC618      :2a     sta     lmaph+1,x
  900F  E8                  inx
  9010  E8                  inx
  9011  C8                  iny
  9012  C8                  iny
  9013  C01A                cpy     #26
  9015                      bge     :r
  9015 +B025 ^903C          BCS     :R
  9017  9DC518              sta     lmaph,x
  901A                      blt     :2                              ; (uncond)
  901A +90E6 ^9002          BCC     :2
                    
                    ;
                    ; slant row right to left
  901C  297F        :1      and     #$7f
  901E  A8                  tay
  901F  18                  clc
  9020  7D3980              adc     lmline,x
  9023  AA                  tax
                    
  9024  C482        :3      cpy     tmp1                            ; after ending point?
  9026                      blt     :3a                             ; (yes)
  9026 +9006 ^902E          BCC     :3A
  9028  FEC518              inc     lmaph,x                         ; bring down these two segments
  902B  BDC518              lda     lmaph,x
  902E  9DC618      :3a     sta     lmaph+1,x                       ; (2nd segment)
  9031  CA                  dex                                     ; -- segment offset
  9032  CA                  dex
  9033  88                  dey                                     ; -- segment count
  9034  88                  dey                                     ; at end of line?
  9035  3005 ^903C          bmi     :r                              ; (yes)
  9037  9DC518              sta     lmaph,x                         ; bring down 1st segment
  903A  10E8 ^9024          bpl     :3                              ; (uncond)
                  ATARI CAMAC Assembler Ver  1.0A  Page 100
  Donkey Kong  Thur Feb 24, 1983                       D1:SCRGEN.         
  Screen Generation                                 

                    
  903C  60          :r      rts
                    
                    
                    ;
                    ; starting points of slants, and slant directions
                    ; 0 ==> no slant at all
                    ; x ==> slant left to right
                    ; x + $80 ==> slant right to left
                    ;
  903D  9802960286  slantb  db      24+$80,2,22+$80,2,6+$80,0
                    
                    ;
                    ; ending points of slants (first segment not to be slanted)
                    ;
  9043  0C1A001A00  slante  db      12,lmapwid,0,lmapwid,0,lmapwid
                    
                    
                    ;
                    ; Init Ziggurat graphics
                    ;
        = 8532      init1   =       rts
                    
                    
                    ;
                    ; Setup Ziggurat lmap
                    ;
        = 8532      setup1  =       rts
                    
                    
                    ;
                    ; Init Elevators graphics
                    ;
  9049              init2   local
       +                    EPROC
  9049 +            INIT2   PROC
  9049  A280                ldx     #128                    ; construct elevator totem-poles
  904B  A950                lda     #%01010000
  904D  9D0204      :1      sta     shfont+2,x
  9050  CA                  dex
  9051  10FA ^904D          bpl     :1
  9053                      ldi     shfont,1                ; setup wid,hei
  9053 +A901                LDA     #1
  9055 +8D0004              STA     SHFONT
  9058                      ldi     shfont+1,128
  9058 +A980                LDA     #128
  905A +8D0104              STA     SHFONT+1
  905D                      dldi    src,shfont              ; src -> shfont
  905D +A900                LDA     #LOW SHFONT
  905F +85B7                STA     SRC
  9061 +A904                LDA     #HIGH SHFONT
  9063 +85B8                STA     SRC+1
                    
  9065  A221                ldx     #4+4*6+5                ; draw left totempole
  9067  A03E                ldy     #62
  9069  20E88A              jsr     draw
                    
                  ATARI CAMAC Assembler Ver  1.0A  Page 101
  Donkey Kong  Thur Feb 24, 1983                       D1:SCRGEN.         
  Screen Generation                                 

  906C  A251                ldx     #4+12*6+5               ; draw right totempole
  906E  A03E                ldy     #62
  9070  20E88A              jsr     draw
                    
                    ;
                    ; shiftify fonts
                    ;
  9073  A914                lda     #fnspr                  ; shiftify spring fonts
  9075  20FA93              jsr     fshift
  9078  A908                lda     #fnfib                  ; and also fireball fonts
  907A  20FA93              jsr     fshift
                    
                    ;
                    ; draw the pulleys
                    ;
  907D                      dldi    tmp1,:str               ; tmp1 -> string...
  907D +A9B1                LDA     #LOW :STR
  907F +8582                STA     TMP1
  9081 +A990                LDA     #HIGH :STR
  9083 +8583                STA     TMP1+1
  9085  201D8D              jsr     puts                    ; stamp the things in...
                    
                    ;
                    ; create the (two) firecreatures
                    ;
  9088  A002                ldy     #2
  908A  A908                lda     #8                      ; at lev=2, seg=8
  908C  209390              jsr     :creat
  908F  A002                ldy     #2                      ; and at lev=2, seg=23
  9091  A917                lda     #23
                    
  9093  48          :creat  pha
U 9094  200000              jsr     fslot                   ; X -> empty critter slot
  9097  68                  pla
  9098  9DFC0E              sta     cseg,x                  ; install critter's segment
  909B  98                  tya
  909C  9DEC0E              sta     clev,x                  ; and install critter's level
  909F                      ldix    ctyp,SPFB               ; species = fireball
  909F +A901                LDA     #SPFB
  90A1 +9DCC0E              STA     CTYP,X
U 90A4  A900                lda     #FBFSEG                 ; follow segment at random
  90A6  2D0AD2              and     random
U 90A9  0900                ora     #FBFFOX                 ; disable jumping
  90AB  9D9C0E              sta     cbits,x
U 90AE  4C0000              jmp     create                  ; common setup code to wake up critter
                    
                    
                    ;
                    ; string to print pulleys
                    ;
  90B1  FD1C38FB    :str    db      psxy, 4+4*6, 56, psquote
  90B5  DB9D                dw      upulley
  90B7  FD4C38FB            db      psxy, 4+12*6, 56, psquote
  90BB  DB9D                dw      upulley
  90BD  FD1CBFFB            db      psxy, 4+4*6, 191, psquote
  90C1  C79D                dw      bpulley
  90C3  FD4CBFFB            db      psxy, 4+12*6, 191, psquote
 *Error page 101  ATARI CAMAC Assembler Ver  1.0A  Page 102
  Donkey Kong  Thur Feb 24, 1983                       D1:SCRGEN.         
  Screen Generation                                 

  90C7  C79D                dw      bpulley
  90C9  FF                  db      eol
                    
                    
                    ;
                    ; Setup Elevators lmap
                    ;
        = 8532      setup2  =       rts
                    
                    
                    ;
                    ; Init Conveyerbelts graphics
                    ;
  90CA  18          init3   clc                             ; setup conveyerbelt timeout
  90CB  AD540E              lda     btimer
  90CE  6905                adc     #cdelay
  90D0  8D640E              sta     ctimer
  90D3                      ldi     cdir,cspeed             ; setup conveyerbelt direction
  90D3 +A960                LDA     #CSPEED
  90D5 +8D650E              STA     CDIR
  90D8  A910                lda     #fnsan                  ; shiftify sandpile fonts
  90DA  20FA93              jsr     fshift
  90DD  60                  rts
                    
                    ;
                    ; Init Conveyerbelts lmap
                    ;
        = 8532      setup3  =       rts
                  ATARI CAMAC Assembler Ver  1.0A  Page 103
  Donkey Kong  Thur Feb 24, 1983                       D1:CARTUN.         
  Cartoons                                          

  90DE              ;
                    ; Cartoon drivers
                    ; Written by Vince Wu and Richard Harvey
                    ;
        = 0800      sbfsav  =       shfont+$400
        = 0802      skbuf   =       shfont+$402
                    
                    ;
                    ; intro cartoon
                    ;
  90DE              icart0  local
       +                    EPROC
  90DE +            ICART0  PROC
                    ;
                    ; Draw straight girders -- no ladders.
                    ;
  90DE  A900                lda     #RKCRT1
  90E0  A200                ldx     #0              ;straight girders screen
  90E2  20988D              jsr     scrgen
                    
                    
                    ; Put Nell on platform.
                    ;
  90E5                      dldi    src,Nell0
  90E5 +A93C                LDA     #LOW NELL0
  90E7 +85B7                STA     SRC
  90E9 +A9A4                LDA     #HIGH NELL0
  90EB +85B8                STA     SRC+1
  90ED  A258                ldx     #88
  90EF  A003                ldy     #3
  90F1  20E88A              jsr     DRAW
                    
                    ;
                    ; draw Kong
                    ;
  90F4  A01D                ldy     #29             ;init Kongy
  90F6  8C2618              sty     Kongy
  90F9  A230                ldx     #48             ;init Kongx, too...
  90FB  8E2518              stx     Kongx
  90FE  203193              jsr     savkng
  9101  AE2518              ldx     Kongx
  9104  AC2618              ldy     Kongy
  9107  205286              jsr     fkong
                    
                    ;
                    ; Startup introduction music
                    ; Turn on vblank code
                    ;
  910A                      ldi     intfg,intle1
  910A +A907                LDA     #INTLE1
  910C +8DA40F              STA     INTFG
  910F                      ldi     music2,intle2
  910F +A91B                LDA     #INTLE2
  9111 +8DB00F              STA     MUSIC2
  9114  E69A                inc     vsem            ; perform V(Vsem)
                    
  9116  ADA40F      :intun  lda     intfg           ; wait til finished tune
                  ATARI CAMAC Assembler Ver  1.0A  Page 104
  Donkey Kong  Thur Feb 24, 1983                       D1:CARTUN.         
  Cartoons                                          

  9119  D0FB ^9116          bne     :intun
                    
                    ;
                    ; unpack "vanilla" sounds (for stamp & grin)
                    ;
                    ;       jsr     expnds
                    
                    ;
                    ; Kong jumps five times
                    ;
  911B  A904                lda     #4
  911D  8D790E              sta     Repcnt
                    
  9120  A908        :JLOOP  lda     #8              ;init :FTAB pointer
  9122  8D780E              sta     Ftabpt
                    
  9125  A901                lda     #1              ; do jump in vbl
  9127  A202                ldx     #2
  9129  20CF91              jsr     :INVB
  912C  D065 ^9193          bne     :cexit          ; console key pressed, quit-->
                    
  912E  A918                lda     #STPLEN         ; turn on stomp sound
  9130  8D9A0F              sta     stpfg
                    
                    ;
                    ; BNEXT - bend next girder
                    ;
  9133              BNEXT
  9133  AD790E              lda     Repcnt                  ; bend top girder?
  9136  C904                cmp     #4
  9138  D004 ^913E          bne     :bnxt                   ; no-->
  913A              BTOP    ldi     tmp1h,nlmapln-2         ; setup for top-1th girder bend
  913A +A904        BTOP    LDA     #NLMAPLN-2
  913C +8583                STA     TMP1H
  913E              :bnxt
  913E                      ldi     tmp2,bwide              ; tmp2 = width_of_screen
  913E +A928                LDA     #BWIDE
  9140 +8584                STA     TMP2
  9142                      ldi     tmp2h,GRHEI             ; tmp2h = hei of girder segment
  9142 +A906                LDA     #GRHEI
  9144 +8585                STA     TMP2H
  9146                      dldi    src,tmp2                ; src -> tmp2
  9146 +A984                LDA     #LOW TMP2
  9148 +85B7                STA     SRC
  914A +A900                LDA     #HIGH TMP2
  914C +85B8                STA     SRC+1
  914E  A483                ldy     tmp1h                   ; y = lmaph[lmline[tmp1h]]
  9150  BE3980              ldx     lmline,y                ;   = hei of line of girders
  9153  BCC518              ldy     lmaph,x
  9156  A200                ldx     #0                      ; x_pos = 0
  9158  20658B              jsr     clear                   ; clear line of straight girders
                    
  915B  A683                ldx     tmp1h                   ; bend the lmap
  915D  20EE8F              jsr     slant
                    
  9160  A91A                lda     #lmapwid                ; show the world, A = segment count
  9162  A200                ldx     #0                      ; X = starting segment#
                  ATARI CAMAC Assembler Ver  1.0A  Page 105
  Donkey Kong  Thur Feb 24, 1983                       D1:CARTUN.         
  Cartoons                                          

  9164  A483                ldy     tmp1h                   ; Y = lmap line to (re)draw
  9166  C683                dec     tmp1h                   ; -- level# for next time
  9168  20298F              jsr     dgird                   ; redraw the line of girders
                                                            ;  only slanted
  916B  CE790E              dec     Repcnt          ;count this jump
  916E  10B0 ^9120          bpl     :JLOOP
                    
  9170  A921                lda     #33             ;wait a bit...
  9172  200A95              jsr     sleep
                    
                    ;
                    ; Kong grins
                    ;
  9175  A980                lda     #khe            ;show grin image
  9177  205986              jsr     pckong
  917A  A9C0                lda     #khe + khtyp
  917C  205986              jsr     pckong
  917F  A903                lda     #3              ; sound grin Thrice...
  9181  8D790E              sta     Repcnt
                    
  9184  A911        :G1     lda     #GRNLEN         ; startup grin sound
  9186  8D980F              sta     grnfg
  9189  A92E                lda     #46             ; wait for a while
  918B  200A95              jsr     sleep
  918E  CE790E              dec     Repcnt          ; -- count
  9191  D0F1 ^9184          bne     :G1
                    
  9193              :cexit
  9193  C69A                dec     vsem            ; P(Vsem) -- turn off vbl code
  9195  4C1895              jmp     sndoff          ; exit, turning off all sounds
                    
                  ATARI CAMAC Assembler Ver  1.0A  Page 106
  Donkey Kong  Thur Feb 24, 1983                       D1:CARTUN.         
  Cartoons                                          

                    ;
                    ; the 'broken-heart' cartoon
                    ;
  9198              icart1
                    ;
                    ; draw the heart
                    ;
  9198                      dldi    src,Heart
  9198 +A9FB                LDA     #LOW HEART
  919A +85B7                STA     SRC
  919C +A99C                LDA     #HIGH HEART
  919E +85B8                STA     SRC+1
  91A0  A248                ldx     #72
  91A2  A000                ldy     #0
  91A4  20E88A              jsr     DRAW
                    
                    
  91A7                      dldi    src,Klkong              ;dummy arg for CLEAR
  91A7 +A9B8                LDA     #LOW KLKONG
  91A9 +85B7                STA     SRC
  91AB +A9A2                LDA     #HIGH KLKONG
  91AD +85B8                STA     SRC+1
  91AF  AC2618              ldy     Kongy
  91B2  AE2518              ldx     Kongx
  91B5  20658B              jsr     clear
                    
  91B8  A01F                ldy     #$1f            ;+2, vblank decrement before drawing
  91BA  8C2618              sty     Kongy
  91BD  A02A                ldy     #$2a            ;Nelly = Kongy + 11, but in this case
  91BF  8C720E              sty     Nelly           ;  Kongy += 2, hence Nelly = Kongy + 13
  91C2  A268                ldx     #104
  91C4  8E2518              stx     Kongx
  91C7  A274                ldx     #116            ; Nellx = Kongx + 12
  91C9  8E710E              stx     Nellx
                                                    ; erase Nelly
                    
  91CC  4C9391              jmp     :cexit
                    
                    ;
                    ; 'spawn' vblank routine & wait til vblank routine finished
                    ; returns: Z flag = 0, if normal
                    ;                 <>0, if console key pressed
                    ;
  91CF              :INVB
  91CF  8E7A0E              stx     Jiflg1
  91D2  8D300E              sta     Seqflg          ; Select Vblank Routine...
                    
  91D5              :INVB1
  91D5  20A994              jsr     consw           ; console key pressed?
  91D8  D005 ^91DF          bne     :ycons          ; yes-->
                    
  91DA  AD300E              lda     Seqflg          ; Wait until Vblank Routine is finished.
  91DD  D0F6 ^91D5          bne     :INVB1
  91DF              :ycons
  91DF  60                  rts
                  ATARI CAMAC Assembler Ver  1.0A  Page 107
  Donkey Kong  Thur Feb 24, 1983                       D1:CARTUN.         
  Cartoons                                          

                    ;
                    ; Kong falling cartoon
                    ;
  91E0              ICART2  dldi    src,cgirfak     ; clear the girders
  91E0 +A979        ICART2  LDA     #LOW CGIRFAK
  91E2 +85B7                STA     SRC
  91E4 +A993                LDA     #HIGH CGIRFAK
  91E6 +85B8                STA     SRC+1
  91E8  A228                ldx     #40
  91EA  A029                ldy     #41
  91EC  20658B              jsr     clear
                    
                    ;
                    ; Redraw girders at the bottom of the Ziggurat structure
                    ;
  91EF                      dldi    src,fgird3              ; src -> girder flavor to use
  91EF +A929                LDA     #LOW FGIRD3
  91F1 +85B7                STA     SRC
  91F3 +A99C                LDA     #HIGH FGIRD3
  91F5 +85B8                STA     SRC+1
  91F7                      ldi     tmp2h,4                 ; tmp2h = level count
  91F7 +A904                LDA     #4
  91F9 +8585                STA     TMP2H
  91FB                      ldi     tmp2,nlines-[GRHEI*2]           ; tmp2 = y_position
  91FB +A9BA                LDA     #NLINES-[GRHEI*2]
  91FD +8584                STA     TMP2
                    
  91FF              :gird1  ldi     tmp3,[7*6] + 4          ; tmp3 = x_position
  91FF +A92E                LDA     #[7*6]  +       4
  9201 +8586                STA     TMP3
  9203                      ldi     tmp3h,12                ; tmp3h = girder count
  9203 +A90C                LDA     #12
  9205 +8587                STA     TMP3H
                    
  9207  A686        :gird2  ldx     tmp3                    ; draw a girder at (tmp3, tmp2)
  9209  A484                ldy     tmp2
  920B  20E88A              jsr     draw
                    
  920E  18                  clc                     ; tmp3 += GRWID
  920F  A586                lda     tmp3
  9211  6906                adc     #GRWID
  9213  8586                sta     tmp3
  9215  C687                dec     tmp3h                   ; -- girder count
  9217  D0EE ^9207          bne     :gird2
                    
  9219  38                  sec                     ; tmp2 -= GRHEI
  921A  A584                lda     tmp2
  921C  E906                sbc     #GRHEI
  921E  8584                sta     tmp2
  9220  C685                dec     tmp2h                   ; -- level count
  9222  D0DB ^91FF          bne     :gird1
                    
                    ;
                    ; Draw Kong upside-down
                    ;
  9224  18                  clc
  9225  AD2618              lda     Kongy
                  ATARI CAMAC Assembler Ver  1.0A  Page 108
  Donkey Kong  Thur Feb 24, 1983                       D1:CARTUN.         
  Cartoons                                          

  9228  693E                adc     #62
  922A  85AF                sta     yi              ; destination row ctr
  922C                      ldi     hei,31
  922C +A91F                LDA     #31
  922E +85B2                STA     HEI
  9230              :flip0
  9230                      ldi     rn,6            ; Kong is 6 bytes wide
  9230 +A906                LDA     #6
  9232 +85B3                STA     RN
  9234  AC2618              ldy     Kongy           ; get source row memory addr
  9237                      tldy    src,addr
  9237 +B90011              LDA     ADDRH,Y
  923A +85B8                STA     SRC+1
  923C +B90010              LDA     ADDRL,Y
  923F +85B7                STA     SRC
  9241  A4AF                ldy     yi              ; get destination row memory addr
  9243                      tldy    dest,addr
  9243 +B90011              LDA     ADDRH,Y
  9246 +85B6                STA     DEST+1
  9248 +B90010              LDA     ADDRL,Y
  924B +85B5                STA     DEST
  924D  A012                ldy     #18             ; get w/i row bias
  924F              :flip1
  924F  B1B7                lda     (src),y
  9251  91B5                sta     (dest),y
  9253  A900                lda     #0
  9255  91B7                sta     (src),y         ; clear out source byte
  9257  C8                  iny
  9258  C6B3                dec     rn              ; finished 6 bytes?
  925A  D0F3 ^924F          bne     :flip1          ; no-->
  925C  C6AF                dec     yi              ; move up 1 destination row
  925E  EE2618              inc     Kongy           ; move down 1 source row
  9261  C6B2                dec     hei             ; finished 31 rows yet?
  9263  D0CB ^9230          bne     :flip0          ; no-->
                    
                    ;
                    ; Move Kong down
                    ;
  9265  E69A                inc     vsem            ; invoke vertical blank
  9267  A902                lda     #2              ; Select :FALL routine.
  9269  AA                  tax                     ; Set Jiffy ctr #1
  926A  20CF91              jsr     :INVB
  926D                      ldi     stpfg,stplen
  926D +A918                LDA     #STPLEN
  926F +8D9A0F              STA     STPFG
  9272              :crsnd
  9272  AD9A0F              lda     stpfg
  9275  D0FB ^9272          bne     :crsnd
  9277  4C9391              jmp     :cexit
                    
  927A              :END
  927A  60                  rts
                  ATARI CAMAC Assembler Ver  1.0A  Page 109
  Donkey Kong  Thur Feb 24, 1983                       D1:CARTUN.         
  Cartoons                                          

                    ;
                    ; Cartoon vbl drivers
                    ;
  927B  AE300E      CARTVB  ldx     Seqflg          ; get vbi seq #
  927E  F0FA ^927A          beq     :END
  9280  CE7A0E              dec     Jiflg1          ; ck cartun countdown timer
  9283  10F5 ^927A          bpl     :END
                    
  9285  CA                  dex
  9286  D031 ^92B9          bne     :FALL
                    
                    
                    ;
                    ; Jump
                    ; Kong hopss by :FTAB/jiffy.
                    ;
  9288              :JUMP
  9288  CE780E              dec     Ftabpt          ; started w/ #8
  928B  1006 ^9293          bpl     :E0
  928D  A200                ldx     #0
  928F  8E300E              stx     Seqflg          ; if x=0 then kill vdi
  9292  60                  rts
  9293              :E0
  9293  206693              jsr     kngback         ; Clear Kong
                    
  9296  AE780E              ldx     Ftabpt          ; started w/ #8
  9299  BC1493              ldy     :FTAB,x
  929C  8C2618              sty     Kongy
  929F  AE2518              ldx     Kongx
  92A2  E8                  inx
  92A3  E8                  inx
  92A4  8E2518              stx     Kongx
  92A7  203193              jsr     savkng          ; save next Kong's backgnd
  92AA  AC2618              ldy     Kongy
  92AD  AE2518              ldx     Kongx
  92B0  205286              jsr     fkong
  92B3              :JRTN1
  92B3  A202                ldx     #2
  92B5              :JRTN
  92B5  8E7A0E              stx     Jiflg1
  92B8  60                  rts
                    
                    ;
                    ; Fall
                    ;
  92B9              :FALL
  92B9  AC2618              ldy     Kongy
  92BC  C8                  iny
  92BD  C8                  iny
  92BE  C089                cpy     #137
  92C0  9006 ^92C8          bcc     :FALL1
  92C2  A900                lda     #0
  92C4  8D300E              sta     Seqflg          ; If at bottom then turn of this seq
  92C7  60                  rts
                    
  92C8  8C2618      :FALL1  sty     Kongy
  92CB  98                  tya                     ; CARRY already reset
                  ATARI CAMAC Assembler Ver  1.0A  Page 110
  Donkey Kong  Thur Feb 24, 1983                       D1:CARTUN.         
  Cartoons                                          

  92CC  691F                adc     #31             ; move downward, need to do it backward
  92CE  85AF                sta     yi              ; destination row ctr
  92D0  A8                  tay
  92D1  88                  dey
  92D2  88                  dey
  92D3  8480                sty     tmp             ; sorce row ctr = dest - 2
  92D5                      ldi     hei,32
  92D5 +A920                LDA     #32
  92D7 +85B2                STA     HEI
                    
  92D9              :FALL2  ldi     rn,6            ; Kong is 6 bytes wide
  92D9 +A906                LDA     #6
  92DB +85B3                STA     RN
  92DD  A480                ldy     tmp             ; get source row memory addr
  92DF                      tldy    src,addr
  92DF +B90011              LDA     ADDRH,Y
  92E2 +85B8                STA     SRC+1
  92E4 +B90010              LDA     ADDRL,Y
  92E7 +85B7                STA     SRC
  92E9  A4AF                ldy     yi              ; get destination row memory addr
  92EB                      tldy    dest,addr
  92EB +B90011              LDA     ADDRH,Y
  92EE +85B6                STA     DEST+1
  92F0 +B90010              LDA     ADDRL,Y
  92F3 +85B5                STA     DEST
  92F5  A012                ldy     #18             ; w/i row bias
  92F7              :FALL3
  92F7  B1B7                lda     (src),y
  92F9  91B5                sta     (dest),y
  92FB  A5B2                lda     hei             ; only zero the top 2 rows
  92FD  C903                cmp     #3
  92FF  B004 ^9305          bcs     :FALL4
  9301  A900                lda     #0
  9303  91B7                sta     (src),y         ; clear out source byte
  9305              :FALL4
  9305  C8                  iny
  9306  C6B3                dec     rn              ; finished 6 bytes?
  9308  D0ED ^92F7          bne     :FALL3          ; no-->
  930A  C6AF                dec     yi              ; move up 1 destination row
  930C  C680                dec     tmp
  930E  C6B2                dec     hei             ; finished 32 rows yet?
  9310  D0C7 ^92D9          bne     :FALL2          ; no-->
  9312  F09F ^92B3          beq     :JRTN1          ; uncond-->
                    
                    
                    ;
                    ; table of y_positions for float, down, & jump routines
                    ;
  9314  1D1A181716  :FTAB   db      29,26,24,23,22,23,24,26
                    
  931C                      local
       +                    EPROC
  931C +                    PROC
  931C              ksetup
  931C                      mv      yi,kongy
  931C +AD2618              LDA     KONGY
  931F +85AF                STA     YI
                  ATARI CAMAC Assembler Ver  1.0A  Page 111
  Donkey Kong  Thur Feb 24, 1983                       D1:CARTUN.         
  Cartoons                                          

  9321                      ldi     hei,32
  9321 +A920                LDA     #32
  9323 +85B2                STA     HEI
  9325                      ldi     rn,7            ;6 bytes width w/ 1 byte for straddle
  9325 +A907                LDA     #7
  9327 +85B3                STA     RN
  9329  AD2518              lda     kongx
  932C  4A                  lsr     a
  932D  4A                  lsr     a
  932E  85B1                sta     xisav
  9330  60                  rts
                    
  9331              savkng
  9331  201C93              jsr     ksetup
  9334                      dldi    dest,skbuf
  9334 +A902                LDA     #LOW SKBUF
  9336 +85B5                STA     DEST
  9338 +A908                LDA     #HIGH SKBUF
  933A +85B6                STA     DEST+1
  933C              savblk                  ;entry pt for arbitary block save from
  933C              :loop                   ;  screen memory
  933C  A6AF                ldx     yi
                                            
  933E                      tldx    src,addr                ;get start of scan line
  933E +BD0011              LDA     ADDRH,X
  9341 +85B8                STA     SRC+1
  9343 +BD0010              LDA     ADDRL,X
  9346 +85B7                STA     SRC
  9348  E6AF                inc     yi
  934A                      mv      tmp,rn          ;byte bias w/i scan line
  934A +A5B3                LDA     RN
  934C +8580                STA     TMP
  934E  A200                ldx     #0
  9350  A4B1                ldy     xisav
  9352              :loop1
  9352  B1B7                lda     (src),y
  9354  81B5                sta     (dest,x)
  9356  C8                  iny
  9357                      dinc    dest
  9357 +E6B5                INC     DEST
  9359 +D002 ^935D          BNE     ?00B9
  935B +E6B6                INC     DEST+1
  935D +            ?00B9
  935D  C680                dec     tmp             ;end 1 scan line?
  935F  D0F1 ^9352          bne     :loop1          ; uncond-->
  9361  C6B2                dec     hei             ;end all scan line?
  9363  D0D7 ^933C          bne     :loop           ;no-->
  9365  60          :r      rts
                    
  9366              kngback
  9366  201C93              jsr     ksetup
  9369                      dldi    src,skbuf
  9369 +A902                LDA     #LOW SKBUF
  936B +85B7                STA     SRC
  936D +A908                LDA     #HIGH SKBUF
  936F +85B8                STA     SRC+1
  9371                      ldi     shcnt,0
                  ATARI CAMAC Assembler Ver  1.0A  Page 112
  Donkey Kong  Thur Feb 24, 1983                       D1:CARTUN.         
  Cartoons                                          

  9371 +A900                LDA     #0
  9373 +85BA                STA     SHCNT
  9375  38                  sec                     ;flag for STAMP routine
  9376  4C6A8B              jmp     stamp           ; implied RTS
                    
  9379  1596        cgirfak db      21,150
                  ATARI CAMAC Assembler Ver  1.0A  Page 113
  Donkey Kong  Thur Feb 24, 1983                       D1:MISC.           
  Miscellaneous subroutines                         

  937B              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;;                                                      ;;
                    ;;              Miscellaneous Subroutines               ;;
                    ;;                                                      ;;
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    
                    
                    ;
                    ; UNPACK - unpack compressed data
                    ; Passed: tmp -> source area
                    ;         tmp1-> dest area
                    ; Returns: nothing
                    ; Uses: AXY, tmp, tmp1, tmp2
                    ;
                    ; Method: Data is compressed in the following format:
                    ;
                    ; data  ::= <repeat> <byte> | <block> <data> | <blkdup> <data> | <end>
                    ; end   ::= $00
                    ; data  ::= <byte> <data> | <data>
                    ; block ::= %0xxxxxxx                   [ 'xxxxxxx' = length ]
                    ; repeat::= %10xxxxxx                   [ 'xxxxxx' = length ]
                    ; blkdup::= %11xxxxxx <size>            [ 'xxxxxx' = length ]
                    ;
                    ; 'repeat' will repeat the next byte 'xxxxxx' times.
                    ; 'block' quotes the next block of 'xxxxxxx' bytes.
                    ; 'blkdup' will duplicate the next block of 'size' bytes 'xxxxxx' times.
                    ;
                    ;
                    ; Bugs: a repeat count of zero in the source will cause Unpack to
                    ;       fill 256 bytes with the appropriate byte, and to advance the
                    ;       destination pointer by ZERO.
                    ;
  937B              unpack  local
       +                    EPROC
  937B +            UNPACK  PROC
  937B  A000        :loop   ldy     #0
  937D  B180                lda     (tmp),y                 ; get type of thing to unpack
  937F  F078 ^93F9          beq     :r                      ; $00 ==> end, so return
  9381  301C ^939F          bmi     :dup                    ; $80..$ff ==> dup, so duplicate
                    
                    ;
                    ; copy a bunch of bytes from the source
                    ;
  9383  AA                  tax                             ; X = byte count
  9384                      dinc    tmp                     ; realign source pointer
  9384 +E680                INC     TMP
  9386 +D002 ^938A          BNE     ?00BD
  9388 +E681                INC     TMP+1
  938A +            ?00BD
  938A  B180        :1      lda     (tmp),y                 ; get source byte....
  938C  9182                sta     (tmp1),y                ;  ...and shove it into dest
  938E                      dinc    tmp                     ; ++ source pointer
  938E +E680                INC     TMP
  9390 +D002 ^9394          BNE     ?00BE
  9392 +E681                INC     TMP+1
  9394 +            ?00BE
  9394                      dinc    tmp1                    ; ++ dest pointer
                  ATARI CAMAC Assembler Ver  1.0A  Page 114
  Donkey Kong  Thur Feb 24, 1983                       D1:MISC.           
  Miscellaneous subroutines                         

  9394 +E682                INC     TMP1
  9396 +D002 ^939A          BNE     ?00BF
  9398 +E683                INC     TMP1+1
  939A +            ?00BF
  939A  CA                  dex                             ; -- byte count
  939B  D0ED ^938A          bne     :1                      ; (more to do)
  939D  F0DC ^937B          beq     :loop                   ; [uncond]
                    
  939F  C9C0        :dup    cmp     #%11000000              ; block duplicate?
  93A1  293F                and     #$3f                    ; get length
  93A3  B01D ^93C2          bcs     :dupblk                 ; (yes)
                    
                    ;
                    ; duplicate a byte
                    ;
  93A5  AA                  tax                             ;  into X
  93A6  C8                  iny                             ; get byte to duplicate
  93A7  B180                lda     (tmp),y
  93A9  88                  dey
                    
  93AA  9182        :2      sta     (tmp1),y                ; store byte in dest
  93AC                      dinc    tmp1                    ; ++ dest pointer
  93AC +E682                INC     TMP1
  93AE +D002 ^93B2          BNE     ?00C0
  93B0 +E683                INC     TMP1+1
  93B2 +            ?00C0
  93B2  CA                  dex
  93B3  D0F5 ^93AA          bne     :2
                    
  93B5  A902                lda     #2
  93B7              :4
  93B7  18                  clc                             ; tmp += 2
  93B8  6580                adc     tmp
  93BA  8580                sta     tmp
  93BC  90BD ^937B          bcc     :loop
  93BE  E681                inc     tmph
  93C0  D0B9 ^937B          bne     :loop                   ; ["uncond"]
                    
                    ;
                    ; duplicate a block of bytes
                    ;
  93C2  85AF        :dupblk sta     yi                      ; yi = repeat count
  93C4                      dinc    tmp
  93C4 +E680                INC     TMP
  93C6 +D002 ^93CA          BNE     ?00C1
  93C8 +E681                INC     TMP+1
  93CA +            ?00C1
  93CA  B180                lda     (tmp),y                 ; hei = pristine block size
  93CC  85B2                sta     hei
  93CE                      dinc    tmp
  93CE +E680                INC     TMP
  93D0 +D002 ^93D4          BNE     ?00C2
  93D2 +E681                INC     TMP+1
  93D4 +            ?00C2
                    ;
                    ; copy one block
                    ;
                  ATARI CAMAC Assembler Ver  1.0A  Page 115
  Donkey Kong  Thur Feb 24, 1983                       D1:MISC.           
  Miscellaneous subroutines                         

  93D4  A6B2        :3      ldx     hei                     ; X = block size
  93D6                      dmv     tmp2,tmp                ; tmp2 -> block
  93D6 +A580                LDA     TMP
  93D8 +8584                STA     TMP2
  93DA +A581                LDA     TMP+1
  93DC +8585                STA     TMP2+1
  93DE  B184        :5      lda     (tmp2),y                ; get src byte
  93E0  9182                sta     (tmp1),y                ;    and shove into dest
  93E2                      dinc    tmp1                    ; ++ pointers
  93E2 +E682                INC     TMP1
  93E4 +D002 ^93E8          BNE     ?00C4
  93E6 +E683                INC     TMP1+1
  93E8 +            ?00C4
  93E8                      dinc    tmp2
  93E8 +E684                INC     TMP2
  93EA +D002 ^93EE          BNE     ?00C5
  93EC +E685                INC     TMP2+1
  93EE +            ?00C5
  93EE  CA                  dex                             ; -- count
  93EF  D0ED ^93DE          bne     :5                      ; [more bytes to copy]
                    
  93F1  C6AF                dec     yi                      ; -- block count
  93F3  D0DF ^93D4          bne     :3                      ; [more blocks to duplicate]
  93F5  A5B2                lda     hei                     ; adjust source pointer & continue
  93F7  D0BE ^93B7          bne     :4                      ; ["uncond"]
                    
  93F9  60          :r      rts
                  ATARI CAMAC Assembler Ver  1.0A  Page 116
  Donkey Kong  Thur Feb 24, 1983                       D1:MISC.           
  Miscellaneous subroutines                         

                    ; FSHIFT - Create a set of shifted fonts
                    ; Passed: A = font set index (to FNTBL[]) to shiftify
                    ; Returns: 12 shiftified fonts, in the right places in Ram
                    ; Uses: AXY, tmp*, draw temps
                    ;
  93FA              fshift  local
       +                    EPROC
  93FA +            FSHIFT  PROC
  93FA  60                  rts
                    
  93FB  0A                  asl     a               ; tmp2 = X = fontindex << 3
  93FC  0A                  asl     a               ; (which is the initial FNTBL index)
  93FD  0A                  asl     a
  93FE  8584                sta     tmp2
  9400                      ldi     tmp2h,3         ; tmp2h = font count
  9400 +A903                LDA     #3
  9402 +8585                STA     TMP2H
                    
  9404  A684        :mloop  ldx     tmp2            ; get FNTBL index
  9406  BD1284              lda     fntbl,x         ; point SRC at the pristine font
  9409  85B7                sta     src             ;  (which is lurking somewhere in Rom)
  940B  BD1384              lda     fntbl+1,x
  940E  85B8                sta     src+1
                    
  9410                      ldi     shcnt,1         ; init shift count
  9410 +A901                LDA     #1
  9412 +85BA                STA     SHCNT
  9414  A5BA        :4      lda     shcnt           ; dest -> dest area in mem
  9416  0A                  asl     a
  9417  6584                adc     tmp2
  9419  AA                  tax
  941A  BD1284              lda     fntbl,x
  941D  85B5                sta     dest
  941F  BD1384              lda     fntbl+1,x
  9422  85B6                sta     dest+1
                    
  9424  203B94              jsr     :shifnt         ; shift the beastie
  9427  E6BA                inc     shcnt           ; ++ shift count
  9429  A5BA                lda     shcnt
  942B  C904                cmp     #4              ; done three?
  942D                      blt     :4
  942D +90E5 ^9414          BCC     :4
                    
  942F  18                  clc                     ; tmp2 += 8 (index of next pristine font)
  9430  A584                lda     tmp2
  9432  6908                adc     #8
  9434  8584                sta     tmp2
                    
  9436  C685                dec     tmp2h           ; -- font count
  9438  10CA ^9404          bpl     :mloop          ; (more fonts to shuffle)
  943A  60                  rts
                    
                    ;
                    ; :SHIFNT - called by FSHIFT to shift one font
                    ; Passed: src, dest, shcnt = shift_count
                    ;
  943B  A000        :shifnt ldy     #0                      ; copy width
                  ATARI CAMAC Assembler Ver  1.0A  Page 117
  Donkey Kong  Thur Feb 24, 1983                       D1:MISC.           
  Miscellaneous subroutines                         

  943D  B1B7                lda     (src),y
  943F  85B3                sta     rn
  9441  18                  clc                             ; dest = wid+1
  9442  6901                adc     #1
  9444  91B5                sta     (dest),y
                    
  9446  C8                  iny                             ; copy hei
  9447  B1B7                lda     (src),y
  9449  85B2                sta     hei
  944B  91B5                sta     (dest),y
                    
  944D  C8                  iny                             ; setup src, dest indeci
  944E  84B9                sty     si
  9450  84B0                sty     xi
                    
  9452              :loop   ldi     shbits,0                ; shift in clear bits on the left
  9452 +A900                LDA     #0
  9454 +85BB                STA     SHBITS
  9456                      mv      tmp,rn                  ; setup src byte count
  9456 +A5B3                LDA     RN
  9458 +8580                STA     TMP
                    
  945A  A4B9        :loop1  ldy     si                      ; get src byte
  945C  B1B7                lda     (src),y
  945E  48                  pha                             ; (save it for later...)
                    
  945F  A6BA                ldx     shcnt                   ; shift the bugger right
  9461  46BB        :1      lsr     shbits
  9463  6A                  ror     a
  9464  46BB                lsr     shbits
  9466  6A                  ror     a
  9467  CA                  dex
  9468  D0F7 ^9461          bne     :1
                    
  946A  A4B0                ldy     xi                      ; stuff it into dest font
  946C  91B5                sta     (dest),y
  946E  E6B0                inc     xi                      ; ++ indeci
  9470  E6B9                inc     si
                    
  9472  68                  pla                             ; get original byte back
  9473  85BB                sta     shbits
  9475  C680                dec     tmp                     ; -- horz byte count
  9477  D0E1 ^945A          bne     :loop1
                    
  9479  A5BB                lda     shbits                  ; wrap up last byte
  947B  A6BA                ldx     shcnt
  947D  0A          :2      asl     a                       ; shift left a little bit
  947E  0A                  asl     a
  947F  E8                  inx
  9480  E004                cpx     #4                      ; enough?
  9482                      blt     :2
  9482 +90F9 ^947D          BCC     :2
  9484  A4B0                ldy     xi                      ; put into dest
  9486  91B5                sta     (dest),y
  9488  E6B0                inc     xi
                    
  948A  C6B2                dec     hei                     ; -- height count
                  ATARI CAMAC Assembler Ver  1.0A  Page 118
  Donkey Kong  Thur Feb 24, 1983                       D1:MISC.           
  Miscellaneous subroutines                         

  948C  D0C4 ^9452          bne     :loop
                    
  948E  18                  clc                             ; dest += dest index
  948F  A5B5                lda     dest
  9491  65B0                adc     xi
  9493  85B5                sta     dest
  9495  A5B6                lda     dest+1
  9497  6900                adc     #0
  9499  85B6                sta     dest+1
  949B  60                  rts
                  ATARI CAMAC Assembler Ver  1.0A  Page 119
  Donkey Kong  Thur Feb 24, 1983                       D1:MISC.           
  Miscellaneous subroutines                         

                    ;
                    ; KBDINT - handle keyboard interrupts
                    ; Passed: nothing
                    ; Uses: nothing
                    ; Exports: keydb, if pause character typed
                    ;
  949C              kbdint  local
       +                    EPROC
  949C +            KBDINT  PROC
  949C  AD09D2              lda     kbcode          ; lets look at the key
  949F  C921                cmp     #pausech        ; is it the pause char?
  94A1  D004 ^94A7          bne     :r              ; (nope, so ignore it)
                    
  94A3  A903                lda     #3              ; setup debounce jiffy count
  94A5  85A5                sta     keydb           ;  and let VBH worry about it
                    
  94A7  68          :r      pla                     ; cleanup and return
  94A8  40                  rti
                    
                    
                    ;
                    ; CONSW - return contents of console switches
                    ; Returns: A = console switches
                    ;
  94A9  A908        consw   lda     #8              ; OS manual says to shove '8' in there
  94AB  8D1FD0              sta     consol          ;  before we look
  94AE  AD1FD0              lda     consol          ; so look
  94B1  C907                cmp     #7
  94B3  60                  rts
        = 94A9      abortp  =       consw           ; (alias...)
                    
                    ;
                    ; DCONSW - return contents of debounce console switches
                    ; Returns - A = console switches, after many vblanks
                    ; Uses: AXY
                    ;
  94B4              dconsw  local
       +                    EPROC
  94B4 +            DCONSW  PROC
  94B4  20A994              jsr     consw           ; get switches
  94B7  F00F ^94C8          beq     :r              ; just ignore if nothing down
                    
  94B9  A8                  tay                     ; save 'em in Y
  94BA  20A994      :1      jsr     consw           ; wait until the switches
  94BD  D0FB ^94BA          bne     :1
                    
  94BF  A514                lda     rtclok+2        ; wait 5 vbls more
  94C1  6905                adc     #5
  94C3  C514        :2      cmp     rtclok+2
  94C5  D0FC ^94C3          bne     :2
                    
  94C7  98                  tya                     ; return original switch value
  94C8  60          :r      rts
                    
                    
                    ;
                    ; SWAP - swap per-player areas
                  ATARI CAMAC Assembler Ver  1.0A  Page 120
  Donkey Kong  Thur Feb 24, 1983                       D1:MISC.           
  Miscellaneous subroutines                         

                    ; Swap the current player's state with the alternate player's state
                    ; Returns: nothing useful
                    ; Uses: AXY
                    ;
  94C9              swap    local
       +                    EPROC
  94C9 +            SWAP    PROC
  94C9  A213                ldx     #usrlen-1       ; # of bytes to swap
  94CB  BD080E      :1      lda     usr,x           ; get usr's, and save it
  94CE  A8                  tay
  94CF  BD1C0E              lda     usr1,x          ; move usr1 into usr
  94D2  9D080E              sta     usr,x
  94D5  98                  tya
  94D6  9D1C0E              sta     usr1,x          ; and store usr in usr1's place
  94D9  CA                  dex                     ; --count
  94DA  10EF ^94CB          bpl     :1
  94DC  60                  rts
                    
                    
                    ;
                    ; CLDISP - clear display memory
                    ; Returns: zeroed playfield and P/M memory
                    ; Uses: AY, tmp, tmp1, and lots of cycles
                    ;
  94DD              cldisp  local
       +                    EPROC
  94DD +            CLDISP  PROC
  94DD                      dldi    tmp,gbase       ; tmp = pointer to graphics mem
  94DD +A900                LDA     #LOW GBASE
  94DF +8580                STA     TMP
  94E1 +A921                LDA     #HIGH GBASE
  94E3 +8581                STA     TMP+1
  94E5                      ldi     tmp1,high gsize ; tmp1 = page count
  94E5 +A920                LDA     #HIGH   GSIZE
  94E7 +8582                STA     TMP1
                    
  94E9  A900                lda     #0
  94EB  A8                  tay
                    
  94EC  990013      :1      sta     mis,y           ; zero P/M mem
  94EF  990014              sta     pl0,y
  94F2  990015              sta     pl1,y
  94F5  990016              sta     pl2,y
  94F8  990017              sta     pl3,y
  94FB  88                  dey
  94FC  D0EE ^94EC          bne     :1
                    
  94FE  9180        :2      sta     (tmp),y         ; zero one page of graphics mem
  9500  88                  dey
  9501  D0FB ^94FE          bne     :2
                    
  9503  E681                inc     tmph            ; ++ MSB pointer
  9505  C682                dec     tmp1            ; -- page count
  9507  D0F5 ^94FE          bne     :2              ; (more to do)
  9509  60                  rts
                    
                    
                  ATARI CAMAC Assembler Ver  1.0A  Page 121
  Donkey Kong  Thur Feb 24, 1983                       D1:MISC.           
  Miscellaneous subroutines                         

                    ;
                    ; SLEEP - waste cycles for a while
                    ; Passed: A = number of jiffies to sleep
                    ; Returns: after 'A' jiffies
                    ; Uses: AX
                    ;
  950A              sleep   local
       +                    EPROC
  950A +            SLEEP   PROC
  950A  18                  clc
  950B  6514                adc     rtclok+2
  950D  AA                  tax
  950E  E414        :1      cpx     rtclok+2
  9510  F005 ^9517          beq     :r
  9512  20A994              jsr     abortp                  ; Luser interrupt?
  9515  F0F7 ^950E          beq     :1                      ; (no)
  9517  60          :r      rts
                    
                    
                    ;
                    ; SNDOFF - reset sound flag registers (turning them off)
                    ; Passed: nothing
                    ; Returns: via SROFF()
                    ; Uses: AX
                    ;
  9518              sndoff  local
       +                    EPROC
  9518 +            SNDOFF  PROC
  9518  A900                lda     #0
  951A  A20F                ldx     #mstnum
  951C  9D950F      :soff   sta     mstate,x
  951F  CA                  dex
  9520  10FA ^951C          bpl     :soff
                    
                    
                    ;
                    ; SROFF - turn off sound registers
                    ; Passed: nothing
                    ; Returns: nothing
                    ; Uses: AX
                    ;
  9522              sroff   local
       +                    EPROC
  9522 +            SROFF   PROC
  9522  A900                lda     #0
  9524  A207                ldx     #7
  9526  9D00D2      :sroff  sta     audf1,x
  9529  CA                  dex
  952A  10FA ^9526          bpl     :sroff
  952C  60                  rts
                  ATARI CAMAC Assembler Ver  1.0A  Page 122
  Donkey Kong  Thur Feb 24, 1983                       D1:SNDTBL.         
  Miscellaneous subroutines                         

                    ;  COMBINED SOUND DATA FILE
                    
                    ;****
                    ; INTRO.MAC
                    ;
                    
        = 00A8      INTC1   EQU     $A8
        = 00A8      INTC2   EQU     $A8
        = 0016      falfv   =       $16
        = 00A3      falcv   =       $a3
        = 0007      intle1  =       7
        = 001B      intle2  =       $1b
                    
                    
  952D              HOWC1
  952D  C9C9C9C9            DB      $C9,$C9,$C9,$C9
  9531  C9C9C9C9C8          DB      $C9,$C9,$C9,$C9,$C8,$C8,$C8,$C8
  9539              HOWC2
  9539  0000000000          DB      0,0,0,0,0
  953E  ACABABABAB          DB      $AC,$AB,$AB,$AB,$AB,$AB,$AA
  9545              RIVC1
  9545  0000000000          DB      0,0,0,0,0,0,0,0,0,0,0,0,$A9,$A9,$A9
                    
  9554              stpf3
  9554  6666666666          db      $66,$66,$66,$66,$66,$66,$66,$66
  955C  6666666666          db      $66,$66,$66,$66,$66,$66,$66,$66
  9564  6666666666          db      $66,$66,$66,$66,$66,$66,$66,$66
  956C              STPC3
  956C  8081828384          DB      $80,$81,$82,$83,$84,$85,$86,$87
  9574  88898A8B8C          DB      $88,$89,$8A,$8B,$8C,$8D,$8E,$8F
  957C  8F8F8F8F8F          DB      $8F,$8F,$8F,$8F,$8F,$8F,$8F,$8F
                    
                    ****************************************************
                    *
                    *
                    
  9584              WLKC1
  9584  A2A3A4A5A6          db      $a2,$a3,$a4,$a5,$a6,$a6,$a6,$a5,$a4,$a4
                    
  958E              JMPC1
  958E  A2A3A3A3A3          db      $a2,$a3,$a3,$a3,$a3,$a3,$a4,$a4
  9596  A4A6A6A6A6          db      $a4,$a6,$a6,$a6,$a6,$a6,$a6,$a6
  959E  A6A6A6A6A6          db      $a6,$a6,$a6,$a6,$a6,$a6,$a6,$a6
  95A6  A6A6A6A6A6          db      $a6,$a6,$a6,$a6,$a6,$a6,$a6,$a6
  95AE  A6A6A6A6A6          db      $a6,$a6,$a6,$a6,$a6,$a6,$a6,$a6
  95B6  A6A6A6A6A5          db      $a6,$a6,$a6,$a6,$a5,$a5,$a4,$a4
                    
  95BE              RIVC2
  95BE  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  95C6  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  95CE              MR2C2
  95CE  A0A1A3A4A5          db      $a0,$a1,$a3,$a4,$a5,$a6,$a6,$a7,$a7,$a0
  95D8  A0A2A4A5A6          db      $a0,$a2,$a4,$a5,$a6,$a6,$a7,$a7
  95E0  A0A0A2A4A5          db      $a0,$a0,$a2,$a4,$a5,$a6,$a6,$a7
  95E8  A7A0A0A0A0          db      $a7,$a0,$a0,$a0,$a0,$a0,$a0,$a0
  95F0  A0A0A2A3A4          db      $a0,$a0,$a2,$a3,$a4,$a5,$a5,$a6
  95F8  A6A6A7A7A7          db      $a6,$a6,$a7,$a7,$a7,$a7,$a0,$a0
                  ATARI CAMAC Assembler Ver  1.0A  Page 123
  Donkey Kong  Thur Feb 24, 1983                       D1:SNDTBL.         
  Miscellaneous subroutines                         

  9600  A0A0A0A0A0          db      $a0,$a0,$a0,$a0,$a0,$a0,$a0,$a0
  9608  A0A0A0A0A0          db      $a0,$a0,$a0,$a0,$a0,$a1,$a3,$a4
  9610  A5A6A6A6A7          db      $a5,$a6,$a6,$a6,$a7,$a7,$a7,$a7
                    
  9618              MR1C2
  9618  A0A0A0A0A0          db      $a0,$a0,$a0,$a0,$a0,$a0,$a1,$a2,$a3,$a3,$a3,$a4,$a4,$a4
  9626  A0A0A1A1A3          db      $a0,$a0,$a1,$a1,$a3,$a3,$a3,$a3
  962E  A0A0A1A2A3          db      $a0,$a0,$a1,$a2,$a3,$a3,$a3,$a0
                    
  9636              ATKC2
  9636  A1A2A2A3A3          db      $a1,$a2,$a2,$a3,$a3,$a4
  963C  A4A5A5A6A6          db      $a4,$a5,$a5,$a6,$a6,$a6,$a1,$a2
  9644  A2A3A3A4A4          db      $a2,$a3,$a3,$a4,$a4,$a5,$a5,$a6
  964C  A6A6A1A2A2          db      $a6,$a6,$a1,$a2,$a2,$a3,$a3,$a4
  9654  A4A5A5A6A6          db      $a4,$a5,$a5,$a6,$a6,$a6,$a1,$a2
  965C  A2A3A3A4A4          db      $a2,$a3,$a3,$a4,$a4,$a5,$a5,$a6
  9664  A6A0A0A0A1          db      $a6,$a0,$a0,$a0,$a1,$a2,$a3,$a4
  966C  A4A5A5A5A1          db      $a4,$a5,$a5,$a5,$a1,$a1,$a1,$a2
  9674  A3A3A4A4A4          db      $a3,$a3,$a4,$a4,$a4,$a5,$a5,$a5
  967C  A1A2A3A4A5          db      $a1,$a2,$a3,$a4,$a5,$a5,$a2,$a3
  9684  A4A5A5A0A0          db      $a4,$a5,$a5,$a0,$a0,$a1,$a2,$a3
  968C  A4A4A4A5A5          db      $a4,$a4,$a4,$a5,$a5,$a1,$a2,$a2
  9694  A3A3A4A4A5          db      $a3,$a3,$a4,$a4,$a5,$a5,$a6,$a6
  969C  A6A1A2A2A3          db      $a6,$a1,$a2,$a2,$a3,$a3,$a4,$a4
  96A4  A5A5A6A6A6          db      $a5,$a5,$a6,$a6,$a6,$a1,$a2,$a2
  96AC  A3A3A4A4A5          db      $a3,$a3,$a4,$a4,$a5,$a5,$a6,$a6
  96B4  A6A1A2A2A3          db      $a6,$a1,$a2,$a2,$a3,$a3,$a4,$a4
  96BC  A5A5A6A6A0          db      $a5,$a5,$a6,$a6,$a0,$a0,$a0,$a1
  96C4  A2A3A4A4A5          db      $a2,$a3,$a4,$a4,$a5,$a5,$a5,$a1
  96CC  A1A1A2A3A3          db      $a1,$a1,$a2,$a3,$a3,$a4,$a4,$a4
  96D4  A5A5A5A1A2          db      $a5,$a5,$a5,$a1,$a2,$a3,$a4,$a5
  96DC  A5A2A3A4A5          db      $a5,$a2,$a3,$a4,$a5,$a5,$a0,$a0
  96E4  A1A2A3A4A4          db      $a1,$a2,$a3,$a4,$a4,$a4,$a5,$a5
                    
  96EC              HAMC
  96EC  A3A3A3A0A0          db      $a3,$a3,$a3,$a0,$a0,$a0,$a4
  96F3  A4A4A0A0A0          db      $a4,$a4,$a0,$a0,$a0,$a5,$a5,$a5
  96FB  A0A0A0A5A5          db      $a0,$a0,$a0,$a5,$a5,$a5,$a0,$a0
  9703  A0A6A6A6A0          db      $a0,$a6,$a6,$a6,$a0,$a0,$a8,$a8
  970B  A8A0A0A9A9          db      $a8,$a0,$a0,$a9,$a9,$a0,$a0,$a8
  9713  A8A0A0A8A8          db      $a8,$a0,$a0,$a8,$a8,$a0,$a0,$a7
  971B  A7A0A6A6A0          db      $a7,$a0,$a6,$a6,$a0,$a0,$a6,$a6
  9723  A0A0A5A5A0          db      $a0,$a0,$a5,$a5,$a0,$a0,$a4,$a4
  972B  A0A3A0A2A0          db      $a0,$a3,$a0,$a2,$a0,$a1
                    
  9731              SPRC4
  9731  A3A4A5A6A5          db      $a3,$a4,$a5,$a6,$a5,$a4,$a3,$a4
  9739  A5A6A7A6A5          db      $a5,$a6,$a7,$a6,$a5,$a4,$a3,$a0
                    
  9741              GRLC3
  9741              GRLC4
  9741              PNTC4
  9741  A7A7A7A7A7          db      $a7,$a7,$a7,$a7,$a7,$a7
  9747  A7A7A7A7A7          db      $a7,$a7,$a7,$a7,$a7,$a7,$a7,$a7
  974F  A7A7A7A7A0          db      $a7,$a7,$a7,$a7,$a0,$a0,$a0,$a0
  9757  A3A4A5A5A5          db      $a3,$a4,$a5,$a5,$a5,$a5,$a6,$a6
  975F  A7A7A7A7A7          db      $a7,$a7,$a7,$a7,$a7,$a7,$a7,$a7
                  ATARI CAMAC Assembler Ver  1.0A  Page 124
  Donkey Kong  Thur Feb 24, 1983                       D1:SNDTBL.         
  Miscellaneous subroutines                         

  9767  A7A7A7A7A7          db      $a7,$a7,$a7,$a7,$a7,$a7,$a7,$a7
                    
                    
                    *
                    *
                    ***************************************************
                    
                    
                    ;SOUND CHANNEL 1
  976F              INTF1
  976F  A2ADF3CCD9          db      $A2,$AD,$F3,$CC,$D9,$F3
  9775              INTL1
  9775  3656302814          db      $36,$56,$30,$28,$14,$3d
                    
                    ;SOUND CHANNEL 2
  977B              INTF2
  977B  5155515551          DB      81,85,81,85,81,85,81
  9782  5551555155          DB      85,81,85,81,85,81,85,81,85,81
  978C  5551555155          DB      85,81,85,81,85,162,136,144,162
                    
  9795              INTL2
  9795  3606030303          DB      54,6,3,3,3,3,3,3,3,3,3,3,3
  97A2  0303030303          DB      3,3,3,3,3,3,3,3,3,48,40,20,61
                    
                    ;****
                    ; HOWMUCH.ASM
                    ;
                    
                    ;       This data came from D:HOWMUCH.SND
                    
                    ;       LOW BASS
        = 000C      HOWLEN  equ     12
  97AF              HOWF1
  97AF  6E748392            DB      110,116,131,146
  97B3  A1ADC5DAC5          DB      161,173,197,218,197,146,197,146
                    
  97BB              HOWD1
  97BB  0804040404          DB      8,4,4,4,4,4,5,11,22,20,21,20
  97C7              HOWS1
  97C7  0302020202          DB      3,2,2,2,2,2,3,7,8,8,8,7
                            
                    ;       This is sound channel 02
  97D3              HOWF2
  97D3  0000000000          DB      0,0,0,0,0,67,53,60,53,45,53,60
                    
  97DF              HOWD2
  97DF  0404040404          DB      4,4,4,4,4,25,10,10,10,21,18,13
  97EB              HOWS2
  97EB  0000000000          DB      0,0,0,0,0,12,4,5,5,11,6,7
                    ;
                    
                    ;****
                    ; WALKING.MAC
                    ;
                    
                    ;
                    ;       This data came from D:WALKING.SND
                  ATARI CAMAC Assembler Ver  1.0A  Page 125
  Donkey Kong  Thur Feb 24, 1983                       D1:SNDTBL.         
  Miscellaneous subroutines                         

                    ;
                    ;
                    ;       This is sound channel 1
        = 000A      WLKLEN  equ     $000A
  97F7              WLKF1
  97F7  2324252628          DB      $23,$24,$25,$26,$28,$2A,$2D,$32,$30,$2E
                    
                    ;****
                    ; JUMP.MAC
                    
                    ;       This data came from D:JUMP.SND
                    ;
                    ;       This is sound channel 01
        = 0030      JMPLEN  EQU     $0030
  9801              JMPF1
  9801  3E3D3B3937          DB      $3E,$3D,$3B,$39,$37,$36,$37,$39
  9809  3B3D3E3D3B          DB      $3B,$3D,$3E,$3D,$3B,$39,$37,$36
  9811  37393B3D3E          DB      $37,$39,$3B,$3D,$3E,$3D,$3B,$39
  9819  373637393B          DB      $37,$36,$37,$39,$3B,$3D,$3E,$3D
  9821  3B39373637          DB      $3B,$39,$37,$36,$37,$39,$3B,$3C
  9829  3D3E404753          DB      $3D,$3E,$40,$47,$53,$63,$72,$72
                    
                    ;****
                    ; srivet.MAC
                    ;
                    
                    ;       This data came from D:srivet.SND
                    ;       This is sound channel 01
                    ;
        = 000F      RIVLEN  equ     15
  9831              RIVF1
  9831  0000000000          DB      0,0,0,0,0,0,0,0,0,0,0,0,68,68,68
  9840              RIVD1
  9840  0B0B                DB      11,11
  9842  0B0B0B0B0B          DB      11,11,11,11,11,11,11,11,11,28,17,6,5
                    
  984F              RIVS1
  984F  0000000000          DB      0,0,0,0,0,0,0,0,0,0,0,0,7,1,1
                            
                            
  985E              RIVF2
  985E  D9B6D9B6D9          DB      217,182,217,182,217,182
  9864  D9B6D9B6D9          DB      217,182,217,182,217,182,91,91,91
                    
  986D              RIVD2
  986D  0B0B0B0B            DB      11,11,11,11
  9871  0B0B0B0B0B          DB      11,11,11,11,11,11,11,11,34,6,5
                    
  987C              RIVS2
  987C  0505050505          DB      5,5,5,5,5,5,5,5,5,5,5,5,7,1,1
                    
                    ;****
                    ; ROTATE.MAC
                    ;
                    
                    ;       This data came from D:ROTATE.SND
                    ;
                  ATARI CAMAC Assembler Ver  1.0A  Page 126
  Donkey Kong  Thur Feb 24, 1983                       D1:SNDTBL.         
  Miscellaneous subroutines                         

                    ;       This is sound channel 01
        = 0090      ROTLEN  equ     $0090
  988B              ROTC1
  988B  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  9893  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  989B  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  98A3  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  98AB  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  98B3  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  98BB  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  98C3  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  98CB  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  98D3  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  98DB  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  98E3  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  98EB  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  98F3  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  98FB  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  9903  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  990B  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  9913  A9A9A9A9A9          db      $a9,$a9,$a9,$a9,$a9,$a9,$a9,$a9
  991B              ROTF1
  991B  88888888            DB      $88,$88,$88,$88
  991F  8888888888          DB      $88,$88,$88,$88,$88,$88,$88,$88
  9927  8888888888          DB      $88,$88,$88,$88,$88,$88,$88,$88
  992F  88888888B6          DB      $88,$88,$88,$88,$B6,$B6,$B6,$B6
  9937  B6B6B6B6B6          DB      $B6,$B6,$B6,$B6,$B6,$B6,$B6,$B6
  993F  B6B6B6B6B6          DB      $B6,$B6,$B6,$B6,$B6,$B6,$B6,$5B
  9947  5B5B5B5B5B          DB      $5B,$5B,$5B,$5B,$5B,$5B,$5B,$5B
  994F  5B5B5B5B5B          DB      $5B,$5B,$5B,$5B,$5B,$5B,$5B,$5B
  9957  6C6C6C6C6C          DB      $6C,$6C,$6C,$6C,$6C,$6C,$6C,$6C
  995F  6C6C6C6C6C          DB      $6C,$6C,$6C,$6C,$6C,$6C,$6C,$48
  9967  4880808044          DB      $48,$80,$80,$80,$44,$44,$79,$79
  996F  7940407272          DB      $79,$40,$40,$72,$72,$72,$3C,$3C
  9977  6C6C393966          DB      $6C,$6C,$39,$39,$66,$66,$66,$35
  997F  355B5B5B            DB      $35,$5B,$5B,$5B
  9983  3232555555          DB      $32,$32,$55,$55,$55,$2F,$2F,$51
  998B  51512D2D4C          DB      $51,$51,$2D,$2D,$4C,$4C,$4C,$2A
  9993  2A48484828          DB      $2A,$48,$48,$48,$28,$28,$44,$44
  999B  4425253F3F          DB      $44,$25,$25,$3F,$3F,$3F,$23,$23
  99A3  3C3C3C2D2D          DB      $3C,$3C,$3C,$2D,$2D,$3C,$3C,$3C
                    
                    ;****
                    ; MARCHTWO.MAC
                    ;
                    
                    ;       This data came from D:MARCHTWO.SND
                    ;
                    ;
                    ;       This is sound channel 01
        = 004A      MR2LEN  equ     $004A
  99AB              MR2F2
  99AB  5B5B                DB      $5B,$5B
  99AD  5B5B5B5B5B          DB      $5B,$5B,$5B,$5B,$5B,$5B,$5B,$51
  99B5  5151515151          DB      $51,$51,$51,$51,$51,$51,$51,$51
  99BD  5B5B5B5B5B          DB      $5B,$5B,$5B,$5B,$5B,$5B,$5B,$5B
  99C5  5B6C6C6C6C          DB      $5B,$6C,$6C,$6C,$6C,$6C,$6C,$6C
                  ATARI CAMAC Assembler Ver  1.0A  Page 127
  Donkey Kong  Thur Feb 24, 1983                       D1:SNDTBL.         
  Miscellaneous subroutines                         

  99CD  6C6C6C6C6C          DB      $6C,$6C,$6C,$6C,$6C,$6C,$6C,$6C
  99D5  6C6C6C6C6C          DB      $6C,$6C,$6C,$6C,$6C,$6C,$88,$88
  99DD  8888888888          DB      $88,$88,$88,$88,$88,$88,$88,$88
  99E5  8888888888          DB      $88,$88,$88,$88,$88,$88,$88,$88
  99ED  8888888888          DB      $88,$88,$88,$88,$88,$88,$88,$88
                    
                    ;****
                    ; MARCHONE.MAC
                    ;
                    
                    ;       This data came from D:MARCHONE.SND
                    ;
                    ;       This is sound channel 01
        = 001D      MR1LEN  equ     $001D
  99F5              MR1F2
  99F5  6C6C6C6C6C          DB      $6C,$6C,$6C,$6C,$6C
  99FA  6C6C6C6C6C          DB      $6C,$6C,$6C,$6C,$6C,$6C,$6D,$6E
  9A02  7088888888          DB      $70,$88,$88,$88,$88,$88,$88,$88
  9A0A  8888888888          DB      $88,$88,$88,$88,$88,$88,$88,$88
                    
                    ;****
                    ; ATTACK.MAC
                    ;
                    
                    ;       This data came from D:ATTACK.SND
                    ;
                    ;       This is sound channel 01
        = 00B6      ATKLEN  EQU     $00B6
  9A12              ATKF2
  9A12  6C6C6C6C6C          DB      $6C,$6C,$6C,$6C,$6C,$6C
  9A18  6C6C6C6C6C          DB      $6C,$6C,$6C,$6C,$6C,$6C,$5B,$5B
  9A20  5B5B5B5B5B          DB      $5B,$5B,$5B,$5B,$5B,$5B,$5B,$5B
  9A28  5B5B6C6C6C          DB      $5B,$5B,$6C,$6C,$6C,$6C,$6C,$6C
  9A30  6C6C6C6C6C          DB      $6C,$6C,$6C,$6C,$6C,$6C,$5B,$5B
  9A38  5B5B5B5B5B          DB      $5B,$5B,$5B,$5B,$5B,$5B,$5B,$5B
  9A40  5B6C6C6C6C          DB      $5B,$6C,$6C,$6C,$6C,$6C,$6C,$6C
  9A48  6C6C6C6C6C          DB      $6C,$6C,$6C,$6C,$6C,$6C,$6C,$6C
  9A50  6C6C6C6C6C          DB      $6C,$6C,$6C,$6C,$6C,$6C,$6C,$6C
  9A58  6C6C6C6C6C          DB      $6C,$6C,$6C,$6C,$6C,$6C,$6C,$6C
  9A60  6C6C6C6C6C          DB      $6C,$6C,$6C,$6C,$6C,$6C,$6C,$6C
  9A68  6C6C6C6C6C          DB      $6C,$6C,$6C,$6C,$6C,$88,$88,$88
  9A70  8888888888          DB      $88,$88,$88,$88,$88,$88,$88,$88
  9A78  886C6C6C6C          DB      $88,$6C,$6C,$6C,$6C,$6C,$6C,$6C
  9A80  6C6C6C6C6C          DB      $6C,$6C,$6C,$6C,$6C,$88,$88,$88
  9A88  8888888888          DB      $88,$88,$88,$88,$88,$88,$88,$88
  9A90  886C6C6C6C          DB      $88,$6C,$6C,$6C,$6C,$6C,$6C,$6C
  9A98  6C6C6C6C88          DB      $6C,$6C,$6C,$6C,$88,$88,$88,$88
  9AA0  8888888888          DB      $88,$88,$88,$88,$88,$88,$88,$88
  9AA8  8888888888          DB      $88,$88,$88,$88,$88,$88,$88,$88
  9AB0  8888888888          DB      $88,$88,$88,$88,$88,$88,$88,$88
  9AB8  8888888888          DB      $88,$88,$88,$88,$88,$88,$88,$88
  9AC0  8888888888          DB      $88,$88,$88,$88,$88,$88,$88,$88
                    
                    
                    
                    ;****
                    ; HAMMER.MAC
                  ATARI CAMAC Assembler Ver  1.0A  Page 128
  Donkey Kong  Thur Feb 24, 1983                       D1:SNDTBL.         
  Miscellaneous subroutines                         

                    ;
                    
                    ;       This data came from D:HAMMER.SND
                    ;
                    
                    
        = 0000      CH1OFF  EQU     0               ;channel offsets
        = 0002      CH2OFF  EQU     2
        = 0004      CH3OFF  EQU     4
        = 0006      CH4OFF  EQU     6
                    ;
        = 0045      HAMLEN  equ     $0045           ;sound table length
        = 00FF      hamle2  =       low [-1]
        = 00F4      hamle3  =       low [-12]
        = 00EF      hamle4  =       low [-17]
  9AC8              HAMF
  9AC8  CCCCCCCCCC          db      $cc,$cc,$cc,$cc,$cc,$cc,$b6,$b6
  9AD0  B6CCCCCCA2          db      $b6,$cc,$cc,$cc,$a2,$a2,$a2,$cc
  9AD8  CCCC999999          db      $cc,$cc,$99,$99,$99,$99,$cc,$cc
  9AE0  888888CCCC          db      $88,$88,$88,$cc,$cc,$80,$80,$80
  9AE8  CCCC7979CC          db      $cc,$cc,$79,$79,$cc,$cc,$72,$72
  9AF0  CCCC6C6CCC          db      $cc,$cc,$6c,$6c,$cc,$cc,$66,$66
  9AF8  CC6060CCCC          db      $cc,$60,$60,$cc,$cc,$5b,$5b,$5b
  9B00  5155555151          db      $51,$55,$55,$51,$51,$51,$51,$51
  9B08  4C51485144          db      $4c,$51,$48,$51,$44
                    
                    ;****
                    ; STAMP.MAC
                    ;
                    
                    ;       This data came from D:STAMP.SND
                    ;
                    ;       This is sound channel 04
        = 0018      STPLEN  equ     $0018
                    
        = 0066      STPF4   EQU     $66
                    
                    ;****
                    ; FALL.MAC
                    ;
                    
                    ;       This data came from D:FALL.SND
                    ;
                    
                    ;****
                    ; GRIN.MAC
                    ;
                    
                    ;       This data came from D:GRIN.SND
                    ;
                    ;       This is sound channel 03
                    ;
        = 0011      GRNLEN  EQU     $0011
  9B0D              GRNF3
  9B0D  0808080808          db      $08,$08,$08,$08,$08,$08,$08,$08
  9B15  0808080808          db      $08,$08,$08,$08,$08,$08,$08,$08
  9B1D  08                  db      $08
                  ATARI CAMAC Assembler Ver  1.0A  Page 129
  Donkey Kong  Thur Feb 24, 1983                       D1:SNDTBL.         
  Miscellaneous subroutines                         

  9B1E              GRNC3
  9B1E  4848484848          db      $48,$48,$48,$48,$48,$48,$48,$48
  9B26  4848484848          db      $48,$48,$48,$48,$48,$48,$48,$48
  9B2E  48                  db      $48
                    
                    ;****
                    ; GIRL1.MAC
                    ;
                    
                    ;       This data came from D:GIRL1.SND
                    ;
                    ;       This is sound channel 03
        = 0004      GRLLEN  equ     4
                    ;       This is sound channel 04
                    
  9B2F              GRLF3
  9B2F  2D23282D            DB      45,35,40,45
                    
  9B33              GRLF4
  9B33  342D2F35            DB      52,45,47,53
  9B37              GRLD3
  9B37              GRLD4
  9B37  100C0405            DB      16,12,4,5
  9B3B              GRLS3
  9B3B              GRLS4
  9B3B  0A050102            DB      10,5,1,2
                    
                    ;****
                    ; SPRING.MAC
                    ;
                    
                    ;       This data came from D:SPRING.SND
                    ;
                    ;       This is sound channel 02
        = 000F      SPRLEN  equ     $000F
  9B3F              SPRF4
  9B3F  161B232D3B          DB      $16,$1B,$23,$2D,$3B,$4B,$64
  9B46  1D20282F39          DB      $1D,$20,$28,$2F,$39,$48,$56,$6D
                    
                    ;****
                    ; POINTS.MAC
                    ;
                    
                    ;       This data came from D:POINTS.SND
                    ;
                    ;       This is sound channel 01
        = 002D      PNTLEN  equ     $002D
  9B4E              PNTF4
  9B4E  3233323132          DB      $32,$33,$32,$31,$32
  9B53  3332313233          DB      $33,$32,$31,$32,$33,$32,$31,$32
  9B5B  3332313232          DB      $33,$32,$31,$32,$32,$28,$28,$28
  9B63  2828292827          DB      $28,$28,$29,$28,$27,$28,$28,$27
  9B6B  2829272834          DB      $28,$29,$27,$28,$34,$35,$34,$34
  9B73  353C3D3C44          DB      $35,$3C,$3D,$3C,$44,$43,$44,$44
                    
                    *******************************************************
                    *  pointer table for muspr
                  ATARI CAMAC Assembler Ver  1.0A  Page 130
  Donkey Kong  Thur Feb 24, 1983                       D1:SNDTBL.         
  Miscellaneous subroutines                         

                    *
                    
  9B7B              howa1
  9B7B  AF97                dw      howf1
  9B7D  2D95                dw      howc1
  9B7F  BB97                dw      howd1
  9B81  C797                dw      hows1
  9B83              howa2
  9B83  D397                dw      howf2
  9B85  3995                dw      howc2
  9B87  DF97                dw      howd2
  9B89  EB97                dw      hows2
                    
                    
  9B8B              riva1
  9B8B  3198                dw      rivf1
  9B8D  4595                dw      rivc1
  9B8F  4098                dw      rivd1
  9B91  4F98                dw      rivs1
  9B93              riva2
  9B93  5E98                dw      rivf2
  9B95  BE95                dw      rivc2
  9B97  6D98                dw      rivd2
  9B99  7C98                dw      rivs2
                    
                    
  9B9B              grla3
  9B9B  2F9B                dw      grlf3
  9B9D  4197                dw      grlc3
  9B9F  379B                dw      grld3
  9BA1  3B9B                dw      grls3
  9BA3              grla4
  9BA3  339B                dw      grlf4
  9BA5  4197                dw      grlc4
  9BA7  379B                dw      grld4
  9BA9  3B9B                dw      grls4
                    
                    ********************************
                    * jump table for sounds routine*
                    ********************************
                    
  9BAB              sjtab
  9BAB  65                  db      voice - intro
  9BAC  65                  db      voice - intro
  9BAD  B9                  db      girl1 - intro
  9BAE  65                  db      voice - intro
  9BAF  91                  db      fall - intro
  9BB0  65                  db      voice - intro
  9BB1  CF                  db      hammer - intro
  9BB2  65                  db      voice - intro
  9BB3  65                  db      voice - intro
  9BB4  65                  db      voice - intro
  9BB5  65                  db      voice - intro
  9BB6  4F                  db      srivet - intro
  9BB7  65                  db      voice - intro
  9BB8  65                  db      voice - intro
  9BB9  39                  db      howmuch - intro
                  ATARI CAMAC Assembler Ver  1.0A  Page 131
  Donkey Kong  Thur Feb 24, 1983                       D1:SNDTBL.         
  Miscellaneous subroutines                         

  9BBA  00                  db      intro - intro
                    
  9BBB              fh
  9BBB  9B                  db      high pntf4
  9BBC  9B                  db      high sprf4
  9BBD  00                  db      0               ;girl
  9BBE  9B                  db      high grnf3
  9BBF  00                  db      0               ;fall
  9BC0  95                  db      high stpf3
  9BC1  00                  db      high 0          ;hammer
  9BC2  9A                  db      high atkf2
  9BC3  99                  db      high mr1f2
  9BC4  99                  db      high mr2f2
  9BC5  99                  db      high rotf1
  9BC6  00                  db      0               ;srivet
  9BC7  98                  db      high jmpf1
  9BC8  97                  db      high wlkf1
  9BC9  00                  db      0               ;howmuch
  9BCA  00                  db      0               ;intro
                    
  9BCB              fl
  9BCB  4E                  db      low pntf4
  9BCC  3F                  db      low sprf4
  9BCD  00                  db      0               ;girl
  9BCE  0D                  db      low grnf3
  9BCF  00                  db      0               ;fall
  9BD0  54                  db      low stpf3
  9BD1  00                  db      0               ;hammer
  9BD2  12                  db      low atkf2
  9BD3  F5                  db      low mr1f2
  9BD4  AB                  db      low mr2f2
  9BD5  1B                  db      low rotf1
  9BD6  00                  db      0               ;srivet
  9BD7  01                  db      low jmpf1
  9BD8  F7                  db      low wlkf1
  9BD9  00                  db      0               ;howmuch
  9BDA  00                  db      0               ;intro
                    
  9BDB              cnh
  9BDB  97                  db      high pntc4
  9BDC  97                  db      high sprc4
  9BDD  00                  db      0               ;girl
  9BDE  9B                  db      high grnc3
  9BDF  00                  db      0               ;fall
  9BE0  95                  db      high stpc3
  9BE1  00                  db      0               ;hammer
  9BE2  96                  db      high atkc2
  9BE3  96                  db      high mr1c2
  9BE4  95                  db      high mr2c2
  9BE5  98                  db      high rotc1
  9BE6  00                  db      0               ;srivet
  9BE7  95                  db      high jmpc1
  9BE8  95                  db      high wlkc1
  9BE9  00                  db      0               ;howmuch
  9BEA  00                  db      0               ;intro
                    
  9BEB              cnl
                  ATARI CAMAC Assembler Ver  1.0A  Page 132
  Donkey Kong  Thur Feb 24, 1983                       D1:SNDTBL.         
  Miscellaneous subroutines                         

  9BEB  41                  db      low pntc4
  9BEC  31                  db      low sprc4
  9BED  00                  db      0               ;girl
  9BEE  1E                  db      low grnc3
  9BEF  00                  db      0               ;fall
  9BF0  6C                  db      low stpc3
  9BF1  00                  db      0               ;hammer
  9BF2  36                  db      low atkc2
  9BF3  18                  db      low mr1c2
  9BF4  CE                  db      low mr2c2
  9BF5  8B                  db      low rotc1
  9BF6  00                  db      0               ;srivet
  9BF7  8E                  db      low jmpc1
  9BF8  84                  db      low wlkc1
  9BF9  00                  db      0               ;howmuch
  9BFA  00                  db      0               ;intro
                    
  9BFB              chnum                           ;biases chan #4=6; #3=4; #2=2, #1=0
  9BFB  06                  db      6
  9BFC  06                  db      6
  9BFD  00                  db      0               ;girl
  9BFE  04                  db      4
  9BFF  00                  db      0               ;fall
  9C00  04                  db      4
  9C01  00                  db      0               ;hammer
  9C02  02                  db      2
  9C03  02                  db      2
  9C04  02                  db      2
  9C05  00                  db      0
  9C06  00                  db      0               ;srivet
  9C07  00                  db      0
  9C08  00                  db      0
  9C09  00                  db      0               ;howmuch
  9C0A  00                  db      0               ;intro
                  ATARI CAMAC Assembler Ver  1.0A  Page 133
  Donkey Kong  Thur Feb 24, 1983                       D1:FONTS.          
  Fonts                                             

  9C0B              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;;                                                      ;;
                    ;;                        Fonts                         ;;
                    ;;                                                      ;;
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;
                    ; This is the blank font.  It draws absolutely nothing
                    ;
  9C0B  0000        blank   db      0,0                     ; 0 lines of 0 bytes per line...
                    
                    ;
                    ; Girders.  These shouldn't be crunched, because they are pointed
                    ;  to by GFNT[].
                    ;
  9C0D  0206        fgird1  db      2,6                     ; right half of vanilla girder
  9C0F  55500400            db      $55,$50,$04,$00
  9C13  15105150            db      $15,$10,$51,$50
  9C17  40405550            db      $40,$40,$55,$50
                    
  9C1B  0206        fgird2  db      2,6                     ; left half of vanilla girder
  9C1D  55504040            db      $55,$50,$40,$40
  9C21  51501510            db      $51,$50,$15,$10
  9C25  04005550            db      $04,$00,$55,$50
                    
  9C29  0206        fgird3  db      2,6                     ; 'Tube'
  9C2B  AAA0                db      %10101010, %10100000
  9C2D  A0A0                db      %10100000, %10100000
  9C2F  8020                db      %10000000, %00100000
  9C31  8020                db      %10000000, %00100000
  9C33  A0A0                db      %10100000, %10100000
  9C35  AAA0                db      %10101010, %10100000
                    
  9C37  0206        fgird4  db      2,6                     ; conveyerbelt part
  9C39  FFF00C00            db      $ff,$f0,$0c,$00
  9C3D  0C000C00            db      $0c,$00,$0c,$00
  9C41  0C00FFF0            db      $0c,$00,$ff,$f0
                    
                    ;
                    ; Playfield hammer
                    ; (red and blue version)
                    ;
  9C45  020C        pfham   db      2,12
  9C47  0200                db      %00000010, %00000000
  9C49  5550                db      %01010101, %01010000
  9C4B  5A90                db      %01011010, %10010000
  9C4D  5550                db      %01010101, %01010000
  9C4F  5550                db      %01010101, %01010000
  9C51  5550                db      %01010101, %01010000
  9C53  0200                db      %00000010, %00000000
  9C55  0200                db      %00000010, %00000000
  9C57  0200                db      %00000010, %00000000
  9C59  0200                db      %00000010, %00000000
  9C5B  0200                db      %00000010, %00000000
  9C5D  0200                db      %00000010, %00000000
                    
                    ;
                    ; four_high vanilla ladder
                  ATARI CAMAC Assembler Ver  1.0A  Page 134
  Donkey Kong  Thur Feb 24, 1983                       D1:FONTS.          
  Fonts                                             

                    ;
  9C5F  0204        v4ladr  db      2,4
  9C61  AAA0                db      $aa,$a0
  9C63  8020                db      $80,$20
  9C65  8020                db      $80,$20
  9C67  8020                db      $80,$20
                    
                    ;
                    ; horizontal piece of ladder (two dots of PF2)
  9C69  02018020    vladr   db      2,1,$80,$20
                    
                    ;
                    ; horizontal piece of ladder (a rung)
  9C6D  0201AAA0    vsladr  db      2,1,$aa,$a0
                    
                    ;
                    ; four_high red ladder
  9C71  0204        r4ladr  db      2,4
  9C73  5550                db      %01010101,%01010000
  9C75  4010                db      %01000000,%00010000
  9C77  4010                db      %01000000,%00010000
  9C79  4010                db      %01000000,%00010000
                    
                    ;
                    ; horizontal peice of red ladder
  9C7B  02014010    rladr   db      2,1,%01000000, %00010000
                    
                    ;
                    ; horizontal peice of red ladder (a rung again)
  9C7F  02015550    rsladr  db      2,1,%01010101, %01010000
                    
                    ;
                    ; the rivet
                    ;
  9C83  0208        rivet   db      2,8
  9C85  5550                db      %01010101, %01010000
  9C87  9560                db      %10010101, %01100000
  9C89  9F60                db      %10011111, %01100000
  9C8B  9F60                db      %10011111, %01100000
  9C8D  9F60                db      %10011111, %01100000
  9C8F  9F60                db      %10011111, %01100000
  9C91  1540                db      %00010101, %01000000
  9C93  0500                db      %00000101, %00000000
                    
                    ;
                    ; These fonts are used to EOR rivets out of existence
                    ; There are really only two (because segments are drawn only on even
                    ; pixel boundaries, and its not necessary to have the mod_1 and mod_3
                    ; versions...I hope...)
                    ;
  9C95              river1                                  ; "unused" mod_1 boundary...
  9C95  0208        river0  db      2,8
  9C97  5550                db      %01010101, %01010000
  9C99  1540                db      %00010101, %01000000
  9C9B  1F40                db      %00011111, %01000000
  9C9D  1F40                db      %00011111, %01000000
  9C9F  1F40                db      %00011111, %01000000
                  ATARI CAMAC Assembler Ver  1.0A  Page 135
  Donkey Kong  Thur Feb 24, 1983                       D1:FONTS.          
  Fonts                                             

  9CA1  1F40                db      %00011111, %01000000
  9CA3  1540                db      %00010101, %01000000
  9CA5  0500                db      %00000101, %00000000
                    
  9CA7              river3                                  ; "unused" mod_3 boundary...
  9CA7  0208        river2  db      2,8
  9CA9  0555                db      %00000101, %01010101
  9CAB  0154                db      %00000001, %01010100
  9CAD  01F4                db      %00000001, %11110100
  9CAF  01F4                db      %00000001, %11110100
  9CB1  01F4                db      %00000001, %11110100
  9CB3  01F4                db      %00000001, %11110100
  9CB5  0154                db      %00000001, %01010100
  9CB7  0050                db      %00000000, %01010000
                    
                    ;
                    ; 'Help!' font
                    ;
  9CB9  0410        help    db      4,16
  9CBB  0000000A            db      %00000000, %00000000, %00000000, %00001010
  9CBF  00000A0A            db      %00000000, %00000000, %00001010, %00001010
  9CC3  0002088A            db      %00000000, %00000010, %00001000, %10001010
  9CC7  00A2088A            db      %00000000, %10100010, %00001000, %10001010
  9CCB  0882088A            db      %00001000, %10000010, %00001000, %10001010
  9CCF  8882088A            db      %10001000, %10000010, %00001000, %10001010
  9CD3  8882088A            db      %10001000, %10000010, %00001000, %10001010
  9CD7  A8A2088A            db      %10101000, %10100010, %00001000, %10001010
  9CDB  8882088A            db      %10001000, %10000010, %00001000, %10001010
  9CDF  88820A0A            db      %10001000, %10000010, %00001010, %00001010
  9CE3  0882080A            db      %00001000, %10000010, %00001000, %00001010
  9CE7  00A2080A            db      %00000000, %10100010, %00001000, %00001010
  9CEB  0002880A            db      %00000000, %00000010, %10001000, %00001010
  9CEF  00000800            db      %00000000, %00000000, %00001000, %00000000
  9CF3  0000000A            db      %00000000, %00000000, %00000000, %00001010
  9CF7  0000000A            db      %00000000, %00000000, %00000000, %00001010
                    
                    
                    ;
                    ; The full heart
                    ;
        = 9CFB      bheart  =       *                               ; ***FOR NOW***
  9CFB              heart
  9CFB  030F                db      3,15
  9CFD  050140              db      %00000101, %00000001, %01000000
  9D00  154550              db      %00010101, %01000101, %01010000
  9D03  154550              db      %00010101, %01000101, %01010000
  9D06  555554              db      %01010101, %01010101, %01010100
  9D09  555554              db      %01010101, %01010101, %01010100
  9D0C  555554              db      %01010101, %01010101, %01010100
  9D0F  555554              db      %01010101, %01010101, %01010100
  9D12  155550              db      %00010101, %01010101, %01010000
  9D15  155550              db      %00010101, %01010101, %01010000
  9D18  055540              db      %00000101, %01010101, %01000000
  9D1B  055540              db      %00000101, %01010101, %01000000
  9D1E  015500              db      %00000001, %01010101, %00000000
  9D21  015500              db      %00000001, %01010101, %00000000
  9D24  005400              db      %00000000, %01010100, %00000000
                  ATARI CAMAC Assembler Ver  1.0A  Page 136
  Donkey Kong  Thur Feb 24, 1983                       D1:FONTS.          
  Fonts                                             

  9D27  001000              db      %00000000, %00010000, %00000000
                    
                    
                    ;
                    ; An elevator segment
                    ; THIS IS NOT a standard font: it has no width and height prefix.  It is
                    ; meant to be part of the wired code for elevator refresh.
                    ;
  9D2A              elgird
  9D2A  001400              db      %00000000, %00010100, %00000000
  9D2D  555555              db      %01010101, %01010101, %01010101
  9D30  040404              db      %00000100, %00000100, %00000100
  9D33  151515              db      %00010101, %00010101, %00010101
  9D36  515151              db      %01010001, %01010001, %01010001
  9D39  404040              db      %01000000, %01000000, %01000000
  9D3C  555555              db      %01010101, %01010101, %01010101
  9D3F  001400              db      %00000000, %00010100, %00000000
                    
                    ;
                    ; border graphics for bonus counter
                    ;
  9D42  0209        lbonus  db      2,9
  9D44  2800                db      %00101000, 0
  9D46  A000                db      %10100000, 0
  9D48  A000                db      %10100000, 0
  9D4A  A000                db      %10100000, 0
  9D4C  A000                db      %10100000, 0
  9D4E  A000                db      %10100000, 0
  9D50  A000                db      %10100000, 0
  9D52  A000                db      %10100000, 0
  9D54  2A80                db      %00101010, %10000000
                    
  9D56  0209        rbonus  db      2,9
  9D58  0A00                db      %00001010, 0
  9D5A  0280                db      %00000010, %10000000
  9D5C  0280                db      %00000010, %10000000
  9D5E  0280                db      %00000010, %10000000
  9D60  0280                db      %00000010, %10000000
  9D62  0280                db      %00000010, %10000000
  9D64  0280                db      %00000010, %10000000
  9D66  0280                db      %00000010, %10000000
  9D68  AA00                db      %10101010, 0
                    
                    
                    ;
                    ; "GAME OVER" font
                    ;
  9D6A              qgover
  9D6A  070D                db      7,13
  9D6C  2AA028              db      %00101010, %10100000, %00101000
  9D6F  0A028AAA            db       %00001010, %00000010, %10001010, %10101010
  9D73  A000AA              db      %10100000, %00000000, %10101010
  9D76  0A8A8A00            db       %00001010, %10001010, %10001010, %00000000
  9D7A  A00282              db      %10100000, %00000010, %10000010
  9D7D  8AAA8A00            db       %10001010, %10101010, %10001010, %00000000
  9D81  A2A282              db      %10100010, %10100010, %10000010
  9D84  8A228AA8            db       %10001010, %00100010, %10001010, %10101000
                  ATARI CAMAC Assembler Ver  1.0A  Page 137
  Donkey Kong  Thur Feb 24, 1983                       D1:FONTS.          
  Fonts                                             

  9D88  A0A2AA              db      %10100000, %10100010, %10101010
  9D8B  8A028A00            db       %10001010, %00000010, %10001010, %00000000
  9D8F  2AA282              db      %00101010, %10100010, %10000010
  9D92  8A028AAA            db       %10001010, %00000010, %10001010, %10101010
  9D96  000000              db      %00000000, %00000000, %00000000
  9D99  00000000            db       %00000000, %00000000, %00000000, %00000000
  9D9D  2A8282              db      %00101010, %10000010, %10000010
  9DA0  8AAA0AA8            db       %10001010, %10101010, %00001010, %10101000
  9DA4  A0A282              db      %10100000, %10100010, %10000010
  9DA7  8A000A0A            db       %10001010, %00000000, %00001010, %00001010
  9DAB  A0A282              db      %10100000, %10100010, %10000010
  9DAE  8A000A0A            db       %10001010, %00000000, %00001010, %00001010
  9DB2  A0A282              db      %10100000, %10100010, %10000010
  9DB5  8AA80AA8            db       %10001010, %10101000, %00001010, %10101000
  9DB9  A0A0AA              db      %10100000, %10100000, %10101010
  9DBC  0A000A28            db       %00001010, %00000000, %00001010, %00101000
  9DC0  2A8028              db      %00101010, %10000000, %00101000
  9DC3  0AAA0A0A            db       %00001010, %10101010, %00001010, %00001010
                    
                    ;
                    ; The bottom elevator pulley
                    ;
  9DC7  0306        bpulley db      3,6
  9DC9  0FFFF0              db      %00001111, %11111111, %11110000
  9DCC  3FFFFC              db      %00111111, %11111111, %11111100
  9DCF  FAAAAF              db      %11111010, %10101010, %10101111
  9DD2  FAAAAF              db      %11111010, %10101010, %10101111
  9DD5  FFAAFF              db      %11111111, %10101010, %11111111
  9DD8  3FFFFC              db      %00111111, %11111111, %11111100
                    
                    ;
                    ; The top elevator pulley
                    ;
  9DDB  0306        upulley db      3,6
  9DDD  3FFFFC              db      %00111111, %11111111, %11111100
  9DE0  FFAAFF              db      %11111111, %10101010, %11111111
  9DE3  FAAAAF              db      %11111010, %10101010, %10101111
  9DE6  FAAAAF              db      %11111010, %10101010, %10101111
  9DE9  3FFFFC              db      %00111111, %11111111, %11111100
  9DEC  0FFFF0              db      %00001111, %11111111, %11110000
                  ATARI CAMAC Assembler Ver  1.0A  Page 138
  Donkey Kong  Thur Feb 24, 1983                       D1:FONTS.          
  Fonts                                             

                    ; Prizes
                    ; These are shoved into players; left-bottom justified in 8x8
                    ; There's some confusion as to what to call the damn things....so I'm
                    ; gonna do what I like, here...
                    ;
        = 9DEF      prizbas =       *
                    ;
                    ; the Umbrella
                    ;
        = 0000      priz0   =       *-prizbas
  9DEF  38                  db      %00111000
  9DF0  6C                  db      %01101100
  9DF1  DC                  db      %11011100
  9DF2  DE                  db      %11011110
  9DF3  AA                  db      %10101010
  9DF4  10                  db      %00010000
  9DF5  10                  db      %00010000
  9DF6  10                  db      %00010000
  9DF7  1C                  db      %00011100
  9DF8  08                  db      %00001000
                    
                    ;
                    ; The "Birthday Cake" [I think...]
                    ;
        = 000A      priz1   =       *-prizbas
  9DF9  10                  db      %00010000
  9DFA  44                  db      %01000100
  9DFB  10                  db      %00010000
  9DFC  54                  db      %01010100
  9DFD  54                  db      %01010100
  9DFE  FE                  db      %11111110
  9DFF  FE                  db      %11111110
  9E00  00                  db      %00000000
  9E01  FE                  db      %11111110
  9E02  FE                  db      %11111110
                    
                    ;
                    ; The Purse ["...omigosh...that's not a /Birthday Cake/???"]
                    ;
        = 0014      priz2   =       *-prizbas
  9E03  38                  db      %00111000
  9E04  44                  db      %01000100
  9E05  82                  db      %10000010
  9E06  82                  db      %10000010
  9E07  BA                  db      %10111010
  9E08  6C                  db      %01101100
  9E09  AA                  db      %10101010
  9E0A  D6                  db      %11010110
  9E0B  EE                  db      %11101110
  9E0C  FE                  db      %11111110
                    
                    ;
                    ; The Hat
                    ;
        = 001E      priz3   =       *-prizbas
  9E0D  00                  db      %00000000
  9E0E  00                  db      %00000000
                  ATARI CAMAC Assembler Ver  1.0A  Page 139
  Donkey Kong  Thur Feb 24, 1983                       D1:FONTS.          
  Fonts                                             

  9E0F  14                  db      %00010100
  9E10  3C                  db      %00111100
  9E11  38                  db      %00111000
  9E12  00                  db      %00000000
  9E13  7C                  db      %01111100
  9E14  FE                  db      %11111110
  9E15  DA                  db      %11011010
  9E16  DA                  db      %11011010
        = 0028      priz4   =       *-prizbas
                  ATARI CAMAC Assembler Ver  1.0A  Page 140
  Donkey Kong  Thur Feb 24, 1983                       D1:FONTS.          
  Fonts                                             

                    ;
                    ; interim stuff
                    ;
  9E17              fnsan0
  9E17              fnsan1
  9E17              fnsan2
  9E17              fnsan3
  9E17  0308                db      3,8
  9E19  005000              db      %00000000, %01010000, %00000000
  9E1C  05D400              db      %00000101, %11010100, %00000000
  9E1F  1F5700              db      %00011111, %01010111, %00000000
  9E22  D5D5C0              db      %11010101, %11010101, %11000000
  9E25  555550              db      %01010101, %01010101, %01010000
  9E28  AAAAA0              db      %10101010, %10101010, %10100000
  9E2B  AAAAA0              db      %10101010, %10101010, %10100000
  9E2E  2AAA80              db      %00101010, %10101010, %10000000
                  ATARI CAMAC Assembler Ver  1.0A  Page 141
  Donkey Kong  Thur Feb 24, 1983                       D1:FONTS.          
  Alphanumeric fonts                                

  9E31              ;
                    ; Numbers and Letters
                    ; In a wierd 3x6 font
                    ;
                    let     macro   1,2,3,4,5,6
                    %L      db      $%1,$%2,$%3,$%4,$%5,$%6
                            ENDM
                    
                    ;
                    ; Numbers -- the roman numerals 0..9
                    ;
                    ;
                    
  9E31              fnum0   let     54,44,44,44,44,54       ; 0
  9E31 +5444444444  FNUM0   db      $54,$44,$44,$44,$44,$54
  9E37                      let     10,50,10,10,10,54       ; 1
  9E37 +1050101010          db      $10,$50,$10,$10,$10,$54
  9E3D                      let     54,04,04,54,40,54       ; 2
  9E3D +5404045440          db      $54,$04,$04,$54,$40,$54
  9E43                      let     54,04,04,54,04,54       ; 3
  9E43 +5404045404          db      $54,$04,$04,$54,$04,$54
  9E49                      let     40,44,44,54,04,04       ; 4
  9E49 +4044445404          db      $40,$44,$44,$54,$04,$04
  9E4F                      let     54,40,40,54,04,54       ; 5
  9E4F +5440405404          db      $54,$40,$40,$54,$04,$54
  9E55                      let     54,44,40,54,44,54       ; 6
  9E55 +5444405444          db      $54,$44,$40,$54,$44,$54
  9E5B                      let     54,04,04,04,04,04       ; 7
  9E5B +5404040404          db      $54,$04,$04,$04,$04,$04
  9E61                      let     54,44,44,54,44,54       ; 8
  9E61 +5444445444          db      $54,$44,$44,$54,$44,$54
  9E67                      let     54,44,44,54,04,54       ; 9
  9E67 +5444445404          db      $54,$44,$44,$54,$04,$54
                    
                    ;
                    ; Letters - the alphabet, from A-Z
                    ;
  9E6D                      let     00,00,00,00,00,00       ; space
  9E6D +0000000000          db      $00,$00,$00,$00,$00,$00
  9E73              falpha  let     54,44,44,54,44,44       ; A
  9E73 +5444445444  FALPHA  db      $54,$44,$44,$54,$44,$44
  9E79                      let     54,44,44,50,44,54       ; B
  9E79 +5444445044          db      $54,$44,$44,$50,$44,$54
  9E7F                      let     54,40,40,40,40,54       ; C
  9E7F +5440404040          db      $54,$40,$40,$40,$40,$54
  9E85                      let     50,44,44,44,44,50       ; D
  9E85 +5044444444          db      $50,$44,$44,$44,$44,$50
  9E8B                      let     54,40,40,50,40,54       ; E
  9E8B +5440405040          db      $54,$40,$40,$50,$40,$54
  9E91                      let     54,40,40,50,40,40       ; F
  9E91 +5440405040          db      $54,$40,$40,$50,$40,$40
  9E97                      let     54,40,40,44,44,54       ; G
  9E97 +5440404444          db      $54,$40,$40,$44,$44,$54
  9E9D                      let     44,44,44,54,44,44       ; H
  9E9D +4444445444          db      $44,$44,$44,$54,$44,$44
  9EA3                      let     54,10,10,10,10,54       ; I
  9EA3 +5410101010          db      $54,$10,$10,$10,$10,$54
                  ATARI CAMAC Assembler Ver  1.0A  Page 142
  Donkey Kong  Thur Feb 24, 1983                       D1:FONTS.          
  Alphanumeric fonts                                

  9EA9                      let     04,04,04,04,44,54       ; J
  9EA9 +0404040444          db      $04,$04,$04,$04,$44,$54
  9EAF                      let     40,44,44,50,44,44       ; K
  9EAF +4044445044          db      $40,$44,$44,$50,$44,$44
  9EB5                      let     40,40,40,40,40,54       ; L
  9EB5 +4040404040          db      $40,$40,$40,$40,$40,$54
  9EBB                      let     44,54,54,44,44,44       ; M
  9EBB +4454544444          db      $44,$54,$54,$44,$44,$44
  9EC1                      let     44,54,54,54,54,44       ; N
  9EC1 +4454545454          db      $44,$54,$54,$54,$54,$44
  9EC7                      let     54,44,44,44,44,54       ; O
  9EC7 +5444444444          db      $54,$44,$44,$44,$44,$54
  9ECD                      let     54,44,54,40,40,40       ; P
  9ECD +5444544040          db      $54,$44,$54,$40,$40,$40
  9ED3                      let     10,44,04,10,00,10       ; "?" - question_mark
  9ED3 +1044041000          db      $10,$44,$04,$10,$00,$10
  9ED9                      let     54,44,44,54,50,44       ; R
  9ED9 +5444445450          db      $54,$44,$44,$54,$50,$44
  9EDF                      let     54,40,40,54,04,54       ; S
  9EDF +5440405404          db      $54,$40,$40,$54,$04,$54
  9EE5                      let     54,10,10,10,10,10       ; T
  9EE5 +5410101010          db      $54,$10,$10,$10,$10,$10
  9EEB                      let     44,44,44,44,44,54       ; U
  9EEB +4444444444          db      $44,$44,$44,$44,$44,$54
  9EF1                      let     44,44,44,44,54,10       ; V
  9EF1 +4444444454          db      $44,$44,$44,$44,$54,$10
  9EF7                      let     44,44,44,54,54,44       ; W
  9EF7 +4444445454          db      $44,$44,$44,$54,$54,$44
  9EFD                      let     44,44,10,10,44,44       ; X
  9EFD +4444101044          db      $44,$44,$10,$10,$44,$44
  9F03                      let     44,44,44,10,10,10       ; Y
  9F03 +4444441010          db      $44,$44,$44,$10,$10,$10
  9F09                      let     54,04,10,10,40,54       ; Z
  9F09 +5404101040          db      $54,$04,$10,$10,$40,$54
  9F0F                      let     00,00,00,54,00,00       ; - (dash)
  9F0F +0000005400          db      $00,$00,$00,$54,$00,$00
                    
  9F15  010A        lmario  db      1,10                    ; little Mario (for scoreline)
  9F17  28                  db      %00101000
  9F18  A8                  db      %10101000
  9F19  34                  db      %00110100
  9F1A  F4                  db      %11110100
  9F1B  54                  db      %01010100
  9F1C  74                  db      %01110100
  9F1D  F4                  db      %11110100
  9F1E  24                  db      %00100100
  9F1F  54                  db      %01010100
  9F20  44                  db      %01000100
                  ATARI CAMAC Assembler Ver  1.0A  Page 143
  Donkey Kong  Thur Feb 24, 1983                       D1:FONTS.          
  Floating-score fonts                              

  9F21                      local
       +                    EPROC
  9F21 +                    PROC
                    ;
                    ; Pointers to floating-score fonts
                    ;
  9F21  293D5165    fscfnl  db      low :scpf1, low :scpf3, low :scpf5, low :scpf8
  9F25  9F9F9F9F    fscfnh  db      high :scpf1, high :scpf3, high :scpf5, high :scpf8
                    
                    ;
                    ; '110'
                    ;
  9F29  0306        :scpf1  db      3,6
  9F2B  30FCFC              db      %00110000, %11111100, %11111100
  9F2E  F0CCCC              db      %11110000, %11001100, %11001100
  9F31  30CCCC              db      %00110000, %11001100, %11001100
  9F34  30CCCC              db      %00110000, %11001100, %11001100
  9F37  30CCCC              db      %00110000, %11001100, %11001100
  9F3A  FCFCFC              db      %11111100, %11111100, %11111100
                    
                    ;
                    ; '300'
                    ;
  9F3D  0306        :scpf3  db      3,6
  9F3F  FCFCFC              db      %11111100, %11111100, %11111100
  9F42  0CCCCC              db      %00001100, %11001100, %11001100
  9F45  0CCCCC              db      %00001100, %11001100, %11001100
  9F48  FCCCCC              db      %11111100, %11001100, %11001100
  9F4B  0CCCCC              db      %00001100, %11001100, %11001100
  9F4E  FCFCFC              db      %11111100, %11111100, %11111100
                    
                    ;
                    ; '500'
                    ;
  9F51  0306        :scpf5  db      3,6
  9F53  FCFCFC              db      %11111100, %11111100, %11111100
  9F56  C0CCCC              db      %11000000, %11001100, %11001100
  9F59  C0CCCC              db      %11000000, %11001100, %11001100
  9F5C  FCCCCC              db      %11111100, %11001100, %11001100
  9F5F  0CCCCC              db      %00001100, %11001100, %11001100
  9F62  FCFCFC              db      %11111100, %11111100, %11111100
                    
                    ;
                    ; '800'
                    ;
  9F65  0306        :scpf8  db      3,6
  9F67  FCFCFC              db      %11111100, %11111100, %11111100
  9F6A  CCCCCC              db      %11001100, %11001100, %11001100
  9F6D  CCCCCC              db      %11001100, %11001100, %11001100
  9F70  FCCCCC              db      %11111100, %11001100, %11001100
  9F73  CCCCCC              db      %11001100, %11001100, %11001100
  9F76  FCFCFC              db      %11111100, %11111100, %11111100
                    
                  ATARI CAMAC Assembler Ver  1.0A  Page 144
  Donkey Kong  Thur Feb 24, 1983                       D1:FONTS.          
  Spring fonts                                      

  9F79              ; spring fonts
                    ;
                    
                    ;
                    ; spring seq 0
                    ;
  9F79  0210        fnspr0  db      2,16
  9F7B  AAA8                db      %10101010, %10101000
  9F7D  AAA8                db      %10101010, %10101000
  9F7F  0540                db      %00000101, %01000000
  9F81  0540                db      %00000101, %01000000
  9F83  1210                db      %00010010, %00010000
  9F85  1210                db      %00010010, %00010000
  9F87  5214                db      %01010010, %00010100
  9F89  4204                db      %01000010, %00000100
  9F8B  4204                db      %01000010, %00000100
  9F8D  5214                db      %01010010, %00010100
  9F8F  1210                db      %00010010, %00010000
  9F91  1210                db      %00010010, %00010000
  9F93  0540                db      %00000101, %01000000
  9F95  0540                db      %00000101, %01000000
  9F97  AAA8                db      %10101010, %10101000
  9F99  AAA8                db      %10101010, %10101000
                    
                    ;
                    ; spring seq 1
                    ;
  9F9B  020C        fnspr1  db      2,12
  9F9D  AAA8                db      %10101010, %10101000
  9F9F  AAA8                db      %10101010, %10101000
  9FA1  0540                db      %00000101, %01000000
  9FA3  1550                db      %00010101, %01010000
  9FA5  1210                db      %00010010, %00010000
  9FA7  5214                db      %01010010, %00010100
  9FA9  5214                db      %01010010, %00010100
  9FAB  1210                db      %00010010, %00010000
  9FAD  1550                db      %00010101, %01010000
  9FAF  0540                db      %00000101, %01000000
  9FB1  AAA8                db      %10101010, %10101000
  9FB3  AAA8                db      %10101010, %10101000
                    
                    ;
                    ; spring seq 2
                    ;
  9FB5  0208        fnspr2  db      2,8
  9FB7  AAA8                db      %10101010, %10101000
  9FB9  AAA8                db      %10101010, %10101000
  9FBB  1550                db      %00010101, %01010000
  9FBD  5214                db      %01010010, %00010100
  9FBF  5214                db      %01010010, %00010100
  9FC1  1550                db      %00010101, %01010000
  9FC3  AAA8                db      %10101010, %10101000
  9FC5  AAA8                db      %10101010, %10101000
                    
                    ;
                    ; spring seq 3
                    ;
                  ATARI CAMAC Assembler Ver  1.0A  Page 145
  Donkey Kong  Thur Feb 24, 1983                       D1:FONTS.          
  Spring fonts                                      

  9FC7  0206        fnspr3  db      2,6
  9FC9  AAA8                db      %10101010, %10101000
  9FCB  AAA8                db      %10101010, %10101000
  9FCD  4214                db      %01000010, %00010100
  9FCF  5204                db      %01010010, %00000100
  9FD1  AAA8                db      %10101010, %10101000
  9FD3  AAA8                db      %10101010, %10101000
                  ATARI CAMAC Assembler Ver  1.0A  Page 146
  Donkey Kong  Thur Feb 24, 1983                       D1:FONTS.          
  Explosion graphics                                

  9FD5              ;
                    ; sequence is:
                    ;
                    ;  0, 1, 0, 1, 2, 3, 4, 4 + floating_score + point sound, gone
                    ;       
                    
  9FD5  0403                db      4,3     ; x,y offset
  9FD7  020C        hhfx0   db      2,12
  9FD9  0280                db      %00000010, %10000000
  9FDB  0AA0                db      %00001010, %10100000
  9FDD  2008                db      %00100000, %00001000
  9FDF  2008                db      %00100000, %00001000
  9FE1  8002                db      %10000000, %00000010
  9FE3  8002                db      %10000000, %00000010
  9FE5  8002                db      %10000000, %00000010
  9FE7  8002                db      %10000000, %00000010
  9FE9  2008                db      %00100000, %00001000
  9FEB  2008                db      %00100000, %00001000
  9FED  0AA0                db      %00001010, %10100000
  9FEF  0280                db      %00000010, %10000000
                    
  9FF1  0405                db      4,5
  9FF3  0208        hhfx1   db      2,8
  9FF5  0280                db      %00000010, %10000000
  9FF7  0AA0                db      %00001010, %10100000
  9FF9  2828                db      %00101000, %00101000
  9FFB  2808                db      %00101000, %00001000
  9FFD  2028                db      %00100000, %00101000
  9FFF  2820                db      %00101000, %00100000
  A001  0A20                db      %00001010, %00100000
  A003  0280                db      %00000010, %10000000
                    
  A005  0406                db      4,6
  A007  0206        hhfx2   db      2,6
  A009  0280                db      %00000010, %10000000
  A00B  0AA0                db      %00001010, %10100000
  A00D  0AA0                db      %00001010, %10100000
  A00F  0AA0                db      %00001010, %10100000
  A011  0AA0                db      %00001010, %10100000
  A013  0280                db      %00000010, %10000000
                    
  A015  0407                db      4,7
  A017  0204        hhfx3   db      2,4
  A019  0080                db      %00000000, %10000000
  A01B  02A0                db      %00000010, %10100000
  A01D  02A0                db      %00000010, %10100000
  A01F  0080                db      %00000000, %10000000
                    
  A021  0000                db      0,0
  A023  0412        hhfx4   db      4,18
  A025  00020000            db      %00000000, %00000010, %00000000, %00000000
  A029  00020000            db      %00000000, %00000010, %00000000, %00000000
  A02D  20020080            db      %00100000, %00000010, %00000000, %10000000
  A031  08020200            db      %00001000, %00000010, %00000010, %00000000
  A035  02020800            db      %00000010, %00000010, %00001000, %00000000
  A039  00802000            db      %00000000, %10000000, %00100000, %00000000
  A03D  00000000            db      %00000000, %00000000, %00000000, %00000000
                  ATARI CAMAC Assembler Ver  1.0A  Page 147
  Donkey Kong  Thur Feb 24, 1983                       D1:FONTS.          
  Explosion graphics                                

  A041  00000000            db      %00000000, %00000000, %00000000, %00000000
  A045  AA800AA8            db      %10101010, %10000000, %00001010, %10101000
  A049  00000000            db      %00000000, %00000000, %00000000, %00000000
  A04D  00000000            db      %00000000, %00000000, %00000000, %00000000
  A051  00000000            db      %00000000, %00000000, %00000000, %00000000
  A055  00800800            db      %00000000, %10000000, %00001000, %00000000
  A059  02020200            db      %00000010, %00000010, %00000010, %00000000
  A05D  08020080            db      %00001000, %00000010, %00000000, %10000000
  A061  20020020            db      %00100000, %00000010, %00000000, %00100000
  A065  00020000            db      %00000000, %00000010, %00000000, %00000000
  A069  00020000            db      %00000000, %00000010, %00000000, %00000000
                    
  A06D  8E9674808A  hhfx5   db      $8e,$96,$74,$80,$8a,$d5,$56,$80
  A075  8EF557808A          db      $8e,$f5,$57,$80,$8a,$b5,$55,$80
  A07D  EA96748000          db      $ea,$96,$74,$80,$00,$00,$00,$00
  A085  1CAF70001A          db      $1c,$af,$70,$00,$1a,$ac,$68,$00
  A08D  1AEF68001A          db      $1a,$ef,$68,$00,$1a,$4c,$70,$00
  A095  1C4F6800            db      $1c,$4f,$68,$00
                  ATARI CAMAC Assembler Ver  1.0A  Page 148
  Donkey Kong  Thur Feb 24, 1983                       D1:KONG.FNT        
  Kong fonts                                        

  A099              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    ;;                                                              ;;
                    ;;                          Kong Fonts                          ;;
                    ;;                                                              ;;
                    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                    
                    ;
                    ; kong head zero -- vanilla kong
                    ;
  A099              khead0
  A099  040E                db      4,14
  A09B  00555000            db      %00000000, %01010101, %01010000, %00000000
  A09F  01555400            db      %00000001, %01010101, %01010100, %00000000
  A0A3  0175D400            db      %00000001, %01110101, %11010100, %00000000
  A0A7  05F5F500            db      %00000101, %11110101, %11110101, %00000000
  A0AB  17CF3D40            db      %00010111, %11001111, %00111101, %01000000
  A0AF  35FFF5C0            db      %00110101, %11111111, %11110101, %11000000
  A0B3  33F0FDC0            db      %00110011, %11110000, %11111101, %11000000
  A0B7  17FFFC40            db      %00010111, %11111111, %11111100, %01000000
  A0BB  1FD57F40            db      %00011111, %11010101, %01111111, %01000000
  A0BF  1F7FDF40            db      %00011111, %01111111, %11011111, %01000000
  A0C3  17FFFD40            db      %00010111, %11111111, %11111101, %01000000
  A0C7  15FFF540            db      %00010101, %11111111, %11110101, %01000000
  A0CB  15555540            db      %00010101, %01010101, %01010101, %01000000
  A0CF  15F5F540            db      %00010101, %11110101, %11110101, %01000000
                    
                    ;
                    ; kong head one -- grinning
                    ;
  A0D3  040E        khead1  db      4,14
  A0D5  00555000            db      %00000000, %01010101, %01010000, %00000000
  A0D9  01555400            db      %00000001, %01010101, %01010100, %00000000
  A0DD  0175D400            db      %00000001, %01110101, %11010100, %00000000
  A0E1  05F5F500            db      %00000101, %11110101, %11110101, %00000000
  A0E5  07CF3D40            db      %00000111, %11001111, %00111101, %01000000
  A0E9  35FFF5C0            db      %00110101, %11111111, %11110101, %11000000
  A0ED  37F0FCC0            db      %00110111, %11110000, %11111100, %11000000
  A0F1  13FFFD40            db      %00010011, %11111111, %11111101, %01000000
  A0F5  1E333F40            db      %00011110, %00110011, %00111111, %01000000
  A0F9  1F000F40            db      %00011111, %00000000, %00001111, %01000000
  A0FD  15CCDD40            db      %00010101, %11001100, %11011101, %01000000
  A101  17FFF540            db      %00010111, %11111111, %11110101, %01000000
  A105  15555540            db      %00010101, %01010101, %01010101, %01000000
  A109  15F5F540            db      %00010101, %11110101, %11110101, %01000000
                    
                    ;
                    ; left arm down
                    ;
  A10D              klarmd
  A10D  030D                db      3,13
  A10F  004000              db      %00000000, %01000000, %00000000
  A112  014000              db      %00000001, %01000000, %00000000
  A115  014000              db      %00000001, %01000000, %00000000
  A118  054000              db      %00000101, %01000000, %00000000
  A11B  054000              db      %00000101, %01000000, %00000000
  A11E  054000              db      %00000101, %01000000, %00000000
  A121  154000              db      %00010101, %01000000, %00000000
                  ATARI CAMAC Assembler Ver  1.0A  Page 149
  Donkey Kong  Thur Feb 24, 1983                       D1:KONG.FNT        
  Kong fonts                                        

  A124  1557FC              db      %00010101, %01010111, %11111100
  A127  15557C              db      %00010101, %01010101, %01111100
  A12A  155FDC              db      %00010101, %01011111, %11011100
  A12D  0557DC              db      %00000101, %01010111, %11011100
  A130  055DDC              db      %00000101, %01011101, %11011100
  A133  01557C              db      %00000001, %01010101, %01111100
                    
                    ;
                    ; left arm up
                    ;
  A136              klarmu
  A136  0311                db      3,17
  A138  0F0000              db      %00001111, %00000000, %00000000
  A13B  354000              db      %00110101, %01000000, %00000000
  A13E  154000              db      %00010101, %01000000, %00000000
  A141  154000              db      %00010101, %01000000, %00000000
  A144  554000              db      %01010101, %01000000, %00000000
  A147  554000              db      %01010101, %01000000, %00000000
  A14A  554000              db      %01010101, %01000000, %00000000
  A14D  554000              db      %01010101, %01000000, %00000000
  A150  554000              db      %01010101, %01000000, %00000000
  A153  5D4000              db      %01011101, %01000000, %00000000
  A156  174000              db      %00010111, %01000000, %00000000
  A159  05D7FC              db      %00000101, %11010111, %11111100
  A15C  0555FC              db      %00000101, %01010101, %11111100
  A15F  0157FC              db      %00000001, %01010111, %11111100
  A162  0055FC              db      %00000000, %01010101, %11111100
  A165  0015DC              db      %00000000, %00010101, %11011100
  A168  00157C              db      %00000000, %00010101, %01111100
                    
                    ;
                    ; right arm down
                    ;
  A16B              krarmd
  A16B  030D                db      3,13
  A16D  000000              db      %00000000, %00000000, %00000000
  A170  000010              db      %00000000, %00000000, %00010000
  A173  000010              db      %00000000, %00000000, %00010000
  A176  000014              db      %00000000, %00000000, %00010100
  A179  000014              db      %00000000, %00000000, %00010100
  A17C  000015              db      %00000000, %00000000, %00010101
  A17F  000015              db      %00000000, %00000000, %00010101
  A182  03F555              db      %00000011, %11110101, %01010101
  A185  035555              db      %00000011, %01010101, %01010101
  A188  01FD55              db      %00000001, %11111101, %01010101
  A18B  01D554              db      %00000001, %11010101, %01010100
  A18E  01F554              db      %00000001, %11110101, %01010100
  A191  035550              db      %00000011, %01010101, %01010000
                    
                    ;
                    ; right arm up
                    ;
  A194              krarmu
  A194  0411                db      4,17
  A196  00003C00            db      %00000000, %00000000, %00111100, %00000000
  A19A  00001700            db      %00000000, %00000000, %00010111, %00000000
  A19E  00001500            db      %00000000, %00000000, %00010101, %00000000
                  ATARI CAMAC Assembler Ver  1.0A  Page 150
  Donkey Kong  Thur Feb 24, 1983                       D1:KONG.FNT        
  Kong fonts                                        

  A1A2  00001500            db      %00000000, %00000000, %00010101, %00000000
  A1A6  00001540            db      %00000000, %00000000, %00010101, %01000000
  A1AA  00001540            db      %00000000, %00000000, %00010101, %01000000
  A1AE  00001540            db      %00000000, %00000000, %00010101, %01000000
  A1B2  00001540            db      %00000000, %00000000, %00010101, %01000000
  A1B6  00001540            db      %00000000, %00000000, %00010101, %01000000
  A1BA  00001D40            db      %00000000, %00000000, %00011101, %01000000
  A1BE  00003500            db      %00000000, %00000000, %00110101, %00000000
  A1C2  03F5D400            db      %00000011, %11110101, %11010100, %00000000
  A1C6  03D55400            db      %00000011, %11010101, %01010100, %00000000
  A1CA  03F55000            db      %00000011, %11110101, %01010000, %00000000
  A1CE  03D54000            db      %00000011, %11010101, %01000000, %00000000
  A1D2  01D50000            db      %00000001, %11010101, %00000000, %00000000
  A1D6  03550000            db      %00000011, %01010101, %00000000, %00000000
                    
                    ;
                    ; feet zero
                    ;
  A1DA              kfeet0
  A1DA  060C                db      6,12
  A1DC  007F5F              db      %00000000, %01111111, %01011111
  A1DF  5F4000              db      %01011111, %01000000, %00000000
  A1E2  01557F              db      %00000001, %01010101, %01111111
  A1E5  D55000              db      %11010101, %01010000, %00000000
  A1E8  0555FF              db      %00000101, %01010101, %11111111
  A1EB  F55400              db      %11110101, %01010100, %00000000
  A1EE  1557FF              db      %00010101, %01010111, %11111111
  A1F1  FD5500              db      %11111101, %01010101, %00000000
  A1F4  1557FF              db      %00010101, %01010111, %11111111
  A1F7  FD5500              db      %11111101, %01010101, %00000000
  A1FA  1555FF              db      %00010101, %01010101, %11111111
  A1FD  F55500              db      %11110101, %01010101, %00000000
  A200  15557F              db      %00010101, %01010101, %01111111
  A203  D55500              db      %11010101, %01010101, %00000000
  A206  055540              db      %00000101, %01010101, %01000000
  A209  555500              db      %01010101, %01010101, %00000000
  A20C  055500              db      %00000101, %01010101, %00000000
  A20F  055400              db      %00000101, %01010100, %00000000
  A212  015400              db      %00000001, %01010100, %00000000
  A215  075C00              db      %00000111, %01011100, %00000000
  A218  3F7C00              db      %00111111, %01111100, %00000000
  A21B  0F7F00              db      %00001111, %01111111, %00000000
  A21E  FFF400              db      %11111111, %11110100, %00000000
  A221  07FFC0              db      %00000111, %11111111, %11000000
                    
                    ;
                    ; feet one
                    ;
  A224              kfeet1
  A224  060C                db      6,12
  A226  005D7D              db      %00000000, %01011101, %01111101
  A229  7F4000              db      %01111111, %01000000, %00000000
  A22C  0155FF              db      %00000001, %01010101, %11111111
  A22F  555000              db      %01010101, %01010000, %00000000
  A232  0557FF              db      %00000101, %01010111, %11111111
  A235  F55400              db      %11110101, %01010100, %00000000
  A238  155FFF              db      %00010101, %01011111, %11111111
                  ATARI CAMAC Assembler Ver  1.0A  Page 151
  Donkey Kong  Thur Feb 24, 1983                       D1:KONG.FNT        
  Kong fonts                                        

  A23B  F55500              db      %11110101, %01010101, %00000000
  A23E  155FFF              db      %00010101, %01011111, %11111111
  A241  D55500              db      %11010101, %01010101, %00000000
  A244  1557FC              db      %00010101, %01010111, %11111100
  A247  555500              db      %01010101, %01010101, %00000000
  A24A  155540              db      %00010101, %01010101, %01000000
  A24D  155400              db      %00010101, %01010100, %00000000
  A250  155500              db      %00010101, %01010101, %00000000
  A253  055000              db      %00000101, %01010000, %00000000
  A256  055400              db      %00000101, %01010100, %00000000
  A259  0F7F00              db      %00001111, %01111111, %00000000
  A25C  0D7400              db      %00001101, %01110100, %00000000
  A25F  07FFC0              db      %00000111, %11111111, %11000000
  A262  3F7C00              db      %00111111, %01111100, %00000000
  A265  000000              db      %00000000, %00000000, %00000000
  A268  FFF400              db      %11111111, %11110100, %00000000
  A26B  000000              db      %00000000, %00000000, %00000000
                    
                    ;
                    ; feet two
                    ;
  A26E              kfeet2
  A26E  060C                db      6,12
  A270  007F5F              db      %00000000, %01111111, %01011111
  A273  5D4000              db      %01011101, %01000000, %00000000
  A276  01557F              db      %00000001, %01010101, %01111111
  A279  D55000              db      %11010101, %01010000, %00000000
  A27C  0557FF              db      %00000101, %01010111, %11111111
  A27F  F55400              db      %11110101, %01010100, %00000000
  A282  1557FF              db      %00010101, %01010111, %11111111
  A285  FD5500              db      %11111101, %01010101, %00000000
  A288  1555FF              db      %00010101, %01010101, %11111111
  A28B  FD5500              db      %11111101, %01010101, %00000000
  A28E  15554F              db      %00010101, %01010101, %01001111
  A291  F55500              db      %11110101, %01010101, %00000000
  A294  055500              db      %00000101, %01010101, %00000000
  A297  555500              db      %01010101, %01010101, %00000000
  A29A  015400              db      %00000001, %01010100, %00000000
  A29D  155500              db      %00010101, %01010101, %00000000
  A2A0  3F7C00              db      %00111111, %01111100, %00000000
  A2A3  055400              db      %00000101, %01010100, %00000000
  A2A6  FFF400              db      %11111111, %11110100, %00000000
  A2A9  075C00              db      %00000111, %01011100, %00000000
  A2AC  000000              db      %00000000, %00000000, %00000000
  A2AF  0F7F00              db      %00001111, %01111111, %00000000
  A2B2  000000              db      %00000000, %00000000, %00000000
  A2B5  07FFC0              db      %00000111, %11111111, %11000000
                    
                    
                    ;
                    ; left-facing Kong
                    ; actually 6 wide
                    ;
  A2B8  0620        klkong  db      6,32
  A2BA  001540              db      %00000000, %00010101, %01000000
  A2BD  000000              db      %00000000, %00000000, %00000000
  A2C0  005550              db      %00000000, %01010101, %01010000
                  ATARI CAMAC Assembler Ver  1.0A  Page 152
  Donkey Kong  Thur Feb 24, 1983                       D1:KONG.FNT        
  Kong fonts                                        

  A2C3  000000              db      %00000000, %00000000, %00000000
  A2C6  00FD50              db      %00000000, %11111101, %01010000
  A2C9  000000              db      %00000000, %00000000, %00000000
  A2CC  03F555              db      %00000011, %11110101, %01010101
  A2CF  000000              db      %00000000, %00000000, %00000000
  A2D2  03AF55              db      %00000011, %10101111, %01010101
  A2D5  500000              db      %01010000, %00000000, %00000000
  A2D8  032D55              db      %00000011, %00101101, %01010101
  A2DB  540000              db      %01010100, %00000000, %00000000
  A2DE  0FF555              db      %00001111, %11110101, %01010101
  A2E1  540000              db      %01010100, %00000000, %00000000
  A2E4  0FF555              db      %00001111, %11110101, %01010101
  A2E7  550000              db      %01010101, %00000000, %00000000
  A2EA  3FFDD5              db      %00111111, %11111101, %11010101
  A2ED  D50000              db      %11010101, %00000000, %00000000
  A2F0  3FFFD5              db      %00111111, %11111111, %11010101
  A2F3  750000              db      %01110101, %00000000, %00000000
  A2F6  157FD5              db      %00010101, %01111111, %11010101
  A2F9  754000              db      %01110101, %01000000, %00000000
  A2FC  3FDF55              db      %00111111, %11011111, %01010101
  A2FF  754000              db      %01110101, %01000000, %00000000
  A302  0FFF55              db      %00001111, %11111111, %01010101
  A305  754000              db      %01110101, %01000000, %00000000
  A308  03FD55              db      %00000011, %11111101, %01010101
  A30B  D55000              db      %11010101, %01010000, %00000000
  A30E  00F555              db      %00000000, %11110101, %01010101
  A311  D55000              db      %11010101, %01010000, %00000000
  A314  000555              db      %00000000, %00000101, %01010101
  A317  D55000              db      %11010101, %01010000, %00000000
  A31A  001555              db      %00000000, %00010101, %01010101
  A31D  D55400              db      %11010101, %01010100, %00000000
  A320  001557              db      %00000000, %00010101, %01010111
  A323  555400              db      %01010101, %01010100, %00000000
  A326  005557              db      %00000000, %01010101, %01010111
  A329  555500              db      %01010101, %01010101, %00000000
  A32C  00555D              db      %00000000, %01010101, %01011101
  A32F  555500              db      %01010101, %01010101, %00000000
  A332  01555D              db      %00000001, %01010101, %01011101
  A335  555540              db      %01010101, %01010101, %01000000
  A338  01555F              db      %00000001, %01010101, %01011111
  A33B  D55540              db      %11010101, %01010101, %01000000
  A33E  05557F              db      %00000101, %01010101, %01111111
  A341  FD5540              db      %11111101, %01010101, %01000000
  A344  05557F              db      %00000101, %01010101, %01111111
  A347  FD5540              db      %11111101, %01010101, %01000000
  A34A  05551F              db      %00000101, %01010101, %00011111
  A34D  FF5550              db      %11111111, %01010101, %01010000
  A350  155415              db      %00010101, %01010100, %00010101
  A353  FF555F              db      %11111111, %01010101, %01011111
  A356  355015              db      %00110101, %01010000, %00010101
  A359  5F5557              db      %01011111, %01010101, %01010111
  A35C  FD4015              db      %11111101, %01000000, %00010101
  A35F  40155F              db      %01000000, %00010101, %01011111
  A362  0DC015              db      %00001101, %11000000, %00010101
  A365  400157              db      %01000000, %00000001, %01010111
  A368  3FC005              db      %00111111, %11000000, %00000101
  A36B  50005F              db      %01010000, %00000000, %01011111
                  ATARI CAMAC Assembler Ver  1.0A  Page 153
  Donkey Kong  Thur Feb 24, 1983                       D1:KONG.FNT        
  Kong fonts                                        

  A36E  37001D              db      %00110111, %00000000, %00011101
  A371  DC03FF              db      %11011100, %00000011, %11111111
  A374  0000FF              db      %00000000, %00000000, %11111111
  A377  FC0F7F              db      %11111100, %00001111, %01111111
                    
                    
                    ;
                    ; right-facing kong
                    ; actually 6 wide
                    ;
  A37A  0620        krkong  db      6,32
  A37C  000000              db      %00000000, %00000000, %00000000
  A37F  015400              db      %00000001, %01010100, %00000000
  A382  000000              db      %00000000, %00000000, %00000000
  A385  055500              db      %00000101, %01010101, %00000000
  A388  000000              db      %00000000, %00000000, %00000000
  A38B  057F00              db      %00000101, %01111111, %00000000
  A38E  000000              db      %00000000, %00000000, %00000000
  A391  555FC0              db      %01010101, %01011111, %11000000
  A394  000005              db      %00000000, %00000000, %00000101
  A397  55FAC0              db      %01010101, %11111010, %11000000
  A39A  000015              db      %00000000, %00000000, %00010101
  A39D  5578C0              db      %01010101, %01111000, %11000000
  A3A0  000015              db      %00000000, %00000000, %00010101
  A3A3  555FF0              db      %01010101, %01011111, %11110000
  A3A6  000055              db      %00000000, %00000000, %01010101
  A3A9  555FF0              db      %01010101, %01011111, %11110000
  A3AC  000057              db      %00000000, %00000000, %01010111
  A3AF  577FFC              db      %01010111, %01111111, %11111100
  A3B2  00005D              db      %00000000, %00000000, %01011101
  A3B5  57FFFC              db      %01010111, %11111111, %11111100
  A3B8  00015D              db      %00000000, %00000001, %01011101
  A3BB  57FD54              db      %01010111, %11111101, %01010100
  A3BE  00015D              db      %00000000, %00000001, %01011101
  A3C1  55F7FC              db      %01010101, %11110111, %11111100
  A3C4  00015D              db      %00000000, %00000001, %01011101
  A3C7  55FFF0              db      %01010101, %11111111, %11110000
  A3CA  000557              db      %00000000, %00000101, %01010111
  A3CD  557FC0              db      %01010101, %01111111, %11000000
  A3D0  000557              db      %00000000, %00000101, %01010111
  A3D3  555F00              db      %01010101, %01011111, %00000000
  A3D6  000557              db      %00000000, %00000101, %01010111
  A3D9  555000              db      %01010101, %01010000, %00000000
  A3DC  001557              db      %00000000, %00010101, %01010111
  A3DF  555400              db      %01010101, %01010100, %00000000
  A3E2  001555              db      %00000000, %00010101, %01010101
  A3E5  D55400              db      %11010101, %01010100, %00000000
  A3E8  005555              db      %00000000, %01010101, %01010101
  A3EB  D55500              db      %11010101, %01010101, %00000000
  A3EE  005555              db      %00000000, %01010101, %01010101
  A3F1  755500              db      %01110101, %01010101, %00000000
  A3F4  015555              db      %00000001, %01010101, %01010101
  A3F7  755540              db      %01110101, %01010101, %01000000
  A3FA  015557              db      %00000001, %01010101, %01010111
  A3FD  F55540              db      %11110101, %01010101, %01000000
  A400  01557F              db      %00000001, %01010101, %01111111
  A403  FD5550              db      %11111101, %01010101, %01010000
                  ATARI CAMAC Assembler Ver  1.0A  Page 154
  Donkey Kong  Thur Feb 24, 1983                       D1:KONG.FNT        
  Kong fonts                                        

  A406  01557F              db      %00000001, %01010101, %01111111
  A409  FD5550              db      %11111101, %01010101, %01010000
  A40C  0555FF              db      %00000101, %01010101, %11111111
  A40F  F45550              db      %11110100, %01010101, %01010000
  A412  F555FF              db      %11110101, %01010101, %11111111
  A415  541554              db      %01010100, %00010101, %01010100
  A418  D555F5              db      %11010101, %01010101, %11110101
  A41B  54055C              db      %01010100, %00000101, %01011100
  A41E  F55401              db      %11110101, %01010100, %00000001
  A421  54017F              db      %01010100, %00000001, %01111111
  A424  D54001              db      %11010101, %01000000, %00000001
  A427  540370              db      %01010100, %00000011, %01110000
  A42A  F50005              db      %11110101, %00000000, %00000101
  A42D  5003FC              db      %01010000, %00000011, %11111100
  A430  FFC037              db      %11111111, %11000000, %00110111
  A433  7400DC              db      %01110100, %00000000, %11011100
  A436  FDF03F              db      %11111101, %11110000, %00111111
  A439  FF00F0              db      %11111111, %00000000, %11110000
                  ATARI CAMAC Assembler Ver  1.0A  Page 155
  Donkey Kong  Thur Feb 24, 1983                       D1:LADY.FNT        
  Lady Fonts                                        

  A43C              ;
                    ; Lady dancing #0
                    ;
  A43C              nell0
  A43C  041D                db      4,29
  A43E  00554000            db      %00000000, %01010101, %01000000, %00000000
  A442  01555000            db      %00000001, %01010101, %01010000, %00000000
  A446  055FC000            db      %00000101, %01011111, %11000000, %00000000
  A44A  05FDF000            db      %00000101, %11111101, %11110000, %00000000
  A44E  057FF000            db      %00000101, %01111111, %11110000, %00000000
  A452  515FC000            db      %01010001, %01011111, %11000000, %00000000
  A456  545F0000            db      %01010100, %01011111, %00000000, %00000000
  A45A  056F8000            db      %00000101, %01101111, %10000000, %00000000
  A45E  15BB8000            db      %00010101, %10111011, %10000000, %00000000
  A462  55AE8000            db      %01010101, %10101110, %10000000, %00000000
  A466  52AA8000            db      %01010010, %10101010, %10000000, %00000000
  A46A  02AAA000            db      %00000010, %10101010, %10100000, %00000000
  A46E  0AAAAC00            db      %00001010, %10101010, %10101100, %00000000
  A472  0AAA2C00            db      %00001010, %10101010, %00101100, %00000000
  A476  2A3F0000            db      %00101010, %00111111, %00000000, %00000000
  A47A  E8AA8000            db      %11101000, %10101010, %10000000, %00000000
  A47E  E0AA8000            db      %11100000, %10101010, %10000000, %00000000
  A482  02AAA000            db      %00000010, %10101010, %10100000, %00000000
  A486  02AAA800            db      %00000010, %10101010, %10101000, %00000000
  A48A  2EAAEE80            db      %00101110, %10101010, %11101110, %10000000
  A48E  3BBBBAC0            db      %00111011, %10111011, %10111010, %11000000
  A492  AEEEEB00            db      %10101110, %11101110, %11101011, %00000000
  A496  EAAAFC00            db      %11101010, %10101010, %11111100, %00000000
  A49A  FEABF000            db      %11111110, %10101011, %11110000, %00000000
  A49E  0FBFAA00            db      %00001111, %10111111, %10101010, %00000000
  A4A2  0A00AA00            db      %00001010, %00000000, %10101010, %00000000
  A4A6  0A00A000            db      %00001010, %00000000, %10100000, %00000000
  A4AA  02800000            db      %00000010, %10000000, %00000000, %00000000
  A4AE  02800000            db      %00000010, %10000000, %00000000, %00000000
                    
                    
                    ;
                    ; Lady dancing #1
                    ;
  A4B2              nell1
  A4B2  041D                db      4,29
  A4B4  00015500            db      %00000000, %00000001, %01010101, %00000000
  A4B8  00055540            db      %00000000, %00000101, %01010101, %01000000
  A4BC  00157F00            db      %00000000, %00010101, %01111111, %00000000
  A4C0  0017F7C0            db      %00000000, %00010111, %11110111, %11000000
  A4C4  0015FFC0            db      %00000000, %00010101, %11111111, %11000000
  A4C8  01457F00            db      %00000001, %01000101, %01111111, %00000000
  A4CC  01517C00            db      %00000001, %01010001, %01111100, %00000000
  A4D0  0015BC00            db      %00000000, %00010101, %10111100, %00000000
  A4D4  0056EE00            db      %00000000, %01010110, %11101110, %00000000
  A4D8  0156BA00            db      %00000001, %01010110, %10111010, %00000000
  A4DC  014AAA30            db      %00000001, %01001010, %10101010, %00110000
  A4E0  000A8AB0            db      %00000000, %00001010, %10001010, %10110000
  A4E4  000A8A80            db      %00000000, %00001010, %10001010, %10000000
  A4E8  0002A030            db      %00000000, %00000010, %10100000, %00110000
  A4EC  0000AAB0            db      %00000000, %00000000, %10101010, %10110000
  A4F0  000A2A80            db      %00000000, %00001010, %00101010, %10000000
                  ATARI CAMAC Assembler Ver  1.0A  Page 156
  Donkey Kong  Thur Feb 24, 1983                       D1:LADY.FNT        
  Lady Fonts                                        

  A4F4  00AA8200            db      %00000000, %10101010, %10000010, %00000000
  A4F8  06AAAA00            db      %00000110, %10101010, %10101010, %00000000
  A4FC  0BAAAA00            db      %00001011, %10101010, %10101010, %00000000
  A500  3AEAAA00            db      %00111010, %11101010, %10101010, %00000000
  A504  3EBAAB00            db      %00111110, %10111010, %10101011, %00000000
  A508  03EEEE00            db      %00000011, %11101110, %11101110, %00000000
  A50C  0BEBBB00            db      %00001011, %11101011, %10111011, %00000000
  A510  0C3AAA00            db      %00001100, %00111010, %10101010, %00000000
  A514  0A3FAB00            db      %00001010, %00111111, %10101011, %00000000
  A518  0280FC00            db      %00000010, %10000000, %11111100, %00000000
  A51C  02802800            db      %00000010, %10000000, %00101000, %00000000
  A520  00002800            db      %00000000, %00000000, %00101000, %00000000
  A524  00000A00            db      %00000000, %00000000, %00001010, %00000000
                    
                    ;
                    ; Lady greeting Mario
                    ;
  A528              nell2
  A528  041D                db      4,29
  A52A  00015500            db      %00000000, %00000001, %01010101, %00000000
  A52E  00055540            db      %00000000, %00000101, %01010101, %01000000
  A532  00157F00            db      %00000000, %00010101, %01111111, %00000000
  A536  0017F7C0            db      %00000000, %00010111, %11110111, %11000000
  A53A  0015FFC0            db      %00000000, %00010101, %11111111, %11000000
  A53E  1405FC00            db      %00010100, %00000101, %11111100, %00000000
  A542  1517FF00            db      %00010101, %00010111, %11111111, %00000000
  A546  0157C000            db      %00000001, %01010111, %11000000, %00000000
  A54A  055FC000            db      %00000101, %01011111, %11000000, %00000000
  A54E  053BB000            db      %00000101, %00111011, %10110000, %00000000
  A552  04AEE800            db      %00000100, %10101110, %11101000, %00000000
  A556  02AAAA00            db      %00000010, %10101010, %10101010, %00000000
  A55A  02AAAA80            db      %00000010, %10101010, %10101010, %10000000
  A55E  0A8FF2AC            db      %00001010, %10001111, %11110010, %10101100
  A562  2A2AA0AC            db      %00101010, %00101010, %10100000, %10101100
  A566  E8AAA000            db      %11101000, %10101010, %10100000, %00000000
  A56A  E0AAA000            db      %11100000, %10101010, %10100000, %00000000
  A56E  02AAA800            db      %00000010, %10101010, %10101000, %00000000
  A572  02AAA800            db      %00000010, %10101010, %10101000, %00000000
  A576  0BAAA800            db      %00001011, %10101010, %10101000, %00000000
  A57A  0EEAAE00            db      %00001110, %11101010, %10101110, %00000000
  A57E  FBBBBBB0            db      %11111011, %10111011, %10111011, %10110000
  A582  FAEEEEBC            db      %11111010, %11101110, %11101110, %10111100
  A586  3EAAAAF0            db      %00111110, %10101010, %10101010, %11110000
  A58A  0FAAABC0            db      %00001111, %10101010, %10101011, %11000000
  A58E  00FBEF00            db      %00000000, %11111011, %11101111, %00000000
  A592  0028A000            db      %00000000, %00101000, %10100000, %00000000
  A596  00A8A800            db      %00000000, %10101000, %10101000, %00000000
  A59A  00A02800            db      %00000000, %10100000, %00101000, %00000000
                    ;
                    ; Wind up the assembly with some important stuff:
                    ;
                            eproc                   ; terminate last LOCAL env
                            assert  * < $c000       ; did we overflow cart space?
  A59E                      end     main


  38 ERRORs, 1169 Labels, $3F7F free.
                  ATARI CAMAC Assembler Ver  1.0A  Page 157
  Donkey Kong  Thur Feb 24, 1983                       D1:END.            
  Lady Fonts                                        

 Last error occurred on Page 101




     ?0068  8B9D    
     ?0069  8BB0    
     ?006A  8BC8    
     ?00B9  935D    
     ?00BD  938A    
     ?00BE  9394    
     ?00BF  939A    
     ?00C0  93B2    
     ?00C1  93CA    
     ?00C2  93D4    
     ?00C4  93E8    
     ?00C5  93EE    
     ABORTP 94A9     50/54  119#34  121/19  
     ADDRH  1100      7#39   49/ 6   49/32   76/41   78/44   83/37   84/17   85/56  108/16  108/22  110/20  110/26  111/29  
     ADDRL  1000      7#38   48/61   49/30   76/43   78/46   83/33   84/15   85/52  108/18  108/24  110/22  110/28  111/31  
     ALIVEP 009F      8#46   56/17  
     ANIMON 009B      8#42   63/ 9  
   n ANIVEC 009C      8#43  
     ATKC2  9636    123#14  131/51  132/12  
     ATKF2  9A12    127#33  131/15  131/33  
   n ATKFG  0F9C     14#57  
   n ATKLEN 00B6    127#32  
  s  ATRACT 004D     62/42   62/45   62/48   65/ 5  
  s  AUDCTL D208     47/29  
  s  AUDF1  D200     68/36  121/51  
     BACNT  0E41     11#11   57/32   58/ 9   58/22   59/47  
   n BADIFF 83CE     37# 9  
   U BBEAMP 8761     57/40   57/41   57/42   57/43   57/44   58/13  
   U BBFALL 8761     57/40   57/41   57/42   57/43   57/44   57/60   58/57   59/33  
   U BBHORZ 8762     57/41   57/42   57/43   57/44   57/55   57/59  
   U BBMAG  8763     57/42   57/43   57/44   57/58  
   U BBMEAN 8764     57/43   57/44   57/58  
   n BCDIGI 8064     24#32  
   n BCDLY  0078     17#10  
   n BCFRAC 00A4      8#52  
   n BCLOCK 0E34     10#58  
     BGE    mac       2#39   57/28   57/52   77/36   99/26   99/36  
   n BHEART 9CFB    135#45  
     BLANK  9C0B     23/ 9   23/11   23/11   23/11   23/13   23/15   23/15   23/15   23/21   23/23   23/23   23/23   23/25  
                     23/27   23/27   23/27   55/54   55/55  133#13  
     BLT    mac       2#33   49/18   77/44   80/26   80/55   82/48   83/53   94/42   94/48   99/39   99/51  116/46  117/56  
   n BNEXT  9133    104#32  
     BPULLE 9DC7    101/60  102/ 5  137#27  
     BROKLA 0005     17# 7   92/ 6   92/17  
     BTIMER 0E54     11#44  102/19  
   n BTOP   913A    104#37  
     BWIDE  0028     18#15   49/ 9   49/12   77/34   80/52   80/60   83/51   83/55  104/41  
     CARTVB 927B     65/ 7  109# 8  
     CBITS  0E9C     13#10   59/45  101/48  
   n CCBITS 00AC      9# 8  
   n CCNT   0EBC     13#12  
   n CCRIT  00AE      9#10  
                  ATARI CAMAC Assembler Ver  1.0A  Page 158
                                                       D1:END.            
                                                    

   n CCSTAT 00AD      9# 9  
     CDBA   0E3B     11# 5   57/19   57/24   64/44   64/46  
     CDBSN  0E3E     11# 8   64/56   64/58  
     CDELAY 0005     17#24  102/20  
     CDFTH  0E3C     11# 6   64/48   64/50  
     CDIFF  0E0A     10#27   57/22  
     CDIR   0E65     12#16  102/24  
     CDSPR  0E3D     11# 7   64/52   64/54  
     CGIRFA 9379    107/ 9  107/11  112#10  
     CH1OFF 0000     69/47   70/11  128#11  
     CH2OFF 0002     69/53   70/18   73/24  128#12  
     CH3OFF 0004     72/42  128#13  
     CH4OFF 0006     72/48  128#14  
   n CHNDLH 8012     22#39  
   n CHNDLL 800B     22#37  
     CHNUM  9BFB     70/46  132#22  
     CLAD1  181A     16#35   95/10   95/11  
     CLAD4  1818     16#34   94/54   94/56  
     CLADR1 181C     16#36   95/15   95/16  
     CLDISP 94DD     48/36   97/43  120#31  
     CLDRAW 8AE2     76#11   88/12  
     CLDRW1 8AD8     75#28   89/10  
     CLEAR  8B65     76/11   78#15  104/55  106/29  107/15  
     CLEV   0EEC     13#15   59/40  101/41  
   n CLEVEL 0E0B     10#28  
     CLOCK  0E4F     11#30   56/53   64/34  
   n CMBLUE 0080     20#19  
   n CMODE  0EAC     13#11  
     CNH    9BDB     70/43  131#43  
     CNL    9BEB     70/41  131#61  
     CNT    00CD      9#45   70/42   70/44   70/50   74/23  
     CNT1S  0FA6     15#15   68/15   69/18   70/51   73/34   74/42  
     CNT2S  0FA8     15#17   68/16   69/19  
     CNT3S  0FAA     15#19   68/17   72/17  
     CNT4S  0FAC     15#21   68/18  
     CODBAS 8000      7#20   21/ 5  
   n COLDM  0F6C     13#23  
   n COLDX  0F4C     13#21  
   n COLDY  0F5C     13#22  
     COLORS 8409     42#22   48/39  
  s  COLPM0 D012     61/31   63/22  
  s  COLRSH 004F     61/27   62/52   63/20  
  s  CONSOL D01F    119/30  119/31  
     CONSW  94A9    106/53  119#29  119/34  119/44  119/48  
   U CREATE 882F     59/48  101/49  
   n CSCORE 0E0F     10#32  
     CSEG   0EFC     13#16   59/37  101/39  
     CSPEED 0060     17#22   17/23  102/23  
   n CSTAT  0E7C     13# 8  
   n CTALIV 0001     19#55  
   n CTDIE  0080     19#50  
   n CTDISS 0008     19#52  
     CTIMER 0E64     12#15  102/21  
   n CTJUMP 0040     19#51  
   n CTUNDR 0004     19#54  
     CTYP   0ECC     13#13   59/43  101/44  
   n CUPD   0EDC     13#14  
                  ATARI CAMAC Assembler Ver  1.0A  Page 159
                                                       D1:END.            
                                                    

   n CURLVL 0E0D     10#30  
     CURSCR 0E53     11#43   56/46   90/21   90/25   90/39  
   n CUSR   0E09     10#26  
   n CXH    0F1C     13#18  
   n CXL    0F0C     13#17  
   n CYH    0F3C     13#20  
   n CYL    0F2C     13#19  
   n DADD   mac       3# 9  
     DADI   mac       3#21   49/ 8  
     DBASE  1200      7#40   25/ 6   90/49   90/55   97/17   97/23   97/26   97/28   97/31   97/32   97/35   97/37   97/40  
                     97/42  
   U DBUG   8545     47/17   48/24  
     DCONSW 94B4     52/18  119#43  
   n DDEC   mac       2#55  
     DDRWLD 8EBF     92/59   94#12  
     DEBUG  FFFF      1#15   21/ 6   48/16   90/51   98/ 9  
     DEST   00B5      9#21   76/42   76/44   77/14   77/16   77/50   77/52   78/45   78/47   78/58   79/10   79/27   79/38  
                     79/47  108/23  108/25  108/29  110/27  110/29  110/33  111/21  111/23  111/41  111/44  111/46  116/37  
                    116/39  117/ 9  117/14  117/40  117/58  118/ 8  118/10  118/11  118/13  
     DGIRD  8F29     91/13   95#37  105/ 7  
   n DIFF   0E00     10#15  
     DINC   mac       2#46   79/ 5   79/22   79/42  111/44  113/50  113/57  114/ 5  114/27  114/48  114/55  115/14  115/19  
  s  DLBL7  0060     24/61  
  s  DLBL8  0070     24/61   24/61  
     DLDI   mac       1#34   47/56   48/30   48/55   90/32   92/41   97/25   97/34   97/39  100/53  101/21  103/29  104/47  
                    106/13  106/23  107/ 9  107/21  111/20  111/57  120/33  
     DLI0   8843     28/15   61#19  
     DLI1   8860     30/15   61#39  
     DLI2   8860     34/16   61#40  
     DLI3   8860     32/16   61#41  
     DLICNT 00A9      8#60   61/21   61/29   61/45   61/48   62/22  
     DLILNS 8080     26#12   26/13   26/13   26/13   26/13   90/45   90/46  
     DLIST  8077     24#61   97/25   97/27   98/ 6   98/ 7  
  s  DLISTL D402     63/31   63/33  
  s  DLJMP  0001     25/ 5  
  s  DLJVB  0041     25/12   97/22  
  s  DLLDM  0040     97/30  
     DLOFF  8FAC     90/23   97/14   97#53  
     DLON   8FB4     93/31   98# 6  
     DLVEC  180A     16#21   90/41   90/43  
  s  DMACTL D400     63/36  
     DMV    mac       2#16   63/30   90/41   94/54  115/ 7  
     DOSOUN 897E     68/26   68#47  
     DRAW   8AE8     55/51   76#26   92/47   92/50   94/60   95/21   96/18  100/60  101/ 7  103/35  106/19  107/41  
     DRAW1  8AED     75/32   76/12   76#30  
  s  DRKMSK 004E     61/28   62/51   63/21  
     DRWLAD 8ED0     92/23   94/15   94#33  
     DSETU1 8C14     81#15   89/ 9  
     DSETUP 8BD4     76/27   78/16   80#11  
   n DSUB   mac       3#34  
   n DSUBI  mac       3#46  
   n ELGIRD 9D2A    136#13  
   n ENABLE 8073     24#50  
   n ENDRLE 0023     11#38  
     ENLADY 0080     18#30   24/50   24/52   24/53  
     ENLKON 0010     18#33   24/51   24/53  
     ENSKON 0020     18#32   24/52  
                  ATARI CAMAC Assembler Ver  1.0A  Page 160
                                                       D1:END.            
                                                    

     ENTKON 0040     18#31   24/50  
     EOL    00FF     20#36   87/47  102/ 6  
     EOR2W  8CC8     84/29   85# 9  
     EOR3W  8D16     84/31   86# 5  
   n EOR4W  8CC7     85# 7  
     EVBH   8949     64/33   65# 9  
     FALC3  0FB2     15#31   72/16   72/22  
   n FALCV  00A3    122#14  
     FALF3  0FB1     15#30   72/14   72/24   72/26  
     FALFG  0F99     14#54   72/29  
   n FALFV  0016    122#13  
     FALL   8A20     72#12  130/51  
   n FALPHA 9E73    141#45  
     FALSE  0000      1#12    1/13    1/16    5/ 8    6/19   22/25  
   n FBCNT  83E2     38#10  
   n FBDIFF 83EC     38#38  
   U FBFFOX 90A9    101/47  
   U FBFSEG 90A4    101/45  
   n FBLEV  83E7     38#22  
     FEETM  0003     53#34   55/15  
     FGIRD1 9C0D     23/ 9   23/13  133#19  
     FGIRD2 9C1B     23/21   23/25  133#24  
     FGIRD3 9C29     23/ 9   23/13   23/21   23/25  107/21  107/23  133#29  
     FGIRD4 9C37     23/11   23/15   23/23   23/27  133#37  
     FH     9BBB     70/39  131# 7  
   n FINRAC 1821     16#44  
     FKONG  8652     53#42   92/61  103/47  109/40  
     FL     9BCB     70/37  131#25  
     FNBAR  0000     43#12   98/52  
   U FNBAR0 8412     43/44  
   U FNBAR1 841A     43/45  
   U FNBAR2 8422     43/46  
   U FNBAR3 842A     43/47  
     FNFBR  0004     43#13   98/54  
   U FNFBR0 8432     43/50  
   U FNFBR1 843A     43/51  
   U FNFBR2 8442     43/52  
   U FNFBR3 844A     43/53  
     FNFIB  0008     43#14   98/56  101/14  
   U FNFIB0 8452     43/56  
   U FNFIB1 845A     43/57  
   U FNFIB2 8462     43/58  
   U FNFIB3 846A     43/59  
   n FNFIF  000C     43#15  
   U FNFIF0 8472     44/ 5  
   U FNFIF1 847A     44/ 6  
   U FNFIF2 8482     44/ 7  
   U FNFIF3 848A     44/ 8  
     FNSAN  0010     43#16  102/25  
     FNSAN0 9E17     44/11  140# 8  
     FNSAN1 9E17     44/12  140# 9  
     FNSAN2 9E17     44/13  140#10  
     FNSAN3 9E17     44/14  140#11  
     FNSPR  0014     43#17  101/12  
     FNSPR0 9F79     44/17  144#11  
     FNSPR1 9F9B     44/18  144#32  
     FNSPR2 9FB5     44/19  144#49  
                  ATARI CAMAC Assembler Ver  1.0A  Page 161
                                                       D1:END.            
                                                    

     FNSPR3 9FC7     44/20  145# 5  
     FNTBL  8412     43#41  116/24  116/26  116/36  116/38  
     FNUM0  9E31     88/55   88/60  141#19  
     FRQ    00CB      9#44   70/38   70/40   70/48   74/13   74/21  
     FRQ1S  0FA5     15#14   68/35   69/28   70/49   73/32   74/40  
     FRQ2S  0FA7     15#16   69/37  
     FRQ3S  0FA9     15#18   72/15  
   n FRQ4S  0FAB     15#20  
   n FSCFNH 9F25    143#12  
   n FSCFNL 9F21    143#11  
   n FSCORE 0E4B     11#26  
   n FSCORT 0E4E     11#29  
   n FSCORX 0E4C     11#27  
   n FSCORY 0E4D     11#28  
     FSHBF0 08BC     43#34   43/50   43/50   43/50   43/51   43/51   43/51   43/52   43/52   43/52   43/53   43/53   43/53  
     FSHBFS 002E     43#24   43/50   43/50   43/50   43/51   43/51   43/51   43/52   43/52   43/52   43/53   43/53   43/53  
     FSHBR0 0718     43#33   43/34   43/35   43/36   43/44   43/44   43/44   43/45   43/45   43/45   43/46   43/46   43/46  
                     43/47   43/47   43/47  
     FSHBRS 0023     43#23   43/34   43/44   43/44   43/44   43/45   43/45   43/45   43/46   43/46   43/46   43/47   43/47  
                     43/47  
     FSHFI0 0400     43#32   43/33   43/56   43/56   43/56   43/57   43/57   43/57   43/58   43/58   43/58   43/59   43/59  
                     43/59   44/ 5   44/ 5   44/ 5   44/ 6   44/ 6   44/ 6   44/ 7   44/ 7   44/ 7   44/ 8   44/ 8   44/ 8  
     FSHFIS 0042     43#25   43/33   43/56   43/56   43/56   43/57   43/57   43/57   43/58   43/58   43/58   43/59   43/59  
                     43/59   44/ 5   44/ 5   44/ 5   44/ 6   44/ 6   44/ 6   44/ 7   44/ 7   44/ 7   44/ 8   44/ 8   44/ 8  
     FSHIFT 93FA     98/53   98/55   98/57  101/13  101/15  102/26  116#12  
     FSHSA0 0718     43#35   44/11   44/11   44/11   44/12   44/12   44/12   44/13   44/13   44/13   44/14   44/14   44/14  
     FSHSAS 0042     43#26   44/11   44/11   44/11   44/12   44/12   44/12   44/13   44/13   44/13   44/14   44/14   44/14  
     FSHSP0 0718     43#36   44/17   44/17   44/17   44/18   44/18   44/18   44/19   44/19   44/19   44/20   44/20   44/20  
     FSHSPS 0032     43#27   44/17   44/17   44/17   44/18   44/18   44/18   44/19   44/19   44/19   44/20   44/20   44/20  
   U FSLOT  8805     59/28  101/37  
   n FSTATE 0E46     11#17  
     FTABPT 0E78     12#56  104/19  109/22  109/30  
   n FTIMER 0E63     12#11  
     GAMEON 009E      8#44   63/ 8  
     GARBAG E000      7#21   49/29   49/31  
     GBASE  2100      7#19   48/55   48/57   97/34   97/36   97/39   97/41  120/33  120/35  
     GFNT1H 8031     23#25   96/10  
     GFNT1L 8029     23#21   96/12  
     GFNTH  8021     23#13   95/61  
     GFNTL  8019     23# 9   96/ 6  
     GIRL1  8A48     72#41  130/49  
     GLOB   0E00      7#32   10/11   10/52   47/45  
     GLOBIX 0F7D     14#15   74/17   74/20  
   n GLOBLA 0002     20#12  
     GLOBLE 0032     10#52   47/44  
     GMODE  000E     18#11   97/15   97/30  
  s  GPRIOR 026F     48/11   63/38  
  s  GRACTL D01D     48/ 8  
   n GRAMP1 0001     19#39  
   n GRAVIT 0014     17#35  
     GRBLNK 0005     19#43   34/39   34/39   34/40   34/40   34/43   34/43   34/46   34/46   34/50   34/50   34/52   34/52  
   n GRCONV 0004     19#42  
   n GRELVD 0006     19#44  
   n GREMPT 0000     19#38  
     GRHEI  0006     17#39   91/54   92/15  104/44  107/29  107/52  
     GRLA3  9B9B     72/43   72/44  130#31  
     GRLA4  9BA3     72/50   72/51  130#36  
                  ATARI CAMAC Assembler Ver  1.0A  Page 162
                                                       D1:END.            
                                                    

     GRLC3  9741    123#54  130/33  
     GRLC4  9741    123#55  130/38  
     GRLD3  9B37    129#25  130/34  
     GRLD4  9B37    129#26  130/39  
     GRLF3  9B2F    129#20  130/32  
     GRLF4  9B33    129#23  130/37  
     GRLFG  0F97     14#52   72/53  
   n GRLLEN 0004    129#17  
     GRLS3  9B3B    129#28  130/35  
     GRLS4  9B3B    129#29  130/40  
     GRMASK 0007     19#37   95/51  
     GRNC3  9B1E    129# 5  131/47  132/ 8  
   n GRNCNT 0FB3     15#32  
     GRNF3  9B0D    128#58  131/11  131/29  
     GRNFG  0F98     14#53  105/26  
     GRNLEN 0011    105/25  128#57  
   n GRPULL 0007     19#45  
     GRRIVE 0002     19#40   30/49   30/50   30/54   30/59   31/ 6   31/11   31/15   31/18  
   n GRTUBE 0003     19#41  
     GRWID  0006     17#38   94/18  107/45  
     GSIZE  2000      7#29  120/38  
     HAMASK 0080     19#24   28/47   28/61   30/54   31/ 8   32/51   32/58  
     HAMC   96EC     73/33  123#39  
     HAMF   9AC8     73/31  128#20  
     HAMFG  0F9B     14#56   73/44  
     HAMIX  0F7C     14#11   73/26   73/28  
   n HAMLE2 00FF    128#17  
   n HAMLE3 00F4    128#18  
   n HAMLE4 00EF    128#19  
     HAMLEN 0045     73/29  128#16  
   n HAMLEV 1800     16#16  
     HAMMER 8A5E     73#23  130/53  
     HAMX   1802     16#17   92/45   92/48  
     HAMY   1804     16#18   92/46   92/49  
   n HCNT   0E62     12# 7  
     HEART  9CFB    106/13  106/15  135#46  
     HEI    00B2      9#18   76/31   78/31   80/20   88/49  108/ 9  108/37  110/13  110/34  110/45  111/ 7  111/50  114/53  
                    115/ 5  115/28  117/13  117/61  
   n HELP   9CB9    135#23  
   n HHFX0  9FD7    146#12  
   n HHFX1  9FF3    146#27  
   n HHFX2  A007    146#38  
   n HHFX3  A017    146#47  
   n HHFX4  A023    146#54  
   n HHFX5  A06D    147#17  
     HIGH4  mac      22#13   22/23   23/13   23/15   23/25   23/27  
  s  HITCLR D01E     93/29  
     HOWA1  9B7B     69/49   69/50  130# 7  
     HOWA2  9B83     69/55   69/56  130#12  
     HOWC1  952D    122#19  130/ 9  
     HOWC2  9539    122#22  130/14  
     HOWD1  97BB    124#41  130/10  
     HOWD2  97DF    124#50  130/15  
     HOWF1  97AF    124#37  130/ 8  
     HOWF2  97D3    124#47  130/13  
     HOWFG  0FA3     15# 7   69/59  
   n HOWLEN 000C    124#36  
                  ATARI CAMAC Assembler Ver  1.0A  Page 163
                                                       D1:END.            
                                                    

     HOWMUC 89C8     69#46  130/61  
     HOWS1  97C7    124#43  130/11  
     HOWS2  97EB    124#52  130/16  
  s  HPOSP0 D000     61/47   62/28  
   n HSCORE 0E02     10#17  
   n HSTATE 0E45     11#16  
   n HTIMER 0E61     12# 6  
   n ICART0 90DE    103#17  
   n ICART1 9198    106# 8  
     ICART2 91E0     52/22  107# 9  
     IMMVBL 0006     20#42   50/36  
     INIT0  8532     28/13   98#33  
     INIT1  8532     30/13  100#26  
     INIT2  9049     34/14  100#40  
     INIT3  90CA     32/14  102#18  
     INTC1  00A8     69/17  122#11  
   n INTC2  00A8    122#12  
     INTF1  976F     69/27  124#14  
     INTF2  977B     69/36  124#20  
     INTFG  0FA4     15# 8   15/ 9   69/22   69/24  103/55  103/61  
     INTL1  9775     69/25  124#16  
     INTL2  9795     69/34  124#25  
     INTLE1 0007    103/54  122#15  
     INTLE2 001B    103/57  122#16  
     INTRO  898F     68/49   68/52   69#16  130/47  130/48  130/49  130/50  130/51  130/52  130/53  130/54  130/55  130/56  
                    130/57  130/58  130/59  130/60  130/61  131/ 5  131/ 5  
   n INTRX1 0FAD     15#26  
   n INTRX2 0FAE     15#27  
   n INVINC FFFF      1#18  
  s  IRQEN  D20E     48/28  
     JIFLG1 0E7A     12#58  106/49  109/10  109/44  
   n JIFLG2 0E7B     12#59  
     JMPC1  958E    122#44  131/56  132/17  
     JMPF1  9801    125#19  131/20  131/38  
   n JMPFG  0FA1     15# 5  
   n JMPLEN 0030    125#18  
   n JTMP   8639     51# 6  
  s  JYDN   0002     18/17  
  s  JYUP   0001     18/18  
  s  KBCODE D209    119/14  
     KBDINT 949C     48/30   48/32  119#13  
     KCRIT  0E52     11#37   58/15   58/56   59/32   59/44  
     KEYDB  00A5      8#53   47/54   62/58   62/60  119/19  
     KFEET0 A1DA     55/54   55/55  150#23  
     KFEET1 A224     55/54   55/55  150#53  
     KFEET2 A26E     55/54   55/55  151#26  
     KHE    0080     53#28   53/42   53/59   59/55   59/58   60/ 7   60/10   60/25   60/27  105/18  105/20  
     KHEAD0 A099     54/ 8   54/ 9  148#14  
     KHEAD1 A0D3     54/12   54/13  148#34  
     KHTYP  0040     53#29   54/10   59/58   60/ 7  105/20  
   n KILLLE 1822     16#45  
     KLARMD A10D     54/54   54/55  148#53  
     KLARMU A136     54/59   54/60  149#15  
     KLKONG A2B8     60/20   60/26  106/23  106/25  151#58  
     KNGBAC 9366    109/28  111#54  
     KONGB  0E51     11#36   53/44   53/55   53/56   58/39  
   n KONGI  0E6F     12#44  
                  ATARI CAMAC Assembler Ver  1.0A  Page 164
                                                       D1:END.            
                                                    

   n KONGKL 1827     16#50  
   n KONGMX 0E70     12#45  
   n KONGSG 1828     16#51  
     KONGX  1825     16#48   55/31   58/49   59/17  103/43  103/45  106/28  106/36  109/33  109/36  109/39  111/11  
     KONGY  1826     16#49   55/36   58/50   59/18  103/41  103/46  106/27  106/32  107/61  108/14  108/36  109/32  109/38  
                    109/51  109/60  110/60  
     KRARMD A16B     54/30   54/31  149#38  
     KRARMU A194     54/35   54/36  149#57  
     KRKONG A37A     60/18   60/24  153#15  
     KSETUP 931C    110#58  111/18  111/55  
     KSTATE 0E50     11#35   56/19   56/33   56/59   58/16   58/42   58/53   58/59   58/61   59/ 9   59/21   59/27  
     KTIMER 0E66     12#20   56/25   56/37   57/ 5   57/30   58/36   59/ 7  
     LADMAX 181F     16#38   92/58  
     LADMIN 1820     16#39   92/57  
     LADX   181E     16#37   92/56  
   n LADX1  0E76     12#53  
   n LADX2  0E77     12#54  
   n LADY1  0E74     12#51  
   n LADY2  0E75     12#52  
   n LADYX  1823     16#46  
   n LADYY  1824     16#47  
     LARME  0008     53#32   53/42   54/49   59/56   59/57   60/ 8   60/ 9   60/25   60/27  
     LARMT  0004     53#33   54/49   54/51   59/57   60/ 8  
   n LBONUS 9D42    136#26  
     LDBOT  0020     19#34   28/38   28/42   28/44   28/51   28/53   28/57   29/10   30/39   30/41   30/43   30/45   30/47  
                     30/50   30/51   30/54   30/54   30/59   30/59   31/ 6   31/ 6   31/11   31/11   32/39   32/41   32/43  
                     32/45   32/49   32/53   32/58   32/58   32/61   32/61   33/ 7   33/12   34/39   34/39   34/39   34/40  
                     34/43   34/46   34/46   34/53   34/54   34/57   91/50  
     LDBOTB 0028     19#35   28/36   28/51   28/59   28/61   91/59  
   n LDBRKP 0008     19#29  
   n LDEMPT 0000     19#30  
     LDI    mac       1#43   47/61   48/ 7   48/10   48/13   48/18   48/26   50/52   56/36   56/39   56/61   59/ 6   59/26  
                     62/21   62/30   63/60   76/34   91/ 8   91/23   91/26   93/12   93/19   97/22   97/30   98/43  100/47  
                    100/50  102/23  103/54  103/57  104/37  104/41  104/44  107/26  107/29  107/36  108/ 8  108/12  108/48  
                    110/12  111/ 6  111/ 9  112/ 5  116/20  116/30  120/38  
     LDIX   mac       1#50   59/39   59/42  101/43  
   n LDIY   mac       1#57  
     LDMASK 0038     19#27   91/33  
     LDTOP  0010     19#32   28/47   28/49   28/51   28/61   28/61   29/ 8   29/16   30/47   30/49   30/50   30/51   30/54  
                     30/56   30/59   31/ 6   31/ 6   31/11   31/11   31/15   31/15   31/18   31/18   32/47   32/49   32/53  
                     32/55   32/58   32/61   33/ 7   33/10   33/10   33/12   33/14   33/16   34/43   34/47   34/50   34/51  
                     34/51   34/52   34/53   34/60   34/60   35/ 7  
     LDTOPB 0018     19#33   28/44   28/59   29/10   29/12   92/11  
   n LDTOPM 0008     19#31  
   n LDUPP  0020     19#28  
   n LDXY   mac       2# 9  
     LENGTH 00CF      9#46   74/25  
     LET    mac     141# 9  141/19  141/21  141/23  141/25  141/27  141/29  141/31  141/33  141/35  141/37  141/43  141/45  
                    141/47  141/49  141/51  141/53  141/55  141/57  141/59  141/61  142/ 6  142/ 8  142/10  142/12  142/14  
                    142/16  142/18  142/20  142/22  142/24  142/26  142/28  142/30  142/32  142/34  142/36  142/38  142/40  
   n LFONT  0E48     11#19  
     LMAP   1800      7#34    7/51    7/52   16/15   90/32   90/34  
     LMAP0  8090     22/21   22/23   28# 7  
     LMAP1  8158     22/21   22/23   30# 7  
     LMAP2  82EB     22/21   22/23   34# 8  
     LMAP3  8233     22/21   22/23   32# 8  
     LMAPC  19FD      7#55    7/56  
                  ATARI CAMAC Assembler Ver  1.0A  Page 165
                                                       D1:END.            
                                                    

   n LMAPDA 1800      7#51  
     LMAPGS 0029      7#47    7/52   28/ 8   30/ 8   32/ 9   34/ 9  
     LMAPH  18C5      7#53    7/54   91/42   91/56   92/ 5   92/ 8   92/14   96/14   99/27   99/28   99/29   99/37   99/52  
                     99/53   99/54   99/60  104/53  
     LMAPI  1829      7#52    7/53   16/52   91/32   95/50  
     LMAPL  1961      7#54    7/55   91/38  
     LMAPSI 009C      7#50    7/53    7/54    7/55    7/56   91/23  
     LMAPWI 001A      7#48    7/50   30/18   30/19   32/20   59/31   59/35   91/12   91/29  100/20  100/20  100/20  104/60  
   n LMARIO 9F15    142#42  
     LMLINE 8039     24# 8   91/39   95/47   99/21   99/46  104/52  
     LMSEG  8040     24#13   91/46   96/16  
   n LOAD   8972     68#34  
     LOCAL  mac       4#54   26/11   48/52   49/44   50/10   50/46   51/17   52/12   53/15   61/18   62/18   64/42   68/12  
                     68/41   69/45   70/ 9   72/11   72/40   73/22   76/25   78/14   80/10   82/17   87/39   90/19   94/32  
                     95/36   97/12   97/52   98/40   99/ 9  100/39  103/16  110/56  113/38  116/11  119/12  119/42  120/10  
                    120/30  121/12  121/31  121/47  143/ 6  
     LOW4   mac      22# 9   22/21   23/ 9   23/11   23/21   23/23  
   n LSTATE 0E47     11#18  
   n LSTUPD 00AB      9# 7  
   n LTIMER 0E67     12#24  
     MAIN   8545     21/ 7   47#16  156/58  
   n MDONEP 00A8      8#58  
     MEMBAS 0000      7#18    7/19    7/30    7/31    7/32    7/33    7/34    7/35    7/36  
     MIS    1300      7#41  120/44  
     MR1C2  9618    123# 9  131/52  132/13  
     MR1F2  99F5    127#19  131/16  131/34  
   n MR1FG  0F9D     14#58  
   n MR1LEN 001D    127#18  
     MR2C2  95CE    122#55  131/53  132/14  
     MR2F2  99AB    126#56  131/17  131/35  
   n MR2FG  0F9E     14#59  
   n MR2LEN 004A    126#55  
     MSTATE 0F95     14#48   15/ 9   68/24   70/36   70/45  121/35  
     MSTCTR 0F7C     14#12   68/20   68/23   68/28   70/52  
     MSTNUM 000F     15# 9   68/19  121/34  
     MUSCS  0F86     14#26   74/24   74/34   74/37   74/41  
     MUSFS  0F85     14#25   74/22   74/39  
     MUSIC2 0FB0     15#29   69/32   69/33  103/58  
     MUSPR  8A88     69/51   69/57   70/16   70/23   72/45   72/52   73#61  
     MV     mac       2#26   62/24   62/27   63/35   63/38   63/42   63/45   76/37   76/47   78/31   78/34   78/50  110/60  
                    111/35  117/24  
     NBA    0E39     10#60   57/25   59/46  
   n NCRIT  0E38     10#59  
     NELL0  A43C    103/29  103/31  155# 8  
   n NELL1  A4B2    155#44  
   n NELL2  A528    156#22  
   n NELLI  0E73     12#49  
     NELLX  0E71     12#47  106/38  
     NELLY  0E72     12#48  106/34  
   n NFTH   0E3A     10#61  
   n NJYDN  000D     18#17  
   n NJYUP  000E     18#18  
   n NL     00FE     20#37  
     NLINES 00C6     18#12   34/12   34/12   49/16  107/29  
   n NLIVES 0E0E     10#31  
     NLMAPL 0006      7#49    7/50   28/28   59/39   91/ 8   91/26   98/43  104/37  
  s  NMIEN  D40E     62/25   98/20  
                  ATARI CAMAC Assembler Ver  1.0A  Page 166
                                                       D1:END.            
                                                    

     NOBJS  0010     13# 7   13/ 8   13/ 9   13/10   13/11   13/12   13/13   13/14   13/15   13/16   13/17   13/18   13/19  
                     13/20   13/21   13/22   13/23  
   n NPLYRS 0E01     10#16  
   n NTSCST 8409     42#17  
     NULLDL 807D     25#12   25/13   47/56   47/58   97/54   97/55  
     NWIDE  00A0     18#14   34/11   34/11   80/24   82/46   82/46  
   n NXTLIF 0E15     10#33  
     ODLINE mac       4#39   26/26   26/48   27/13   27/35  
   n OLDCLK 00D5      9#50  
   n ONXTLF 805E     24#27  
     OTRIG  00AA      9# 5   63/54   63/61  
   n PALSTU 8412     42#29  
     PAUSEC 0021     17# 8  119/15  
     PAUSEP 0E31     10#50   50/53   63/11   63/13   64/22  
     PCKONG 8659     53#53   56/30   56/32   58/41   59/13  105/19  105/21  
  s  PCOLR0 02C0     48/40   61/24   61/26   63/19  
     PERC   mac       4#24   37/ 9   37/11   37/13   37/15   37/17   37/25   37/27   37/29   37/31   37/33   38/22   38/24  
                     38/26   38/28   38/30   38/38   38/40   38/42   38/44   38/46  
     PFHAM  9C45     92/41   92/43  133#46  
     PFMSK  1B00      7#35    7/56   49/59   77/12   77/48  
     PL0    1400      7#42  120/45  
     PL1    1500      7#43  120/46  
     PL2    1600      7#44  120/47  
     PL3    1700      7#45   93/22  120/48  
   n PLAYED 0E1B     10#34  
     PMB    1000      7#33    7/38    7/39    7/40    7/41    7/42    7/43    7/44    7/45   15/33   48/13  
  s  PMBASE D407     48/14  
     PMX    0030     18# 9   30/17   30/18   30/19   32/18   32/19   32/20   34/18   34/18   34/18  
     PMY    0020     18#10   30/20   30/21   30/22   32/21   32/22   32/23   34/19   34/20   34/21  
     PNTC4  9741    123#56  131/44  132/ 5  
     PNTF4  9B4E    129#52  131/ 8  131/26  
   n PNTFG  0F95     14#50  
   n PNTLEN 002D    129#51  
  s  POKMSK 0010     48/27  
  s  PORTA  D300     64/ 7  
  s  PRIOR  D01B     63/39  
     PRIZ0  0000     30/20   30/21   30/22   30/23   32/21   32/22   32/23   32/24   34/19   34/20   34/21   34/22   93/19  
                    138#14  
     PRIZ1  000A     30/20   30/21   30/22   32/21   32/22   32/23   32/24   34/19   34/20   34/21   34/22   93/19  138#29  
     PRIZ2  0014     30/23  138#44  
     PRIZ3  001E     30/23   32/24   34/22  138#59  
   n PRIZ4  0028    139#13  
   n PRIZAM 806E     24#43  
     PRIZBA 9DEF     93/21  138#10  138/14  138/29  138/44  138/59  139/13  
   n PRIZLE 1815     16#29  
     PRIZPO 180C     16#26   61/46   62/27  
     PRIZTY 1812     16#28   93/16  
     PRIZY  180F     16#27   93/15  
     PSQUOT 00FB     20#40   87/60  101/55  101/57  101/59  101/61  
   n PSTAT  0E8C     13# 9  
   n PSTATE 0E42     11#13  
   n PSXINC 00FC     20#39  
     PSXY   00FD     20#38   87/50  101/55  101/57  101/59  101/61  
   n PTDIE1 0006     17#15  
   n PTDIE2 002D     17#16  
   n PTDIE3 004B     17#17  
   n PTDLY  0E58     11#52  
                  ATARI CAMAC Assembler Ver  1.0A  Page 167
                                                       D1:END.            
                                                    

   n PTFONT 0E44     11#15  
   n PTHEI  0010     17#12  
   n PTHYST 0002     17#13  
   n PTJCNT 0E5D     11#56  
   n PTJDIR 0E5C     11#55  
   n PTJLEV 0E57     11#51  
   n PTJXVE 0050     17#21  
   n PTLEV  0E43     11#14  
   n PTMAXX 009B     17#36  
   n PTMODE 0E59     11#53  
   n PTOLDD 0E5E     11#57  
   n PTOLDF 0E60     11#59  
   n PTOLDS 0E56     11#50  
   n PTOLDY 0E5F     11#58  
   n PTSEG  0E55     11#49  
   n PTSSEG 805A     24#22  
   n PTSVEL FE70     17#33  
   n PTVELD 0090     17#19  
   n PTWVEL 00A0     17#20  
   n PTXH   00A1      8#48  
   n PTXL   00A0      8#47  
     PTYACC 0014     17#34   17/35  
   n PTYH   00A3      8#50  
   n PTYL   00A2      8#49  
   n PTYVEL 0E5A     11#54  
   n PUTC   8D64     88#42  
     PUTC1  8D68     88/19   88#46  
   n PUTMR  8D6A     88#48  
     PUTS   8D1D     87#40  101/25  
   n PUTS1  8D19     87#10  
   n QGOVER 9D6A    136#52  
     R4LADR 9C71     30/26  134#22  
     RABBIT 8645     52#18   52/20   52/23  
   n RACKDN 0E49     11#20  
   n RACKN  0E0C     10#29  
  s  RANDOM D20A     57/49   57/54   57/57  101/46  
     RARME  0020     53#30   53/42   54/25   59/55   59/56   59/57   59/58   60/ 7   60/ 8   60/ 9   60/10   60/25   60/27  
     RARMT  0010     53#31   54/25   54/27   59/56   59/58   60/ 7   60/ 9  
   n RBONUS 9D56    136#37  
     REMAKE 8F71     90/37   97#13  
     REPCNT 0E79     12#57  104/16  104/33  105/ 9  105/23  105/29  
   n REVMSK 0D00      7#31  
     RIMASK 0040     19#25   30/49   30/50   30/54   30/59   31/ 6   31/11   31/15   31/18  
     RINC   00B4      9#20   77/55   80/14   80/40   80/61   81/ 7  
     RIVA1  9B8B     70/13   70/15  130#19  
     RIVA2  9B93     70/20   70/22  130#24  
     RIVC1  9545    122#25  130/21  
     RIVC2  95BE    122#52  130/26  
   n RIVCNT 0E6C     12#37  
     RIVD1  9840    125#37  130/22  
     RIVD2  986D    125#49  130/27  
   n RIVER0 9C95    134#56  
   n RIVER1 9C95    134#55  
   n RIVER2 9CA7    135#10  
   n RIVER3 9CA7    135# 9  
     RIVET  9C83     23/ 9   23/13   23/21   23/25  134#39  
     RIVF1  9831    125#35  130/20  
                  ATARI CAMAC Assembler Ver  1.0A  Page 168
                                                       D1:END.            
                                                    

     RIVF2  985E    125#45  130/25  
     RIVFG  0FA0     14#61   70/25  
   n RIVLEN 000F    125#34  
     RIVS1  984F    125#41  130/23  
     RIVS2  987C    125#53  130/28  
   n RKCONV 0003     18#24  
     RKCRT1 0000     18#21  103/21  
   n RKELEV 0002     18#23  
     RKRAMP 0000     18#20   56/48  
   n RKZIGR 0001     18#22  
     RLADR  9C7B     30/27  134#30  
     RN     00B3      9#19   76/47   78/50   80/17   80/51   81/ 6   81/ 8   88/53  108/13  108/33  110/17  110/41  111/10  
                    111/35  117/ 6  117/24  
     ROM    0000      1#16    7/17  
     ROTC1  988B    126# 7  131/54  132/15  
     ROTF1  991B    126#26  131/18  131/36  
   n ROTFG  0F9F     14#60  
   n ROTLEN 0090    126# 6  
     RSLADR 9C7F     30/28  134#34  
  s  RTCLOK 0012     62/39   62/41   62/49   98/23   98/25  119/51  119/53  121/15  121/17  
     RTS    8532     22/38   22/40   47# 5   98/33  100/26  100/32  102/12  102/32  
   n RUNRAM FFFF      1#17  
     RZEROB 0E30     10#44   11/38  
   n SAVBLK 933C    111#24  
     SAVKNG 9331    103/44  109/37  111#17  
     SBADIF 83D3     37#25   57/50  
     SBADLY 83D8     37#39   57/23  
   n SBFSAV 0800    103# 9  
   n SC100  0000     20#25  
     SC300  0001     20#26   24/43  
     SC500  0002     20#27   24/43  
     SC800  0003     20#28   24/43   24/44   24/44  
   n SCBON  0005     20#30  
   n SCDDLY 83F1     38#53  
     SCFLOT 0080     20#31   24/43   24/43   24/43   24/44   24/44  
     SCRGEN 8D98     52/16   90#20  103/23  
     SCRIN  1806     16#19   93/34  
     SCRLMH 8007     22#23   90/27  
     SCRLML 8003     22#21   90/29  
     SCRST  1808     16#20   93/33  
   n SCTBL  8069     24#37  
   n SCZERO 0004     20#29  
  s  SDLSTL 0230     47/57   47/59   63/30   63/32   98/16   98/17  
  s  SDMCTL 022F     48/ 5   63/35  
     SEQFLG 0E30     10#49   55/43  106/50  106/56  109/ 8  109/25  109/57  
     SETUP  863D     50/57   51#31  
     SETUP0 8FD1     28/14   98#41  
     SETUP1 8532     30/14  100#32  
     SETUP2 8532     34/15  102#12  
     SETUP3 8532     32/15  102#32  
  s  SETVBV E45C     50/39  
     SHBITS 00BB      9#25   76/35   76/60   77/ 5   77/21   77/29   78/35   78/42   78/48  117/22  117/32  117/34  117/45  
                    117/49  
     SHCNT  00BA      9#24   76/58   77/31   78/36   81/22  112/ 6  116/31  116/32  116/42  116/43  117/31  117/50  
     SHFONT 0400      7#30   43/32  100/43  100/48  100/51  100/53  100/55  103/ 9  103/10  
     SI     00B9      9#23   75/31   76/50   76/52   77/56   77/57   80/22   80/41   80/42  117/17  117/27  117/42  
     SJTAB  9BAB     68/50  130#46  
                  ATARI CAMAC Assembler Ver  1.0A  Page 169
                                                       D1:END.            
                                                    

     SKBUF  0802    103#10  111/20  111/22  111/57  111/59  
  s  SKCTL  D20F     47/26  
     SLANT  8FEE     98/46   99#10  104/58  
     SLANTB 903D     99/13  100#15  
     SLANTE 9043     99/11  100#20  
     SLEEP  950A    105/13  105/28  121#13  
   n SLSTAT 0E4A     11#21  
     SMAXBA 83DD     37#48   57/26  
   n SMAXFT 83F6     39# 5  
   n SNATTA 0001     18#40  
   n SNBEAT 0010     18#56  
   n SNBUZZ 000E     18#53  
   n SNDBUF 1C00      7#36  
   n SNDLY  8404     41# 8  
     SNDOFF 9518     47/49  105/34  121#32  
   n SNFALL 000D     18#52  
   n SNGIRL 0008     18#47  
   n SNGRIN 000E     18#54  
   n SNHAMM 000F     18#55  
   n SNHMUC 0009     18#48  
   n SNINTR 0000     18#39  
   n SNJUMP 0002     18#41  
   n SNMAR1 0006     18#45  
   n SNMAR2 0007     18#46  
     SNMIEN 00A6      8#55   48/19   62/24   98/19  
   n SNPOIN 0003     18#42  
   n SNRIVE 000B     18#50  
   n SNROTA 000A     18#49  
   n SNSPRI 000C     18#51  
   n SNSTAM 0004     18#43  
   n SNWALK 0005     18#44  
   n SPAWFB 0E40     11#10  
     SPBAR  0000     19# 5   59/42  
     SPFB   0001     19# 6  101/43  
   n SPFF   0002     19# 7  
   n SPKONG 0006     19#11  
   n SPMOVL 0005     19#10  
     SPRC4  9731    123#50  131/45  132/ 6  
   n SPRDLY 83FB     40#11  
     SPRF4  9B3F    129#40  131/ 9  131/27  
   n SPRFG  0F96     14#51  
   n SPRLEN 000F    129#39  
   n SPRPOS 8400     40#21  
   n SPRWHE 0E3F     11# 9  
   n SPSAND 0003     19# 8  
   n SPSPR  0004     19# 9  
     SRC    00B7      9#22   55/48   55/50   76/51   78/60   79/ 5   79/ 7   79/20   79/22   79/24   79/40   79/42   79/44  
                     80/16   80/19   88/ 6   88/ 9   88/57   88/59   89/ 6   89/ 7   92/42   92/44   94/55   94/57   95/17  
                     95/18   96/ 5   96/ 7   96/11   96/13  100/54  100/56  103/30  103/32  104/48  104/50  106/14  106/16  
                    106/24  106/26  107/10  107/12  107/22  107/24  108/17  108/19  108/28  108/31  110/21  110/23  110/32  
                    110/38  111/30  111/32  111/40  111/58  111/60  116/25  116/27  117/ 5  117/12  117/28  
     SRIVET 89DE     70#10  130/58  
     SROFF  9522     64/25  121#48  
   n SSIZEM 00A7      8#56  
  s  SSKCTL 0232     47/27  
     STAMP  8B6A     75/29   78#29  112/ 8  
  s  STICK0 0278     64/10  
                  ATARI CAMAC Assembler Ver  1.0A  Page 170
                                                       D1:END.            
                                                    

  s  STICK1 0279     64/17  
     STMP   00D3      9#48   68/51   68/54   68/55   74/ 8   74/ 9   74/12  
     STPC3  956C    122#32  131/49  132/10  
     STPF3  9554    122#28  131/13  131/31  
   n STPF4  0066    128#40  
     STPFG  0F9A     14#55   56/40  104/27  108/49  108/51  
     STPLEN 0018     56/39  104/26  108/48  128#38  
  s  STRIG0 0284     63/43   63/57  
  s  STRIG1 0285     63/46  
     SUSLNS 0F8D     14#34   74/28   74/31  
     SUSTAI 00D1      9#47   74/27  
   n SWAP   94C9    120#11  
     TEST   863E     50/48   52#13  
     TITLE  863C     50/56   51#18  
     TLDX   mac       3#58   55/18   76/41   90/27  111/29  
     TLDY   mac       4#11   78/44   95/61  108/16  108/22  110/20  110/26  
     TMP    0080      8#12    8/25   48/56   48/58   48/60   49/10   49/11   49/13   49/14   49/50   49/54   49/55   49/57  
                     50/13   50/14   50/19   50/21   50/22   50/24   50/26   50/29   51/ 6   76/48   77/23   78/51   79/17  
                     90/28   90/30   93/13   93/14   93/27   98/44   98/45   98/47  110/10  110/18  110/44  111/36  111/48  
                    113/41  113/50  113/52  113/54  113/57  113/59  114/22  114/37  114/38  114/48  114/50  114/52  114/55  
                    114/57  115/ 7  115/ 9  117/25  117/46  120/34  120/36  120/52  
     TMP1   0082      8#13    8/26   87/11   87/45   87/52   87/55   88/ 5   88/ 8   88/27   88/28   90/33   90/35   91/ 9  
                     91/10   91/14   91/27   92/32   99/12   99/23   99/24   99/49  101/22  101/24  113/55  114/ 5  114/ 7  
                    114/25  114/27  114/29  115/12  115/14  115/16  120/39  120/57  
     TMP1H  0083      8#26   87/10   88/30   91/24   91/31   92/28  104/38  104/51  104/57  105/ 5  105/ 6  
     TMP2   0084      8#14    8/27   87/41   87/53   88/10   88/43   89/ 8   89/12   89/15   91/30   91/40   91/45   92/29  
                     94/12   94/17   95/38   95/46  104/42  104/47  104/49  107/30  107/40  107/51  107/53  115/ 8  115/10  
                    115/11  115/19  115/21  116/18  116/23  116/34  116/49  116/51  
     TMP2H  0085      8#27   87/42   87/56   88/11   88/44   88/50   89/16   91/43   91/53   94/13   94/20   95/39   95/48  
                     95/57   96/15   96/19  104/45  107/27  107/54  116/21  116/53  
     TMP3   0086      8#15    8/28   91/47   92/22   94/34   94/38   95/40   95/42  107/34  107/39  107/44  107/46  
     TMP3H  0087      8#28   94/35   94/39   94/45   94/49   94/59   95/ 5   95/ 7   95/12   95/20   95/22  107/37  107/47  
     TMP4   0088      8#16    8/29   90/22   90/59   91/17   94/36   94/58   95/19  
   n TMP4H  0089      8#29  
     TMPH   0081      8#25   49/ 5   77/10   77/15   77/46   77/51   78/32   79/52   93/20   93/25  114/40  120/56  
     TOTDRS 0F8E     14#35   69/20   69/26   69/30   69/35   74/ 5   74/26  
  s  TRIG0  D010     63/42  
  s  TRIG1  D011     63/45  
     TRUE   FFFF      1#13    1/15    1/17    1/18  
   U UBAR   800B     22/37   22/39  
   U UFB    800B     22/37   22/37   22/39   22/39  
   n UKONG  86F6     56#16  
     ULADR  894E     22/38   22/40   66# 8  
   n UMOVEP 0E6D     12#38  
     UNPACK 937B     90/36  113#39  
   n UPDCNT 0E6E     12#39  
     UPULLE 9DDB    101/56  101/58  137#38  
   U USAND  800B     22/37   22/39  
     USND   894F     65/ 8   68#13  
   U USPR   800F     22/38   22/40  
     USR    0E08     10#25   10/35   63/56  120/13  120/16  
     USR1   0E1C     10#41  120/15  120/18  
     USRLEN 0014     10#35   10/42  120/12  
     V4LADR 9C5F     28/22   32/27   34/25  134# 6  
     VBH    8871     50/37   50/38   62#19  
     VDEST  00C2      9#36   83/17   83/18   83/34   83/38   84/16   84/18   85/17   85/18   85/24   85/25   85/34   85/35  
                     85/43   85/44   85/53   85/57  
                  ATARI CAMAC Assembler Ver  1.0A  Page 171
                                                       D1:END.            
                                                    

     VDONE  00D6      9#51   62/31  
     VDRAW  8C22     55/45   58/51   59/19   82#18  
  s  VDSLST 0200     90/42   90/44  
     VHEI   00BF      9#33   82/28   83/25   85/49  
  s  VKEYBD 0208     48/31   48/33  
     VLADR  9C69     28/23   32/28   34/26  134#14  
     VLINES 00C6     18#13   97/23   97/26   97/28  
     VOICE  89F4     70#35  130/47  130/48  130/50  130/52  130/54  130/55  130/56  130/57  130/59  130/60  
     VRINC  00C1      9#35   82/21   82/58   83/29   83/56   84/20  
     VRN    00C0      9#34   82/24   83/12   83/50   84/ 5   84/ 7   84/26  
     VSEM   009A      8#41   64/31   65/ 9   98/15   98/21  103/59  105/33  108/43  
     VSI    00C6      9#38   82/30   82/59   82/60   83/14   83/19   83/30   83/31   85/13   85/15   85/20   85/22   85/30  
                     85/32   85/40   85/45  
     VSLADR 9C6D     28/24   32/29   34/27  134#18  
     VSRC   00C4      9#37   54/14   54/15   54/39   54/40   55/ 6   55/ 7   55/19   55/21   55/47   55/49   58/46   58/48  
                     59/15   59/16   82/23   82/26   83/15   85/14   85/21   85/31   85/41  
     VTIME  0FAF     15#28   72/18   72/19  
     VTMP   008A      8#18    8/31   83/61   84/ 6  
     VTMP1  008C      8#19    8/32  
   n VTMP1H 008D      8#32  
     VTMP2  008E      8#20    8/33  
   n VTMP2H 008F      8#33  
     VTMP3  0090      8#21    8/34  
   n VTMP3H 0091      8#34  
     VTMP4  0092      8#22    8/35  
   n VTMP4H 0093      8#35  
     VTMP5  0094      8#23    8/36  
   n VTMP5H 0095      8#36  
   n VTMPH  008B      8#31  
     VXI    00BD      9#31   83/11   83/16   83/20  
     VXISAV 00BE      9#32   82/37   83/10   83/48   85/16  
     VYI    00BC      9#30   82/19   83/32   83/40   84/14   84/19   85/51   85/59  
     VZPSAV 00C7      9#39   82/40   82/42   82/44   85/23   85/33   85/42  
     WLKC1  9584    122#41  131/57  132/18  
     WLKF1  97F7    125# 9  131/21  131/39  
   n WLKFG  0FA2     15# 6  
   n WLKLEN 000A    125# 8  
  s  WSYNC  D40A     61/30  
     XI     00B0      9#16   76/38   77/13   77/18   77/33   77/49   78/38   78/56   79/35  117/18  117/39  117/41  117/57  
                    117/59  118/ 9  
     XISAV  00B1      9#17   76/37   78/57   81/19  111/14  111/38  
  s  XITVBL E462     64/26   65/10  
   n XPLODS 0E68     12#29  
   n XPLODT 0E69     12#30  
   n XPLODX 0E6A     12#31  
   n XPLODY 0E6B     12#32  
   n XYOFFS 84D2     45#19  
   n XYSIZ  8502     45#49  
     YI     00AF      9#15   76/39   76/45   78/34   80/12   88/51  108/ 6  108/20  108/35  110/ 6  110/24  110/43  110/61  
                    111/26  111/33  114/46  115/26  
     ZPBASE 0080      7#16    8/11   47/36  
   n ZTEMP1 0096      8#38  
   n ZTEMP2 0098      8#39  
